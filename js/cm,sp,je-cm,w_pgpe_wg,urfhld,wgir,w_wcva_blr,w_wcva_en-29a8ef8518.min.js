function jqueryCommon(){$.widget("custom.dropList",{options:{dropListz:[],key:"id",name:"name",inputName:"demo",width:"340px",input:!0,appendId:"",appendFun:"",endFun:""},_create:function(){},_init:function(){var e=this.element;e.find("ul").length<1&&(e.prepend("<input type='hidden' name='"+this.options.inputName+"' value=''>"),e.find(".dropList-top").css("width",this.options.width).append("<div><span>▼</span></div><input type='text'><ul></ul>")),this.options.input||e.find(".dropList-top input[type='text']").hide();var t=this.options.dropListz;t.length<1?e.addClass("data_no_click"):e.removeClass("data_no_click");var a=e.find("ul"),i=this.options.key,n=this.options.name;$.each(t,function(e,t){var s=!0;a.find("li").each(function(){t[i]==$(this).attr("data_id")&&(s=!1)}),s&&a.append("<li judgeD='"+t[n]+"' data_id='"+t[i]+"' onclick='dropListSelect($(this))' title='"+t[n]+"'>"+t[n]+"</li>")}),this._addEvent()},_addEvent:function(){var e=this.options.appendId,t=this.options.appendFun,a=this.options.endFun,i=this,n=this.element,s=n.find(".dropList-top input"),o=n.find("ul");n.find(".dropList-con").click(function(e){if(i._stopPropa(e),n.hasClass("data_no_click"))return!1;$(".dropList-top").hide(),n.find(".dropList-top").show(),n.find("input").focus()}),s.keyup(function(){var e=$(this).val();$(this).parent().find("ul li").hide().each(function(){$(this).attr("judgeD").indexOf(e)>=0&&$(this).show()})}),s.click(function(e){i._stopPropa(e)}),o.find("li").mousedown(function(){o.css("overflowY","hidden")}),o.find("li").click(function(){var s=$(this).html(),r=$(this).attr("data_id");"不填"==s?(s="",n.find(".dropList-con").removeClass("ok")):n.find(".dropList-con").addClass("ok"),n.find(".dropList-con").html(s).attr("dataSelectId",$(this).attr("data_id")).attr("title",s),""!=e&&($("#"+e).append("<li><label>"+s+"</label><span class='doorListDelete two sp'>×</span></li>"),""!=t&&t()),n.find("input[type='hidden']").val(r).attr("data_val",s),""!=a&&a(),o.css("overflowY","auto"),i._refresh()}),$("body").click(function(){i._refresh()})},destroy:function(){},_refresh:function(){var e=this.element;e.find(".dropList-top").hide(),e.find(".dropList-top input").val(""),e.find("ul li").show(),this.destroy()},_stopPropa:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),$.widget("custom.fileUpload",{options:{fun:""},_create:function(){this._addEvent()},_init:function(){},_addEvent:function(){var e=this.element,t=e.parent(),a=e.parent().parent(),i=e.parent().parent().parent(),n=e.attr("limit");e.change(function(){$(".importing_audio").length>0&&$(".importing_audio").show();var s=$(this).prop("files"),o=s.length;if(!(o<1))for(var r=0;r<o;r++)!function(s){var o=s,r=new FormData;r.append("img",o),r.append("filetype",o.type),$.ajax({type:"post",url:cFunYdj.imgUploadUrl,data:r,contentType:!1,processData:!1,dataType:"json",success:function(s){if(""!=s){var o=s.img,r=o.substring(0,o.lastIndexOf("/"))+"/artwork"+o.substring(o.lastIndexOf("/")),l=JSON.stringify(s);if(e.hasClass("editImging"))i.find("img").attr({src:r,dataBefore:l});else if($(".userDefinHtmlPage").length>0&&"block"==$(".banner").css("display")||$(".distribution_banner").length>0&&"block"==$(".banner").css("display")||$(".newWeiChatIT").length>0&&"block"==$(".imgAdRight").css("display"))$("<div class='uploadImg urls'><div class='imgPD'><img src='"+r+"' dataBefore='"+l+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='banner'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore(t);else if($(".newWeiChatIT").length>0&&"block"==$(".banner_l").css("display"))$("<div class='uploadImg urls'><div class='imgPD'><img src='"+r+"' dataBefore='"+l+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='banner'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore(t);else if($(".userDefinHtmlPage").length>0&&"block"==$(".banner1").css("display"))$("<div class='uploadImg urls'><div class='imgPD'><img src='"+r+"' dataBefore='"+l+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='banner1'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore(t);else if($(".userDefinHtmlPage").length>0&&"block"==$(".imgAdShow_banner").css("display"))$("<div class='uploadImg urls'><div class='imgPD'><img src='"+r+"' dataBefore='"+l+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='imgAdShow_banner'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore(t);else if($("#jfHome-li-lblFile").length>0&&$("#jfHome-li-lblFile").find(".jfUploadLayer").length<4)$("<div class='uploadImg urls marginLeft20'><div class='imgPD'><img src='"+r+"' dataBefore='"+l+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='imgAdShow_banner'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore($("#jfHome-li-lblFile .jfUploadLayer:last"));else if($(".jfGoodsAddImg").length>0&&$(".jfGoodsAddImgLi").length>0)$("<div class='flaotleft uploadImg'><img src='"+r+"'><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div></div>").insertBefore($(".jfGoodsAddImg"));else if($("#goodsInfoImg").length>0&&$("#goodsInfoImg").find(".newUploadImg").length<4)$("<li class='newUploadImg'><div>待审核</div><img src='"+r+"' dataBefore='"+l+"'><span class='deleteNewImg'>×</span></li>").insertBefore($("#goodsInfoImg .clear"));else{if($("#goodsInfoImg").length>0&&4==$("#goodsInfoImg").find(".newUploadImg").length)return void cFunYdj.alertMoni("已经添加4张图片了哦，不能贪多，我们会马不停蹄为你处理的~~");$(".ul-goodsImg").length>0?$("<li><img src='"+r+"'><span class='goodsSelected'></span></li>").insertBefore(a):$(".imgUpload_imgShow").length>0?$(".imgUpload_imgShow").append("<div class='flaotleft uploadImg'><img src='"+r+"' dataBefore='"+l+"'><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div></div>"):e.hasClass("audio_f")?(i.find("audio").remove(),$("<audio src='"+r+"' controls='controls' style='width:300px;'></audio>").insertBefore(i.find(".audio_con_fun")),t.find("span").text("修改音频"),a.find(".deleteAudio").show(),cfm.audioReset(),$(".importing_audio").hide()):e.hasClass("audio_img")?($(".audio_layer_main_img img").attr("src",r),cfm.audioReset()):$("<div class='flaotleft uploadImg'><img src='"+r+"' dataBefore='"+l+"'><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div></div>").insertBefore(t)}if(a.find(".uploadImg").length>=n&&(t.hide(),i.parent().find(".sel_imgList_ul").hide()),$(".newWeiChatIT").length>0&&$(".newWeiChatITs").length<1&&($("#img").remove(),$("<img id='img' src='"+$(".ul-contain-file img").attr("src")+"'>").insertBefore($(".newWeiChatITLeftMainLayerTop #textarea"))),$(".newWeiChatITs").length>0&&$(".littleWeiChatIT.on img").attr("src",r),$(".userDefinHtmlModel_main").length>0){var d=$(".userDefin-liLayer.on"),c="";switch(v=d.attr("dataClass")){case"imgAd":c="imgAdRight";break;case"banner_l":c="banner_l"}if(""!=c){var p="<div class='imgAd_swiper'><div class='swiper-container swiper-container-imgAd'><div class='swiper-wrapper'>";$("."+c+" .uploadImg").each(function(){var e=$(this),t=e.find(".weiChatBlurs").val();""==t&&(t="javascript:;"),p=p+"<div class='swiper-slide'><a href='"+t+"'><img src='"+e.find("img").attr("src")+"'></a></div>"});var u="",f="<div class='liLayerMove'></div>",h="<span class='action delete'>删除</span>";$(".container_homeUserD").length>0&&"imgAd"==v&&(u=" move_limit",h="",f=""),d.empty().append(p+"</div><div class='swiper-pagination swiper-pagination0'></div></div></div><div class='userDefin-liLayerBorder"+u+"'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span>"+h+"</div>"+f+"</div>"),d.find(".swiper-slide").length>1&&new Swiper(d.find(".swiper-container-imgAd"),{pagination:d.find(".swiper-pagination"),paginationClickable:!0,autoplay:"3000",autoplayDisableOnInteraction:!1,spaceBetween:0})}"block"==$(".nav_a").css("display")&&(e.hasClass("edit_copy")&&i.replaceWith("<div class='flaotleft uploadImg'><img src='"+r+"'><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+n+"'>编辑</label><label class='editImgimgDelete'>删除</label></div></div>"),cfm.reset_nav_main())}if($(".userDefinHtmlPage").length>0&&"block"==$(".banner").css("display")&&(g="<div class='swiper-container index_scrolls'><div class='swiper-wrapper index_scrollss banner150'>",$(".banner .uploadImg").each(function(){var e=$(this).find(".weiChatBlurs").attr("value");""==e&&(e="javascript:void(0);"),g=g+"<div class='swiper-slide'><a href='"+e+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),g+="</div><div class='swiper-pagination swiper-pagination0'></div></div>",$(".cont-banner .swiper-container").replaceWith(g),startSwiper()),$(".distribution_banner").length>0&&"block"==$(".banner").css("display")&&(g="<div class='swiper-container'><div class='swiper-wrapper banner150'>",$(".banner .uploadImg").each(function(){var e=$(this).find(".weiChatBlurs").attr("value");""==e&&(e="javascript:void(0);"),g=g+"<div class='swiper-slide'><a href='javascript:;' hrefVal='"+e+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),g+="</div><div class='swiper-pagination swiper-pagination0'></div></div>",$(".cont-banner .swiper-container").replaceWith(g),startSwiper()),$(".userDefinHtmlPage").length>0&&"block"==$(".banner1").css("display")){var g="<div class='swiper-container1 index_scrolls'><div class='swiper-wrapper index_scrollss banner150'>";$(".banner1 .uploadImg").each(function(){var e=$(this).find(".weiChatBlurs").attr("value");""==e&&(e="javascript:void(0);"),g=g+"<div class='swiper-slide'><a href='"+e+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),g+="</div><div class='swiper-pagination swiper-pagination1'></div></div>",$(".cont-banner1 .swiper-container1").replaceWith(g),startSwiper1()}if($(".userDefinHtmlPage").length>0&&"block"==$(".imgAdShow_banner").css("display")&&($(".imgAdShow img").attr("src",r),$(".imgAdShow a").attr("href","javascript:void(0);")),$(".userDefinHtmlPage").length>0&&"block"==$(".layer1").css("display")){var m=e.parent().parent().parent().parent().index();e.hasClass("editImging")&&(m=e.parent().parent().parent().parent().parent().parent().index()),$(".nav-options li:eq("+m+") img").attr("src",r)}if($(".userDefinHtmlPage").length>0&&"block"==$(".layer2").css("display")){var v;switch(m=e.parent().parent().parent().parent().index()){case 0:v="nav-options-left";break;case 1:v="nav-options-right-top";break;case 2:v="nav-options-right-bottom-left";break;case 3:v="nav-options-right-bottom-right"}$("."+v+" img").attr("src",r)}$(".userDefinHtmlPage").length>0&&"block"==$(".goodsLayer").css("display")&&rightGoodsReset(),$(".memberCardCon").length>0&&($(".memberCardCon_mwb").css("display","block"),$(".memberCardCon").attr("style","background:url("+r+") no-repeat center;background-size:100% 100%;")),$(".magicCube").length>0&&"block"==$(".magicCube").css("display")&&($(".magicCube_controls .current").empty().append("<img src='"+r+"'>").click(),cfm.resetMagicCubeImg()),$(".goodsGroups_hp").length>0&&"block"==$(".goodsGroups_hp").css("display")&&($(".userDefin-liLayer.on .goodsGroup_name .img").removeClass("no_img"),$(".userDefin-liLayer.on .goodsGroup_name .img img").attr("src",r),$(".userDefin-liLayer.on .goodsGroups_hpm").attr("data_src",r))}},fail:function(){$(".importing_audio").hide()},error:function(){return cFunYdj.alertMoni("上传失败"),$(".importing_audio").hide(),!1}})}(s[r]),r==o-1&&e.val("")})},_destroy:function(){},_stopPropa:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),$.widget("custom.getOrderState",{options:{num:"",time:[]},_create:function(){this._addEvent()},_init:function(){},_addEvent:function(){var e=this.options.num.split(""),t=this.options.time,a="",i="";switch(e.length){case 2:i="width600";break;case 3:i="width265";break;case 4:i="width153";break;case 5:i="width98";break;case 6:i="width64"}for(var n=0;n<e.length;n++){var s="",o=t[n].split(" ")[0]+"<br />"+t[n].split(" ")[1];switch(e[n]){case"1":s="买家已下单";break;case"2":s="买家已取消";break;case"3":s="待提货";break;case"4":s="买家已提货";break;case"5":s="待收货";break;case"6":s="买家已收货";break;case"7":s="待支付";break;case"8":s="买家已付款";break;case"9":s="待退款";break;case"a":s="退款成功";break;case"b":s="待退货";break;case"c":s="收到买家退货";break;case"d":s="买家已申请退货";break;case"e":s="买家已提货";break;case"f":s="买家已收货";break;case"g":s="买家已提货付款"}var r="<li class='gap "+i+"'></li><li><div class='name'>"+s+"</div><div class='imgBg'></div><div class='time'>"+o+"</div></li>";"1"==e[n]&&(r="<li><div class='name'>"+s+"</div><div class='imgBg'></div><div class='time'>"+o+"</div></li>"),"待"==s.split("")[0]&&(r="<li class='gap "+i+" colorGb'></li><li><div class='name colorG'>"+s+"</div><div class='imgBg imgBgH'></div><div class='time'>"+o+"</div></li>"),a+=r}$(".orderState").html(a+"<div class='clear'> </div>"),this._destroy()},_destroy:function(){},_stopPropa:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),$.widget("custom.colorSelect",{options:{colorArray:["#B4E9EF","#CFF8E6","#C876C2","#C697C3","#A6A3CE","#6469A9","#E6DED1","#ECA29F","#FA4A54","#76C08D","#E3A335","#B47941"],colorId:[],conName:"",conNameC:"",inputHiddenId:"",resFun:""},_create:function(){},_init:function(){var e=this.element,t=this.options.colorId,a=!1;if(t.length>0&&(a=!0),0==e.parent().find(".colorSelect").length){for(var i=this.options.colorArray,n="<tr>",s=0;s<i.length;s++)0!=s&&s%6==0&&s!=i.length-1&&(n+="</tr><tr>"),n=a?n+"<td style='background-color:"+i[s]+";' colorSelect='"+i[s]+"' dataId='"+t[s]+"'></td>":n+"<td style='background-color:"+i[s]+";' colorSelect='"+i[s]+"'></td>",s==i.length-1&&(n+="</tr>");e.parent().css("position","relative").append("<table class='colorSelect'></table>").find(".colorSelect").append(n)}this._addEvent()},_addEvent:function(){var e=this,t=this.element,a=t.parent().find(".colorSelect");t.unbind().click(function(t){e._stopPropa(t),a.show()}),a.find("td").unbind().click(function(){var i=$(this).attr("colorSelect"),n=$(this).attr("dataId");e.options.inputHiddenId&&(t.attr("value",i),t.parent().find("#"+e.options.inputHiddenId).attr("value",i),t.parent().find("#"+e.options.inputHiddenId).attr("dataId",n)),e.options.conName&&$(e.options.conName).css("backgroundColor",i),e.options.conNameC&&$(e.options.conNameC).css("color",i),t.css("backgroundColor",i),a.hide(),""!=e.options.resFun&&e.options.resFun()}),$("body").click(function(t){e._stopPropa(t),a.hide()}),e._destroy()},_destroy:function(){},_stopPropa:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),$.widget("custom.getStores",{options:{dropListz:[],key:"id",name:"name",appendId:""},_create:function(){},_init:function(){var e=this.element;e.prepend("<input type='hidden' name='"+this.options.inputName+"' value='"+e.find(".dropList-con").text()+"'>"),e.find(".dropList-top").append("<ul></ul><div class='dropList-top-fun'><span class='dropList-top-funSure'>确定</span><span class='dropList-top-funCancel'>取消</span></div>");var t=this.options.dropListz,a=e.find("ul"),i=this.options.key,n=this.options.name;$.each(t,function(e,t){a.append("<label title='"+t[n]+"'><li judgeD='"+t[n]+"' data_id='"+t[i]+"'><input type='checkbox'>"+t[n]+"</li></label>")}),this._addEvent()},_addEvent:function(){var e=this,t=this.element,a=this.options.appendId;t.find(".dropList-con").click(function(a){e._stopPropa(a),$(".dropList-top").hide(),t.find(".dropList-top").show()}),t.find(".dropList-top-funSure").click(function(){var i="";t.find("input[type='checkbox']").each(function(){"checked"==$(this).attr("checked")&&(""!=e.options.appendId&&$(a).append("<li title='"+$(this).parent().text()+"'><label data_id='"+$(this).parent().attr("data_id")+"'>"+$(this).parent().text()+"</label><span class='doorListDelete two sp'>×</span></li>"),i=i+$(this).parent().attr("data_id")+",")}),t.find("input[type='hidden']").val(i),e._refreth()}),t.find(".dropList-top-funCancel").click(function(){e._refreth()}),t.find("label").click(function(t){e._stopPropa(t)}),$("body").click(function(){e._refreth()})},_refreth:function(){var e=this.element;e.find(".dropList-top").hide(),e.find(".dropList-top input[type='checkbox']").removeAttr("checked"),this._destroy()},_destroy:function(){},_stopPropa:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),$.widget("custom.getGoods",{options:{dropListz:[],key:"id",name:"name",goodsLayer:"goods",goodsList:[],appendId:"",appendFun:"",appendDom:"",judgeIdExist:"",selectgroupFun:"",endFun:""},_create:function(){},_init:function(){var e=this.element,t=this,a=e.parent(),i=this.options.dropListz,n=this.options.goodsList,s=this.options.goodsLayer,o=this.options.key,r=this.options.name,l=this.options.selectgroupFun,d=t.options.nGroupSelFun;if(cFunction_resetSecond=d,$(".chooseGoods").length<=0){var c="<div class='inputBg'></div><div class='addStoreGroup chooseGoods'><div class='positionRe'><div class='nGroupSel_bg'></div><div class='storeGroupHeader'>选择商品<div class='storeGroupHeaderPos'><label class='input'><input type='text' id='searchFloat' class='mid-textinput labelInput' placeholder='名称/编码/厂家/品牌/条形码'><img src='static/img/sc.png'></label></div></div><ul class='addStoreGroupMain'></ul><div class='addStoreFun'><label class='allSelect storeGroupAllSelect'><input type='checkbox'>全选</label><div class='pager'><a href='javascript:void(0)' class='lastPager'>上一页</a><a href='javascript:void(0)' class='nowPager'>第1页</a><a href='javascript:void(0)' class='nextPager'>下一页</a>共100页 共100条，跳转至<input type='text' class='pagerInput'>页<a href='javascript:void(0)' class='toPager'>确定</a></div><span class='forSure chooseGroupFun'>确定</span><span class='cancel chooseGroupFun'>取消</span></div></div></div>";"stores"==s&&(c="<div class='inputBg'></div><div class='addStoreGroup chooseGoods'><div class='positionRe'><div class='storeGroupHeader'>选择门店<div class='storeGroupHeaderPos'><label class='input'><input type='text' id='searchFloat' class='mid-textinput labelInput' placeholder='请输入门店名称或编码'><img src='static/img/sc.png'></label></div></div><ul class='addStoreGroupMain'></ul><div class='addStoreFun'><label class='allSelect storeGroupAllSelect'><input type='checkbox'>全选</label><div class='pager'><a href='javascript:void(0)' class='lastPager'>上一页</a><a href='javascript:void(0)' class='nowPager'>第1页</a><a href='javascript:void(0)' class='nextPager'>下一页</a>共100页 共100条，跳转至<input type='text' class='pagerInput'>页<a href='javascript:void(0)' class='toPager'>确定</a></div><span class='forSure chooseGroupFun'>确定</span><span class='cancel chooseGroupFun'>取消</span></div></div></div>"),$(c).insertBefore(e)}if(a.find(".storeGroup_group").remove(),""!=i){"goods"==s?($("<div class='storeGroup_group'><div class='nGroupSel'><div class='dropList paddingTop8'><div class='nGroupSelMain'><div><span>▼</span></div><div class='nGroupSelMain_ul'><ul class='flaotleft nGroup_first'></ul><ul class='flaotleft nGroup_second'></ul><div class='clear'> </div></div></div><div class='dropList-con width148' title='选择分组'>选择分组</div></div><ul class='nGroupSelMainRes'><div class='clear'> </div></ul><div class='clear'> </div></div><div class='storeGroup_group_down' otherS='▲'>▼</div><div class='storeGroup_group_search'>筛选</div></div>").insertAfter($(".chooseGoods .storeGroupHeader")),$.each(i,function(e,t){var i=t.child,n="";n=i.length>0?"<li data_id='"+t[o]+"' data_value='"+JSON.stringify(i)+"' dataChecked='' dataCheckedValue=''><label>"+t[r]+"</label></li>":"<li data_id='"+t[o]+"' data_value='noMsg' dataChecked='' dataCheckedValue=''><label><input type='checkbox' onclick='inputCheckBindClick($(this),1)'><span>"+t[r]+"</span></label></li>",a.find(".storeGroup_group .nGroupSelMain_ul .nGroup_first").append(n)}),a.find(".storeGroup_group .nGroupSelMain_ul .nGroup_first li").hover(function(){var e=$(this),t=e.attr("data_value"),i=a.find(".storeGroup_group .nGroupSelMain_ul .nGroup_second");if(i.hide(),"noMsg"!=t){i.css("height",parseInt(a.find(".storeGroup_group .nGroupSelMain_ul .nGroup_first").height())+5).empty().show().attr("dataBId",e.attr("data_id"));var n=cFunYdj.strToJson(t),s=e.attr("dataChecked"),l=[];""!=s&&(s+=","),s.indexOf(",")>-1&&(l=s.split(",")),$.each(n,function(e,t){for(var a="<li data_id='"+t[o]+"' data_value='noMsg'><label><input type='checkbox' onclick='inputCheckBindClick($(this),2)'><span>"+t[r]+"</span></label></li>",n=0;n<l.length;n++)l[n]==t[o]&&(a="<li data_id='"+t[o]+"' data_value='noMsg'><label><input type='checkbox' checked='checked' onclick='inputCheckBindClick($(this),2)'><span>"+t[r]+"</span></label></li>");i.append(a)})}},function(){})):"stores"==s&&($("<div class='storeGroup_group'>门店分组<ul></ul><div class='storeGroup_group_down' otherS='▲'>▼</div><div class='storeGroup_group_search'>筛选</div></div>").insertAfter($(".chooseGoods .storeGroupHeader")),$.each(i,function(e,t){a.find(".storeGroup_group ul").append("<li data_id='"+t[o]+"'>"+t[r]+"</li>")})),a.find(".storeGroup_group_down").click(function(e){t._stopPropa(e);var i=$(this).html(),n=$(this).attr("others");$(this).html(n),$(this).attr("others",i),a.find(".storeGroup_group>ul,.nGroupSelMainRes").toggleClass("heightAuto")});var p=null;a.find(".storeGroup_group>ul>li").click(function(e){t._stopPropa(e),$(this).toggleClass("on"),clearTimeout(p),""!=l&&(p=setTimeout(function(){l()},1500))}),a.find(".nGroupSel .dropList-con").click(function(){$(".nGroupSelMain,.nGroupSel_bg").show()}),a.find(".nGroupSel_bg,.nGroupSelMain div:first").click(function(){$(".nGroupSelMain,.nGroupSel_bg").hide(),d&&d();var e="";$(".nGroup_first>li").each(function(){var t=$(this),a=t.attr("dataChecked"),i=t.attr("dataCheckedValue");if(""!=a){var n="",s=a,o=i;if(a.indexOf(",")>-1){s=a.split(","),o=i.split(",");for(var r=0;r<s.length;r++)n=n+"<li dataPId='"+t.attr("data_id")+"' data_id='"+s[r]+"'>"+o[r]+"<span class='nGroupSelMainRes_close' onclick='resetSecondClass($(this))'>×</span></li>"}else n="<li dataPId='"+t.attr("data_id")+"' data_id='"+s+"'>"+o+"<span class='nGroupSelMainRes_close' onclick='resetSecondClass($(this))'>×</span></li>";e+=n}}),$(".nGroupSelMainRes").empty().append(e+"<div class='clear'> </div>")})}else a.find(".chooseGoods .addStoreGroupMain").css("margin-top","10px");a.find(".addStoreGroupMain").empty(),"goods"==s?(a.find(".addStoreGroupMain").append("<li class='layer layerHeader'><ul><li class='storeGroup_checkbox'></li><li class='storeGroup_img'>图片</li><li class='storeGroup_name'>名称</li><li class='storeGroup_standard'>规格</li><li class='storeGroup_coding'>编码</li><li class='storeGroup_production'>生产厂家</li><div class='clear'></div></ul></li><div class='dataLoading'><img src='static/img/loading.gif'>数据加载中……</div>"),""!=n&&$.each(n,function(e,t){a.find(".addStoreGroupMain").append("<li class='layer' data_id='"+t.productCode+"'  onclick='layerCheckSelect($(this))'><ul><li class='storeGroup_checkbox'><input type='checkbox' onclick='inputCheckBindClick($(this))'></li><li class='storeGroup_img'><img src='"+cFunYdj.judgeGetPictureUrl(t.mainPicture)+"'></li><li class='storeGroup_name' title='"+t.goodsName+"'>"+t.goodsName+"</li><li class='storeGroup_standard' title='"+t.goods_standard+"'>"+t.goods_standard+"</li><li class='storeGroup_coding' title='"+t.platformgoodscode+"'>"+t.platformgoodscode+"</li><li class='storeGroup_production' title='"+t.manufacturing_enterprise+"'>"+t.manufacturing_enterprise+"</li><div class='clear'> </div></ul></li>")})):"stores"==s&&(a.find(".addStoreGroupMain").append("<li class='layer layerHeader'><ul><li class='storeGroup_checkbox'></li><li class='storeGroup_img'>图片</li><li class='storeGroup_coding'>编码</li><li class='storeGroup_production'>名称</li><li class='storeGroup_line'></li><div class='clear'> </div></ul></li><div class='dataLoading'><img src='static/img/loading.gif'>数据加载中……</div>"),""!=n&&$.each(n,function(e,t){a.find(".addStoreGroupMain").append("<li class='layer' data_id='"+t.storeid+"'  onclick='layerCheckSelect($(this))'><ul><li class='storeGroup_checkbox'><input type='checkbox' onclick='inputCheckBindClick($(this))'></li><li class='storeGroup_img'><img src='"+t.pictures+"'></li><li class='storeGroup_coding' title='"+t.storecode+"'>"+t.storecode+"</li><li class='storeGroup_production' title='"+t.storename+"'>"+t.storename+"</li><li class='storeGroup_line'></li><div class='clear'> </div></ul></li>")})),this._addEvent()},_addEvent:function(){var e=this.element,t=this,a=e.parent(),i=t.options.listStyle;$(".inputBg,.chooseGoods").fadeIn(),e.click(function(){$(".inputBg,.chooseGoods").fadeIn()}),$("body").click(function(){a.find(".storeGroup_group ul").removeClass("heightAuto")}),a.find(".allSelect input[type='checkbox']").click(function(e){t._stopPropa(e);var a=$(this);setTimeout(function(){"checked"==a.attr("checked")?(a.parent().parent().parent().find("input[type='checkbox']").removeAttr("checked"),a.removeAttr("checked")):(a.parent().parent().parent().find("input[type='checkbox']").attr("checked","checked"),a.attr("checked","checked"))},100)}),a.find(".addStoreFun .cancel").click(function(e){t._stopPropa(e),a.find(".inputBg,.chooseGoods").fadeOut(),t._refresh(),t._destroy()}),a.find(".addStoreFun .forSure").click(function(e){t._stopPropa(e);var n=t.options.appendId,s=t.options.appendFun,o=t.options.goodsLayer,r=t.options.appendDom,l=t.options.judgeIdExist;a.find(".addStoreGroupMain .layer").each(function(){if("checked"==$(this).find("input[type='checkbox']").attr("checked")&&""!=n){if("goods"==o){var e=!1,t=$(this).attr("data_id");""!=l&&r.find(">li").each(function(){$(this).attr("data_id")==t&&(e="exist")}),"exist"!=e&&("2"==i?$("<li data_id='"+$(this).attr("data_id")+"'><img src='"+$(this).find(".storeGroup_img img").attr("src")+"'><p class='p-list name' title='"+$(this).find(".storeGroup_name").text()+"'>"+$(this).find(".storeGroup_name").text()+"</p><span class='selected-delete' onclick='deleteGoodsList_center($(this))'>×</span></li>").insertBefore("#"+n+" .selectGoodsExitLi"):$("#"+n).append("<li data_id='"+$(this).attr("data_id")+"'><label>"+$(this).find(".storeGroup_name").text()+"</label><span class='doorListDelete two sp'>×</span></li>"))}else if("stores"==o){var e=!1,t=$(this).attr("data_id");if(""!=l&&r.find("li").each(function(){$(this).attr("data_id")==t&&(e="exist")}),"exist"!=e){var a="<li data_id='"+$(this).attr("data_id")+"'><p class='flaotleft' title='"+$(this).find(".storeGroup_production").text()+"'>"+$(this).find(".storeGroup_production").text()+"</p>&nbsp;&nbsp;<label class='flaotleft font-color-white font-size-shisi doorListDelete two'>×</label><div class='clear'> </div></li>";"storeList"==r.attr("id")&&(a="<li data_id='"+t+"'><label>"+$(this).find(".storeGroup_production").text()+"</label><span class='doorListDelete two sp'>×</span></li>"),"storeListadd"==r.attr("id")&&(a="<li data_id='"+t+"' class='li-container-right font-color-liu'>"+$(this).find(".storeGroup_production").text()+"<a class='font-color-blue  nonevisibility doorListDelete two'>删除</a></li>"),r.find(".clear").length>0?$(a).insertBefore(r.find(".clear:last")):r.append(a+"<div class='clear'> </div>")}}""!=s&&s()}}),t._refresh()}),""!=this.options.endFun&&this.options.endFun()},_refresh:function(){var e=this,t=this.element.parent();$(".inputBg").fadeOut(),t.find(".chooseGoods").fadeOut(),setTimeout(function(){$(".chooseGoods").remove(),t.find(".inputBg").remove(),e._destroy()},300)},_destroy:function(){},_stopPropa:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),$.widget("custom.getMsgChoose",{options:{type:"",cArray:[],appendId:""},_create:function(){},_init:function(){for(var e=this,t=e.options.type,a=e.options.cArray,i="",n=0;n<a.length;n++)i=i+"<li>"+a[n]+"</li>";$("body").append("<div class='couponMsgShow'><div class='conponMsgShowHeader'><div class='couponMsgShowName'>设置"+t+"信息</div><div class='closeCouponMsg'>×</div><div class='clear'> </div></div><div class='couponMsgShowCenter'><div class='couponMsgShowLayer couponMsgShowLayerL'><div><div class='couponMsgShowLayerLname'>请选择选填信息</div><ul>"+i+"</ul></div></div><div class='couponMsgShowLayerC'><span class='couponMsgLayerCd'>添加</span></div><div class='couponMsgShowLayer couponMsgShowLayerR'><div><div class='couponMsgShowLayerLname'>"+t+"信息</div><ul></ul></div></div><div class='clear'> </div></div><div class='couponMsgShowFooter'><span class='couponMsgShowSure'>确定</span></div></div>"),$(".couponMsgShow,.inputBg").fadeIn(),this._addEvent()},_addEvent:function(){var e=this,t=(this.element,e.options.appendId);$(".couponMsgLayerCd").click(function(){var e="";$(".couponMsgShowLayerL li.on").each(function(){e=e+"<li><span class='name'>"+$(this).text()+"</span><span class='close' onclick='cFunYdj.deleteParentN($(this))'>×</span></li>"}),$(".couponMsgShowLayerR ul").empty().append(e)}),$(".couponMsgShowLayerL li").click(function(){$(this).toggleClass("on")}),$(".closeCouponMsg").click(function(){e._refreth()}),$(".couponMsgShowSure").click(function(){var a="",i=$("#"+t);$(".couponMsgShowLayerR li").each(function(){var e=$(this).find(".name").text(),t=!0;i.find("li").each(function(){$(this).find(".name").text()==e&&(t=!1)}),t&&(a=a+"<li><span class='name'>"+e+"</span><span class='close' onclick='cFunYdj.deleteParentJ($(this))'>×</span></li>")}),i.append(a),e._refreth()})},_refreth:function(){var e=this;$(".couponMsgShow,.inputBg").fadeOut(),setTimeout(function(){$(".couponMsgShow").remove(),e._destroy()},300)},_destroy:function(){},_stopPropa:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),$.widget("custom.getArcCanvas",{options:{canvas:"myCanvas",bgColor:"#DBD8D3",arcColor:"#DF003C",maxValue:"75",x:50,y:50,r:40},_create:function(){},_init:function(){function e(){if(t(i,L),D=setTimeout(function(){e()},5),L>=a)return clearTimeout(D),void(L=0);L+=1}function t(e,t){var a=document.getElementById(e);try{var i=a.getContext("2d");i.clearRect(0,0,a.width,a.height),i.beginPath(),i.strokeStyle=l,i.lineWidth=d;var r={x:n,y:s,r:o};i.arc(r.x,r.y,r.r,0,Math.PI*t/50,!1),i.stroke()}catch(e){}}var a,i=this.element.attr("id"),n=this.options.x,s=this.options.y,o=this.options.r,r=this.options.bgColor,l=this.options.arcColor,d=this.options.arcLine,c=this.options.judgeStyle;if("time"==c){var p=this.options.timeStart,u=this.options.timeEnd,f=u.split("/")[0],h=u.split("/")[1],g=u.split("/")[2],m=new Date,v=m.getFullYear(),y=m.getMonth()+1,b=m.getDate();if(v>f||v==f&&y>h||v==f&&y==h&&b>g)a=100;else{var w={D:864e5,H:36e5,M:6e4,S:1e3,T:1},_=Date.parse(p),x=Date.parse(u),C=Date.parse(v+"/"+y+"/"+b);a=((C-_)/w.D/((x-_)/w.D)*100).toFixed(0)}}else if("number"==c){var k=this.options.numStart,S=this.options.numEnd;(a=(S/k*100).toFixed(0))>100&&(a=100)}$("#"+i).parent().find(".perC").text(a+"%");var T=document.getElementById(i+"Bg");try{var I=T.getContext("2d");I.clearRect(0,0,T.width,T.height),I.beginPath(),I.strokeStyle=r,I.lineWidth=d;var j={x:n,y:s,r:o};I.arc(j.x,j.y,j.r,0,2*Math.PI,!1),I.stroke();var D,L=0;e(),this._destroy()}catch(e){}},_destroy:function(){}}),$.widget("custom.getLineShow",{options:{dataObj:{},l_style:"",id0:"",id1:"",id2:""},_create:function(){},_init:function(){var e=this,t=this.element,a=e.options.l_style,i=e.options.id0,n=e.options.id1,s=e.options.id2,o=e.options.dataObj,r=[],l=[],d=[],c=[],p=o.length,u=t.find(".posDataShow ul"),f=[];if(p<=7)for(w=0;w<p;w++)f.push(w);else{var h=(p-1)%5,g=(p-1)%6,m=5;m=(p-1)%4<=h?5:h<=g?6:7;var v=parseInt((p+1)/m),y=0;f.push(y);for(w=1;w<m;w++)y+=v,f.push(y)}u.empty().append("<div class='clear'> </div>");var b=800/(p-1);1==p&&(b=800);for(var w=0;w<o.length;w++)r.push(o[w].data),l.push(o[w][i]),n&&d.push(o[w][n]),c.push(o[w][s]);var _;if(""==a){var x=e._maopaoOrder(r);_=e._getNewValue(x),e._addPoint(p,f,r,l,d,c,b,o,"one",_)}else if("two"==a)_=(C=e._maopaoOrder(l))>(k=e._maopaoOrder(d))?e._getNewValue(C):e._getNewValue(k),e._addPoint(p,f,r,l,d,c,b,o,"two",_);else if("three"==a){var C=e._maopaoOrder(l),k=e._maopaoOrder(d),S=e._maopaoOrder(c);_=d.length>0?C>k?e._getNewValue(C):e._getNewValue(k):e._getNewValue(C);var T=e._getNewValuey(S);e._addPoint(p,f,r,l,d,c,b,o,"three",_,T)}t.find(".floatLine").remove(),e._addLines(b,p,a);var I,j=t.find(".dataShowLineChart").height();t.find(".posDataShow li").hover(function(){var e=$(this);I=e,e.find(".floatLineBorder").css("display","inline-block"),e.find(".floatPoint").show(),t.find(".floatDaTa").show();var o=e.find(".floatPoint:eq(0)"),r=e.find(".floatPoint:eq(1)"),l=e.find(".floatPoint:eq(2)"),d=o;if("two"==a?parseFloat(r.css("top"))<parseFloat(o.css("top"))&&(d=r):"three"==a&&(parseFloat(r.css("top"))<parseFloat(o.css("top"))&&(d=r),l.length>0&&parseFloat(l.css("top"))<parseFloat(r.css("top"))&&(d=l)),!(d.length<1)){var c=parseFloat(d.offset().left-$(".posDataShow").offset().left-77)+"px",p=parseFloat(d.css("top")),u=e.find(".bottomTime").text(),f=u.split("-")[0]+"/"+u.split("-")[1]+"/"+u.split("-")[2],h="日";switch(new Date(f).getDay()){case 0:h="日";break;case 1:h="一";break;case 2:h="二";break;case 3:h="三";break;case 4:h="四";break;case 5:h="五";break;case 6:h="六"}$(".floatDaTa .time").text(u+" 星期"+h),""==a?$(".floatDaTa .date").text("当前销售额："+d.attr("datas")):"two"==a?($(".floatDaTa ."+i+" span").text(o.attr("datas")),$(".floatDaTa ."+n+" span").text(r.attr("datas"))):"three"==a&&($(".floatDaTa ."+i+" span").text(o.attr("datas")),n?$(".floatDaTa ."+n+" span").text(r.attr("datas")):l=r,$(".floatDaTa ."+s+" span").text(l.attr("datas"))),$(".floatDaTa").css({left:c,bottom:j-p+25+"px",top:"auto",opaticy:"0"}).show(),clearTimeout(void 0)}},function(){t.find(".posDataShow li .floatLineBorder,.floatPoint,.floatDaTa").hide()}),t.find(".floatDaTa").hover(function(){I.find(".floatLineBorder").css("display","inline-block"),I.find(".floatPoint").show(),t.find(".floatDaTa").show(),clearTimeout(void 0)},function(){t.find(".posDataShow li .floatLineBorder,.floatPoint,.floatDaTa").hide()}),this._destroy()},_addPoint:function(e,t,a,i,n,s,o,r,l,d,c){for(var p=0,u=0,f=this.element,h=e,g=l,m=a,v=i,y=n,b=s,w=d,_=c,l=0;l<h;l++){var x=0,C="off",k="judgeOn";l==p&&(C="on",p=t[++u],0==m[l]&&(k="judgeOff")),0==l&&1!=h&&(x=-o/2);var S="";if("one"==g)S="<div class='floatPoint point' style='top:"+(250-m[l]/w*250-4+50)+"px;' datas='"+m[l]+"'></div>";else if("two"==g){var T=250-v[l]/w*250-4+50,I=250-y[l]/w*250-4+50;S="<div class='floatPoint point' style='top:"+T+"px;' datas='"+v[l]+"'></div><div class='floatPoint point' style='top:"+I+"px;' datas='"+y[l]+"'></div>"}else if("three"==g){var T=250-v[l]/w*250-4+50,I=250-y[l]/w*250-4+50,j=250-b[l]/_*250-4+50,D="";D="<div class='floatPoint point' style='top:"+T+"px;' datas='"+v[l]+"'></div>";var L="";y.length>0&&(L="<div class='floatPoint point' style='top:"+I+"px;' datas='"+y[l]+"'></div>");S=D+L+("<div class='floatPoint point' style='top:"+j+"px;' datas='"+b[l]+"'></div>")}$("<li class='"+C+" "+k+"' style='width:"+o+"px;margin-left:"+x+"px'><div class='liMain'><span class='floatLineBorder'></span>"+S+"<div class='bottomPoint point'></div><div class='bottomTime'>"+r[l].time+"</div></div></li>").insertBefore(f.find(".posDataShow ul .clear"))}},_addLines:function(e,t,a){var i=this,n=i.element,s=[],o=[],r=[],l=[];if(""==(a=a)){n.find(".posDataShow ul li").each(function(){var t=$(this),a=t.find(".floatPoint"),i=95+e*t.index(),n=parseFloat(a.css("top").split("px")[0])+4;s.push({left:i,top:n})});for(var d=3/t,c=0;c<s.length;c++)if(c!=s.length-1){var p=c+1,u=i._getAngle(s[c],s[p]),f=Math.sqrt(Math.pow(s[p].top-s[c].top,2)+Math.pow(s[p].left-s[c].left,2));i._addDom0(n,s,u,f,c,d,d*c)}}else if("two"==a){n.find(".posDataShow ul li").each(function(){var t=$(this),a=t.find(".floatPoint:eq(0)"),i=95+e*t.index(),n=parseFloat(a.css("top").split("px")[0])+4;o.push({left:i,top:n});var s=t.find(".floatPoint:eq(1)"),l=95+e*t.index(),d=parseFloat(s.css("top").split("px")[0])+4;r.push({left:l,top:d})});for(var d=1/t,c=0;c<o.length;c++)if(c!=o.length-1){var p=c+1,u=i._getAngle(o[c],o[p]),f=Math.sqrt(Math.pow(o[p].top-o[c].top,2)+Math.pow(o[p].left-o[c].left,2));i._addDom0(n,o,u,f,c,d,d*c,"f0")}setTimeout(function(){for(var e=0;e<r.length;e++)if(e!=r.length-1){var t=e+1,a=i._getAngle(r[e],r[t]),s=Math.sqrt(Math.pow(r[t].top-r[e].top,2)+Math.pow(r[t].left-r[e].left,2));i._addDom0(n,r,a,s,e,d,d*e,"f1")}},150)}else if("three"==a){n.find(".posDataShow ul li").each(function(){var t=$(this),a=t.find(".floatPoint:eq(0)"),i=95+e*t.index(),n=parseFloat(a.css("top").split("px")[0])+4;o.push({left:i,top:n});var s=t.find(".floatPoint:eq(1)"),i=95+e*t.index(),n=parseFloat(s.css("top").split("px")[0])+4;r.push({left:i,top:n});var d=t.find(".floatPoint:eq(2)");if(d.length>0){var i=95+e*t.index(),n=parseFloat(d.css("top").split("px")[0])+4;l.push({left:i,top:n})}});for(var d=1/t,c=0;c<o.length;c++)if(c!=o.length-1){var p=c+1,u=i._getAngle(o[c],o[p]),f=Math.sqrt(Math.pow(o[p].top-o[c].top,2)+Math.pow(o[p].left-o[c].left,2));i._addDom0(n,o,u,f,c,d,d*c,"f0")}setTimeout(function(){for(var e=0;e<r.length;e++)if(e!=r.length-1){var t=e+1,a=i._getAngle(r[e],r[t]),s=Math.sqrt(Math.pow(r[t].top-r[e].top,2)+Math.pow(r[t].left-r[e].left,2));i._addDom0(n,r,a,s,e,d,d*e,"f1")}},150),setTimeout(function(){for(var e=0;e<l.length;e++)if(e!=l.length-1){var t=e+1,a=i._getAngle(l[e],l[t]),s=Math.sqrt(Math.pow(l[t].top-l[e].top,2)+Math.pow(l[t].left-l[e].left,2));i._addDom0(n,l,a,s,e,d,d*e,"f2")}},300)}},_getNewValue:function(e){var t=this.element,a=5e3,i="";this.options.id0_m&&(a=this.options.id0_m),this.options.id0_n&&(i=this.options.id0_n);for(var n=a*(parseInt(e/a)+1),s=6;s>1;s--){var o=s-2;t.find(".pos1"+s).text(n/5*(5-o)+i)}return n},_getNewValuey:function(e){var t=this.element,a=5e3,i="元";this.options.id1_m&&(a=this.options.id1_m),this.options.id1_n&&(i=this.options.id1_n);for(var n=a*(parseInt(e/a)+1),s=6;s>1;s--){var o=s-2;t.find(".posD.pos1"+s).text(n/5*(5-o)+i)}return n},_getAngle:function(e,t){var a=t.left-e.left,i=t.top-e.top;return 360*Math.atan(i/a)/(2*Math.PI)},_addDom0:function(e,t,a,i,n,s,o,r){var l=(new Date).getTime()+n,d="<div class='floatLine "+r+"' id='"+l+"' style='left:"+t[n].left+"px;top:"+t[n].top+"px;width:0px;transform:rotate("+a+"deg);-webkit-transform:rotate("+a+"deg);'></div>";e.find(".dataShowLineChart").append(d),setTimeout(function(){$("#"+l).css({width:i+.4+"px",transition:"width "+s+"s linear "+o+"s"})},50)},_maopaoOrder:function(e){for(var t=parseFloat(e[0]),a=1;a<=e.length;a++)parseFloat(e[a])>t&&(t=parseFloat(e[a]));return t},_destroy:function(){}})}function storeGroup_pager(e){$(".addStoreGroupMain .layer").each(function(){$(this).hasClass(".layerHeader")||$(this).find("input[type='checkbox']").length>0&&"checked"!=$(this).find("input[type='checkbox']").attr("checked")&&$(this).remove()}),null!=e&&""!=e&&$.each(e,function(e,t){$(".addStoreGroupMain").append("<li class='layer' data_id='"+t.productCode+"' onclick='layerCheckSelect($(this))'><ul><li class='storeGroup_checkbox'><input type='checkbox' onclick='inputCheckBindClick($(this))'></li><li class='storeGroup_img'><img src='"+cFunYdj.judgeGetPictureUrl(t.mainPicture)+"'></li><li class='storeGroup_name' title='"+t.goodsName+"'>"+t.goodsName+"</li><li class='storeGroup_standard' title='"+t.goods_standard+"'>"+t.goods_standard+"</li><li class='storeGroup_coding' title='"+t.platformgoodscode+"'>"+t.platformgoodscode+"</li><li class='storeGroup_production' title='"+t.manufacturing_enterprise+"'>"+t.manufacturing_enterprise+"</li><div class='clear'> </div></ul></li>")})}function storesGroup_pager(e){$(".addStoreGroupMain .layer").each(function(){$(this).hasClass(".layerHeader")||$(this).find("input[type='checkbox']").length>0&&"checked"!=$(this).find("input[type='checkbox']").attr("checked")&&$(this).remove()}),null!=e&&""!=e&&$.each(e,function(e,t){$(".addStoreGroupMain").append("<li class='layer' data_id='"+t.storeid+"'  onclick='layerCheckSelect($(this))'><ul><li class='storeGroup_checkbox'><input type='checkbox' onclick='inputCheckBindClick($(this))'></li><li class='storeGroup_img'><img src='"+t.pictures+"'></li><li class='storeGroup_coding' title='"+t.storecode+"'>"+t.storecode+"</li><li class='storeGroup_production' title='"+t.storename+"'>"+t.storename+"</li><li class='storeGroup_line'></li><div class='clear'> </div></ul></li>")})}function layerCheckSelect(e){"checked"==e.find("input[type='checkbox']").attr("checked")?e.find("input[type='checkbox']").removeAttr("checked"):e.find("input[type='checkbox']").attr("checked","checked")}function dropList_dataRefresh(e,t,a,i,n){if(e.length>0){i.removeClass("data_no_click"),i.find(".dropList-top ul").empty();var s="";n&&(s=JSON.stringify(n)),$.each(e,function(e,n){i.find(".dropList-top ul").append("<li judgeD='"+n[a]+"' data_id='"+n[t]+"' data_otherJson='"+s+"' onclick='dropListSelect($(this))' title='"+n[a]+"'>"+n[a]+"</li>")})}else i.addClass("data_no_click")}function dropListSelect(e){var t=e.parent().parent().parent(),a=e.html();e.attr("id");"不填"==a?(a="",t.find(".dropList-con").removeClass("ok")):t.find(".dropList-con").addClass("ok"),t.find(".dropList-con").html(a).attr("dataSelectId",e.attr("data_id")),t.find("input[type='hidden']").val(e.attr("data_id"))}function inputCheckBindClick(e,t){var a=!1,i=!1;if(1==t&&(a=!0),2==t&&(i=!0),i)var n=e.parent().parent().parent().attr("dataBId"),s=e.parent().parent().attr("data_id"),o=(d=$(".nGroup_first li[data_id="+n+"]")).attr("dataChecked"),r=d.attr("dataCheckedValue"),l=d.find("label").text()+"-"+e.parent().parent().find("span").text();if(a)var d=e.parent().parent(),s=d.attr("data_id"),l=d.find("span").text();setTimeout(function(){if("checked"==e.attr("checked")){if(e.removeAttr("checked"),i)if(o.indexOf(",")>-1){for(var t=o.split(","),n="",c=r.split(","),p="",u=0;u<t.length;u++){var f=t[u],h=c[u];""!=f&&f!=s&&(n=n+f+",",p=p+h+",")}n=n.substring(0,n.length-1),p=p.substring(0,p.length-1),d.attr("dataChecked",n),d.attr("dataCheckedValue",p)}else d.attr("dataChecked",""),d.attr("dataCheckedValue","");a&&(d.attr("dataChecked",""),d.attr("dataCheckedValue",""))}else e.attr("checked","checked"),i&&(""==o?(d.attr("dataChecked",s),d.attr("dataCheckedValue",l)):(d.attr("dataChecked",o+","+s),d.attr("dataCheckedValue",r+","+l))),a&&(d.attr("dataChecked",s),d.attr("dataCheckedValue",l))},50)}function resetSecondClass(e){var t=e.parent(),a=t.attr("dataPId"),i=t.attr("data_id"),n=$(".nGroup_first li[data_id="+a+"]");if(a==i)n.attr("dataChecked",""),n.attr("dataCheckedValue",""),n.find("input[type='checkbox']").removeAttr("checked");else{var s=n.attr("dataChecked"),o=n.attr("dataCheckedValue");if(s.indexOf(",")>-1){for(var r=s.split(","),l=o.split(","),d=[],c=[],p=0;p<r.length;p++)i!=r[p]&&(d.push(r[p]),c.push(l[p]));n.attr("dataChecked",d.join(",")),n.attr("dataCheckedValue",c.join(","))}else n.attr("dataChecked",""),n.attr("dataCheckedValue","")}t.remove(),cFunction_resetSecond()}function getWXActivePagesetting(e){var t=e.dataList;if(void 0==t)return!1;$("#wxaps").find(".pageDom").remove(),$.each(t,function(e,t){var a=$('<ul class="pageDom ul-infotable-max ul-detailtable heightAuto"> <li class="width300 paddingLeft10 tleft">'+t.pageName+'</li> <li class="width250 tleft">'+t.createdon+'</li><li class="width420 tright paddingRight0"><a edit_id="'+t.id+'" href="wxactive/getmercodeid?id='+t.id+"&merCode="+t.merCode+'" class="font-color-blue font-size-shier">编辑</a><span class="font-color-blue">--</span><a href="javascript:;" class="font-color-blue share_set" edit_id="'+t.id+'" data_bt="'+t.wxShareTitle+'" data_zy="'+t.wxShareAbstract+'" data_img="'+t.wxShareImgUrl+'">设置分享样式</a><span class="font-color-blue">--</span><a href="javascript:void(0);" class="font-color-blue attr_check" urlValue="'+serverPath+"/wx/wactivity/index?pageid="+t.id+"&mercode="+t.merCode+'">查看页面地址</a><span class="font-color-blue">--</span><a href="javascript:void(0);" class="font-color-blue doorListDelete" card_id="'+t.id+'">删除</a></li> <div class="clear"></div> </ul>');$("#wxaps").append(a)}),$(".delete").click(function(e){var t=$(this);cFunYdj.confirmy("确定要删除数据吗?",t,function(e){var t=e.attr("card_id");$.ajax({type:"post",url:"wxactive/del",data:{num:t},dataType:"json",success:function(t){t.success?(cFunYdj.alertMoni("删除成功"),cFunYdj.removeObjAni(e.parent().parent())):cFunYdj.alertMoni(t.num)}})},function(){return!1})})}function selwxCardAjax(e){$(".dataLoading").show(),$.ajax({type:"POST",url:"wxactive/listajax",data:e,dataType:"json",success:function(e){getWXActivePagesetting(e.message),$(".turnPage").pager({pageIndex:e.message.pageIndex,pageCount:e.message.pageCount,totalCount:e.message.totalCount,pageSize:e.message.pageSize,queryData:{},returnFun:selwxCardAjax}),$(".dataLoading").hide()}})}function creatPage(e){$(".activeId").val(e.id),$(".activeId").val(e.mercode),$(".userDefinHtmlModel_main").children().remove(),$(".userDefinHtmlModel_main").append(e.editHtml),$("body").append("<input type='hidden' id='insertorupdate' value="+e.id+">");var t=$(".newWeiChatITLeftMainN").text();$("#userDefinTitle").val(t)}function addWXActivePagesetting(){var e=$(".weiChatBlurs").val(),t=$("#insertorupdate").val(),a="",i=JSON.stringify(cfm.mainHtmlJson);null==t||""==t||void 0==t?(t=0,a="wxactive/add"):a="wxactive/upactivesetting";var n={pageName:e,mainJson:i,edit_html:$(".userDefinHtmlModel_main").html(),insertorupdate:t};$.ajax({type:"post",url:a,data:n,dataType:"json",success:function(e){if(null==e||!e.success)return cFunYdj.alertMoni(e.message),!1;cFunYdj.alertMoni(e.message),window.location.href="wxactive/list"}})}function createCouponDom(e){$(".ul-coupon-items").find(".coupondom").remove(),null!=e&&$.each(e,function(e,t){var a="";a=t.effectiveDays>0&&0==t.invalidDays?"自领取起"+t.effectiveDays+"天有效":t.effectiveDays>0&&t.invalidDays>0?"自领取起"+t.invalidDays+"天后生效，生效后"+t.effectiveDays+"天失效":format(t.becomeEffectiveTime,"yyyy.MM.dd")+"-"+format(t.loseEffectiveTime,"yyyy.MM.dd");var i="";t.levelId>0&&(i+="限制会员等级   "),t.moneyLimit>0&&(i+="满"+t.moneyLimit+"使用    "),t.islimitGoods&&(i+="限制商品    "),t.islimitStore&&(i+="限制门店    "),""==i&&(i="通用");var n=t.type,s="";1==n?s="折":2==n?s="元":3==n?(t.money="",s="礼品"):4==n&&(s="元");var o=$('<li class="coupondom" dataId="'+t.id+'" data-type="'+t.type+'" dataUrl="url'+e+'"><p class="p-list name" title="'+t.title+'">'+t.title+'</p><p class="p-list val">'+t.money+s+'</p><p class="p-list usage" title="'+i+'">'+i+'</p><p class="p-list deadline" title="'+a+'">'+a+"</p><span>选取</span></li>");$(".ul-coupon-items").append(o)})}function createGoodsDom(e){$(".ul-goods-items").find(".goodsDom").remove(),null!=e&&$.each(e,function(e,t){var a=t.maidian;void 0==a&&(a="暂无");var i=$('<li class="goodsDom" dataId="'+t.productCode+'" dataUrl="javascript:void(0)"><img src="'+t.mainPicture+'"><p class="p-list name" title="'+t.goodsName+'">'+t.goodsName+'</p><p class="p-list headerDes" title="'+a+'">'+a+'</p><p class="p-list headerGg" title="'+t.goods_standard+'">'+t.goods_standard+"</p><span>选取</span></li>");$(".ul-goods-items").append(i)})}function initInsideUrls(e){$.each(e,function(e,t){var a=$('<li dataUrl="'+t.url+'">'+t.title+"</li>");$("#insideLink").append(a)})}function initcostomPageUrls(e){$("#selectLink .costomPage").remove();var t=serverPath+"wx/wactivity/index?mercode="+merCode+"&pageid=";$.each(e,function(e,a){var i=$('<ul class="costomPage ul-infotable-min ul-detailtable heightAuto" dataList=\'{"url":"'+t+a.id+'"}\'><li class="li-width-erbaiqi heightAuto">'+a.pageName+'</li><li class="li-width-erbaiqi" title="'+t+a.id+'">'+t+a.id+'</li><li class="li-width-yibailiu flaotright"><span class="selectedImgText">选取</span></li><div class="clear"></div></ul>');$("#selectLink").append(i)})}function createGoodsUrlDom(e){$("#selGoodsUrlDom").find(".goodsDom").remove(),null!=e&&$.each(e,function(e,t){var a=serverPath+"wx/wgoods/pdetail?productid="+t.productId+"&referrerid=1",i=$('<ul class="goodsDom ul-infotable-max ul-detailtable" data_url="'+a+'"><li class="width100p tleft"><img src="'+t.mainPicture+'" class="img-good marginLeft0"></li><li class="width250 tleft"><p class="p-list marginTop5" title="'+t.goodsName+'">'+t.goodsName+'</p><p class="p-list font-color-liu" title="'+t.goods_standard+'">'+t.goods_standard+'</p></li><li class="width100p tleft" title="'+t.productCode+'">'+t.productCode+'</li><li class="width240 tleft" title="'+t.manufacturing_enterprise+'">'+t.manufacturing_enterprise+'</li><li class="width80"><span class="selMoni">选择</span></li><div class="clear"></div></ul>');$("#selGoodsUrlDom").append(i)})}function getCouponListAjax(e){$(".dataLoading").show(),$.ajax({type:"post",url:"coupon/unloseefficacylist/ajax",data:e,dataType:"json",success:function(t){createCouponDom(t.dataList),$(".turnPage").pluginpager({pageIndex:t.pageIndex,pageCount:t.pageCount,totalCount:t.totalCount,pageSize:t.pageSize,queryData:e,returnFun:getCouponListAjax}),$(".dataLoading").hide()}})}function ajaxproductlist(e){$(".dataLoading").show(),$.ajax({url:"storegoods/getproduct",dataType:"json",data:e,type:"post",success:function(t){createGoodsDom(t.dataList),$(".dataLoading").hide(),$(".goodsListPage").pluginpager({pageIndex:t.pageIndex,pageCount:t.pageCount,queryData:e,returnFun:ajaxproductlist})},error:function(){cFunYdj.alertMoni("请求失败")}})}function getGoodsListAjax(e){$(".dataLoading").show(),$.ajax({url:"storegoods/getproduct",dataType:"json",data:e,type:"post",success:function(t){createGoodsUrlDom(t.dataList),$(".dataLoading").hide(),$(".goodsUrlPage").pluginpager({pageIndex:t.pageIndex,pageCount:t.pageCount,queryData:e,returnFun:getGoodsListAjax})},error:function(){cFunYdj.alertMoni("请求失败")}})}function getCostomPageListAjax(e){$(".dataLoading").show(),$.ajax({type:"post",url:"wxactive/listajax",data:e,dataType:"json",success:function(t){if(null==t||void 0==t.message||null==t.message.dataList)return $(".dataLoading").hide(),!1;initcostomPageUrls(t.message.dataList),$(".linkPage").pluginpager({pageIndex:t.message.pageIndex,pageCount:t.message.pageCount,totalCount:t.message.totalCount,pageSize:t.message.pageSize,queryData:e,returnFun:getCostomPageListAjax}),$(".dataLoading").hide()}})}!function(){var e,t,a={stopProp:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},judgeNull:function(e){return e.match(/^\s*$/)?"right":"error"},judgeNumber:function(e){return e.match(/^\d{11}$/)?"right":"error"},judgeAllNumber:function(e){return e.match(/^(\d{3,4}-)?(\d{7,8}|\d{11})$/)?"right":"error"},judgePositiveInteger:function(e){return e.match(/^[1-9]\d*$/)?"right":"error"},judgePositiveInteger0:function(e){return e.match(/^[1-9]\d*|0$/)?"right":"error"},judgeInteger:function(e){return e.match(/^^-?[1-9]d*$$/)?"right":"error"},judgeEmail:function(e){return e.match(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/)?"right":"error"},judgeUrl:function(e){return e.match(/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/)?"right":"error"},judgeSpeSign:function(e){return e.match(/^([\u4e00-\u9fa5]+|[a-zA-Z0-9_]+)$/)?"right":"error"},judgeHanzi:function(e){return e.match(/^[\u4e00-\u9fa5]$/)?"right":"error"},judgeIp:function(e){return e.match(/^d+.d+.d+.d+$/)?"right":"error"},judgeIdNum:function(e){return e.match(/^d{15}|d{18}$/)?"right":"error"},dataToWord:function(e){return 1==e?"一":2==e?"二":3==e?"三":4==e?"四":5==e?"五":6==e?"六":7==e?"七":8==e?"八":9==e?"九":void 0},strToWord:function(e){var t=e/10;return t<1?cFunYdj.dataToWord(e):t>=1&&t<10?t<2?e%10==0?"十":"十"+cFunYdj.dataToWord(e%10):cFunYdj.dataToWord(parseInt(t))+"十"+cFunYdj.dataToWord(e%10):void 0},judgeGetPictureUrl:function(e){return void 0!=e&&null!=e&&""!=e||(e="static/img/noImg.png"),e},judgeMemInput:function(e){if(e.match(/^\s*$/))return"会员卡名称不能为空";for(var t=0,a=0;a<e.length;a++){var i=e.charCodeAt(a);i>=1&&i<=126||65376<=i&&i<=65439?t++:t+=2}return t>=18?"会员卡名称长度不能超过9个汉字或18个英文字符":void 0},judgeMemNoteInput:function(e){for(var t=0,a=0;a<e.length;a++){var i=e.charCodeAt(a);i>=1&&i<=126||65376<=i&&i<=65439?t++:t+=2}if(t>=32)return"不超过16个字或32个英文字母"},RGBToHex:function(e){for(var t=e.toString().match(/\d+/g),a="#",i=0;i<3;i++)a+=("0"+Number(t[i]).toString(16)).slice(-2);return a},HexToRGB:function(e){var t=[],a=[];if(3==(e=e.replace(/#/,"")).length){for(var i=[],n=0;n<3;n++)i.push(e.charAt(n)+e.charAt(n));e=i.join("")}for(n=0;n<3;n++)t[n]="0x"+e.substr(n+2,2),a.push(parseInt(Number(t[n])));return"rgb("+a.join(",")+")"},date_using_limit:function(){if($("#date_using_limit").length>0)return!1;var e="2017-2-21",t=parseInt(e.split("-")[0]),a=parseInt(e.split("-")[1]),i=parseInt(e.split("-")[2]),n=new Date,s=n.getFullYear(),o=n.getMonth()+1,r=n.getDate();if(s<t||s==t&&o<a||s==t&&o==a&&r<i){var l=s+"-"+o+"-"+r;cFunYdj.DateDiff(e,l);$("<div id='date_using_limit' style='width: 100%;height: auto;text-align: center;font-size: 12px;background: #FDFBC0;color: #FF363C;padding: 4px 0;'>系统更新已完成，所有门店都无法在微商城中展示。请购买O2O商城功能的商家进入“商城”模块，在“上线门店“界面手动添加上线门店。未付费商家，可点击右上角”设置“→”购买服务”进入购买页面，选购更多服务。</div>").insertBefore($(".headerwrap"))}},judgeImgNull:function(){$(".fileUpload").each(function(){var e=$(this).parent();e.parent().find(".uploadImg").length>=$(this).attr("limit")&&e.hide()})},addSelectClass:function(e,t){" "!=e&&("0"==t?($("<ul class='flaotleft catagary catagaryFirst' attrorder='one' style='display: block;'></ul>").insertBefore($("#goodsGroup_class .clear:last")),$.each(e,function(e,t){$("#goodsGroup_class .catagaryFirst").append("<li word='"+t.lable+"' data_id='"+t.id+"'>"+t.lable+"<label class='flaotright'> &gt; </label><div class='clear'></div></li>")})):"one"==t?($("#goodsGroup_class .catagaryTwo").length<1&&$("<ul class='flaotleft catagary catagaryTwo' attrorder='two' style='display: block;'></ul>").insertBefore($("#goodsGroup_class .clear:last")),$("#goodsGroup_class .catagaryTwo").empty(),$.each(e,function(e,t){$("#goodsGroup_class .catagaryTwo").append("<li word='"+t.lable+"' data_id='"+t.id+"'>"+t.lable+"<label class='flaotright'> &gt; </label><div class='clear'></div></li>")})):"two"==t&&($("#goodsGroup_class .catagaryThree").length<1&&$("<ul class='flaotleft catagary catagaryThree' attrorder='three' style='display: block;'></ul>").insertBefore($("#goodsGroup_class .clear:last")),$("#goodsGroup_class .catagaryThree").empty(),$.each(e,function(e,t){$("#goodsGroup_class .catagaryThree").append("<li word='"+t.lable+"' data_id='"+t.id+"'>"+t.lable+"<label class='flaotright'> &gt; </label><div class='clear'></div></li>")})))},clearInput:function(){window.setTimeout(function(){$(".labelInput").each(function(){$(this).val("")})},300)},strToJson:function(e){return new Function("return "+e)()},newNoteShow:function(e,t){var a=setTimeout(function(){$(".weiChatNote").fadeOut()},2e3),i=setTimeout(function(){$(".weiChatNote").remove()},2500);$(".weiChatNote").length<1?($("body").append("<div class='weiChatNote'></div>"),$(".weiChatNote").fadeIn()):(clearTimeout(a),clearTimeout(i)),$(".weiChatNote").text(e),"warning"==t?$(".weiChatNote").removeClass("noting").addClass("warning"):"noting"==t&&$(".weiChatNote").removeClass("warning").addClass("noting")},locationHref:function(e){var t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click()},getListValue:function(){var e="指定商品可用：";$("#spListList>li").each(function(t){t==$("#spListList>li").length-1?e+=$(this).find("label").text():e=e+$(this).find("label").text()+"，"}),$(".leftViewNoteY1").text(e)},deleteParentN:function(e){e.parent().remove()},deleteParentsN:function(e){e.parent().parent().remove()},deleteParentJ:function(e){confirm("确认删除？")&&e.parent().remove()},selectRadio:function(e){var t=e.parent().parent().parent();t.find(".selCoupon,.jifenSel").hide(),t.find("."+e.attr("dataClass")).show()},testAlert:function(){cFunYdj.alertMoni("testAlert")},removeObjAni:function(e){e.css("background-color","#ffff8c"),e.fadeOut(),setTimeout(function(){e.remove()},500)},confirmy:function(e,t,a,i){function n(){$(".confirmY").length>0&&($(".confirmY").hide(),setTimeout(function(){$(".confirmY").remove()},300))}var s="您确定要删除吗？";""!=e&&void 0!=e&&(s=e),$("body").append("<div class='confirmY'><div class='confirmYm'><div class='confirmYmp'><div class='head'><div class='confirmYmname'>提示</div><div class='confirmYmclose'>×</div><div class='clear'> </div></div><div class='note'>"+s+"</div><div class='fun'><span class='ok'>确定</span><span class='cancel'>取消</span></div></div></div></div>"),setTimeout(function(){$(".confirmY").show()},50);var o=t;$(".confirmY .ok").click(function(){a&&"function"==typeof a&&a(o),n()}),$(".confirmY .cancel").click(function(){i&&"function"==typeof i&&i(o),n()}),$(".confirmY .confirmYmclose").click(function(){n()})},alertMoni:function(a,i){var n=3e3;""==i||void 0==i||isNaN(i)||(n=i),$("#alertNote").length>0?(clearTimeout(e),clearTimeout(t),$("#alertNote").html(a)):$("body").append("<div id='alertNote'>"+a+"</div>"),$("#alertNote").fadeIn("fast"),e=setTimeout(function(){$("#alertNote").fadeOut("fast"),t=setTimeout(function(){$("#alertNote").remove()},300)},n)},coupon_leftRight_fun:function(){$(".leftViewNnote1 .right").html($("#timestart").val()+"-"+$("#timeend").val())},checkbox_reset:function(e,t){cFunYdj.stopProp(t),"checked"==e.attr("checked")?e.removeAttr("checked"):e.attr("checked","checked"),setTimeout(function(){"function"==typeof resetCheckN&&resetCheckN()},150)},DateDiff:function(e,t){var a,i,n;return a=e.split("-"),i=new Date(a[1]+"-"+a[2]+"-"+a[0]),a=t.split("-"),n=new Date(a[1]+"-"+a[2]+"-"+a[0]),parseInt(Math.abs(i-n)/1e3/60/60/24)},function_coding:function(){cFunYdj.alertMoni("功能开发中......")},getWXUrl:function(e,t,a){var e=e,t=t,i="";a&&(i="#mp.weixin.qq.com");var n=t+"wx/wstore/list?mercode="+e+i,s=t+"wx/wstore/all_list?mercode="+e+i,o=t+"wx/wemployee/nearphalist?mercode="+e+i,r=t+"wx/wvipcard/detail?mercode="+e+i,l=t+"wx/wcoupon/home?mercode="+e+i,d=t+"wx/wcoupon/list?mercode="+e+i,c=t+"wx/user/modcenter?mercode="+e+i,p=t+"wx/consumption?mercode="+e+i,u=t+"wx/worder/list?mercode="+e+i,f=t+"wx/wpage/index?mercode="+e+i,h=t+"wx/wintergral/listview?mercode="+e+i,g=t+"wx/wplatform/find_card_balance?mercode="+e+i,m=t+"wx/wplatform/find_ware?mercode="+e+i,v=t+"wx/wemployee/test?mercode="+e+i,$=t+"wx/chat/list?mercode="+e+i,y=t+"wx/wintergral/sign_view?mercode="+e+i,b=t+"wx/user/usercomplaints"+i;return[{title:"商城首页",url:f,wpage:f},{title:"线上门店",url:n,store:n},{title:"所有门店",url:s,allStore:s},{title:"用药咨询",url:o,nearphalist:o},{title:"会员卡",url:r,memberCard:r},{title:"我的优惠券",url:l,myCoupon:l},{title:"领券中心",url:d,couponCenter:d},{title:"个人中心",url:c,center:c},{title:"消费记录",url:p,consumptionRecord:p},{title:"我的订单",url:u,orderList:u},{title:"积分商城",url:h,integralPage:h},{title:"员工入口",url:v,empEntrance:v},{title:"会员卡余额消费记录",url:g,cardBalance:g},{title:"线下药品查询",url:m,findWar:m},{title:"消息列表",url:$,messageList:$},{title:"签到送积分",url:y,sign:y},{title:"投诉建议",url:b,userComplaints:b}]}};a.nowEditDom_certificate,a.weiChatEditDom,a.imgUploadUrl="http://ydjia.hydee.cn:8090/hwimg/store/img",a.imgList_default=[{name:"测试中，敬请期待",height:200,img:["http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-5-19-431/artwork/1491876319432.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-5-22-237/artwork/1491876322238.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-5-27-255/artwork/1491876327255.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-6-2-323/artwork/1491876362324.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-6-4-878/artwork/1491876364878.jpg"]},{name:"商城上线啦",height:300,img:["http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-9-59-30-934/artwork/1491875970950.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-9-59-35-324/artwork/1491875975325.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-9-59-39-395/artwork/1491875979396.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-1-13-521/artwork/1491876073522.jpg"]},{name:"商家测试中",height:300,img:["http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-3-52-980/artwork/1491876232980.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-4-1-972/artwork/1491876241972.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-4-27-705/artwork/1491876267705.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-4-33-499/artwork/1491876273499.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-4-36-314/artwork/1491876276314.jpg"]},{name:"商城上线啦",height:200,img:["http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-6-50-878/artwork/1491876410879.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-6-55-643/artwork/1491876415644.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-6-58-503/artwork/1491876418504.jpg","http://ydjia.hydee.cn:8090/hwimg/static/images/2017-4-3/11-10-7-1-309/artwork/1491876421310.jpg"]}],window.cFunYdj=a}(window),$(function(){function e(){p=!1,u=!1,f=!1,g=!1,h=!1,m=!1,v=!1,y=!1,b=!1,w=!1,_=!1,"block"==$(".mainRightFirst").css("display")&&(p=!0),"block"==$(".mainRightSecond").css("display")&&(u=!0),"block"==$(".mainRightThird").css("display")&&(f=!0),"block"==$(".storeMainRightFirst").css("display")&&(g=!0),"block"==$(".storeMainRightSecond").css("display")&&(h=!0),"block"==$(".addGroupFirst").css("display")&&(m=!0),"block"==$(".addGroupSecond").css("display")&&(v=!0),"block"==$(".addGroupThird").css("display")&&(y=!0),"block"==$(".judgeTagFirst").css("display")&&(b=!0),"block"==$(".judgeTagSecond").css("display")&&(w=!0),"block"==$(".judgeTagThird").css("display")&&(_=!0)}function t(e,t){e.parent().find(">li").removeClass("selected"),e.addClass("selected"),t.find(">li").removeClass("select"),t.find(">li:eq("+e.index()+")").addClass("select")}function a(){$(".noLimit .selectedop").each(function(){"不限"!=$(this).text()&&$(".noLimit .op:first").removeClass("selectedop"),"无标签"!=$(this).text()&&$(".noLimit .op:eq(1)").removeClass("selectedop")})}function i(e){var t=$(".menuEditLayer[dataId='"+e+"']").attr("data_view");if(""!=t&&void 0!=t){var a=cFunYdj.strToJson(t);$.each(a,function(e,a){var i=a;if("word"==e)$(".weiChatMainView").append("<li class='viewLayer wordView'><div class='wordValueLeft flaotleft'><img src='../../../ydj-merchant-manager/WebContent/WEB-INF/static/img/peo1.png'></div><div class='wordValueRight positionRe flaotleft'><span class='arrow arrowLeft'></span><span class='arrow arrowRight'></span><div class='wordValueMain'>"+cFunYdj.strToJson(t).word+"</div></div><div class='clear'> </div></li>");else if("articles"==e)if(1==i.length)$.each(i,function(e,t){$(".weiChatMainView").append("<li class='viewLayer imgView'><div class='imgViewHeader'><h4><a href='"+t.url+"' target='_blank'>"+t.title+"</a></h4></div><div class='imgViewCon'><a href='"+t.url+"' target='_blank'><img src='"+t.picurl+"'></a><div class='imgViewConTitle'>"+t.description+"</div></div><div class='imgViewFooter'><a href='"+t.url+"' target='_blank'><em>阅读全文</em><i>›</i><div class='clear'> </div></a></div></li>")});else{var n;$.each(i,function(e,t){n=0==e?"<li class='viewLayer imgView imgViews'><div class='imgViewCon'><a href='"+t.url+"' target='_blank'><img src='../../../ydj-merchant-manager/WebContent/WEB-INF/static/img/ceshi.jpg'></a><div class='floatTitle'>"+t.title+"</div></div><ul>":n+"<li><a href='"+t.url+"' target='_blank'><span class='imgViewConTitle' title='"+t.title+"'>"+t.title+"</span><img src='"+t.picurl+"'><div class='clear'> </div></a></li>"}),n+="</ul></li>",$(".weiChatMainView").append(n)}})}var i=0;$("#weiChatMainView .viewLayer").each(function(){i=i+$(this).height()+20}),$("#weiChatMainView").scrollTop(i)}function n(e){var t=new Date;if(7==e){a=s(t);$("#timeend").val(a),t.setDate(t.getDate()-6);i=s(t);$("#timestart").val(i)}else if(30==e){var a=s(t);$("#timeend").val(a),t.setDate(t.getDate()-29);var i=s(t);$("#timestart").val(i)}"function"==typeof getLineFunc&&getLineFunc()}function s(e){var t=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return i<10&&(i="0"+i),a<10&&(a="0"+a),t+"."+a+"."+i}function o(e,t){$("#addUrlSelfSel").html("<span>"+e+"</span><br/><span>"+t+"</span>"),$(".inputBg,.selectBasicUrl").hide()}$(".fileUpload").length>0&&$(".fileUpload").fileUpload(),"function"==typeof cFunYdj.date_using_limit&&cFunYdj.date_using_limit(),"function"==typeof cFunYdj.judgeImgNull()&&cFunYdj.judgeImgNull(),location.href.indexOf("weiChat")>0&&("function"==typeof judgeWeiChatHeight&&judgeWeiChatHeight(),"function"==typeof leftMenuViewJson&&leftMenuViewJson());var r=navigator.userAgent,l=$(window).width(),d=($(window).height(),l/1349);if(d<1&&(function(){for(var e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),t=!0,a=0;a<e.length;a++)if(r.indexOf(e[a])>0){t=!1;break}return t}()||$("meta[name='viewport']").attr("content","width=device-width, initial-scale="+d+",minimum-scale="+d+", user-scalable=yes")),!(r.indexOf("Chrome")>-1||r.indexOf("Firefox")>-1||r.indexOf("Safari")>-1||r.indexOf("iPhone")>-1||r.indexOf("Android")>-1)){$("body").css("background","#ffffff").html("<div style='position:absolute;left:0;top:50%;margin-top:-200px;width:100%;'><img src='static/img/browser_limit_img.jpg' style='display: block;margin: 0 auto 30px auto;width: 250px;'/><div style='width:100%;margin:0 auto;text-align: center;'><h4 style='font-size:20px;color:#6facef;margin: 0 0 10px 0;'>矮油，浏览器任性了！</h4><p style='font-size:16px;color: #666;margin:0;'>抱歉，药店加后台不支持当前浏览器，请使用Chorme浏览器访问</p><a href='https://dl.yzcdn.cn/ChromeStandaloneSetup.zip' target='_blank' style='color:#17c5b3;'><div style='width:149px;height:41px;line-height:41px;background:#61ACF0;color:#ffffff;font-size:14px;text-align:center;border-radius: 5px;margin:30px auto;'>下载Chorme浏览器</div></a></div></div>")}var c=$(".main-left").attr("dataNum");void 0!=c&&""!=c||(c="n"),$(".header-nav li").removeClass("selected").find("a").removeClass("selected"),"n"!=c&&$(".header-nav li[data_name="+c+"]").addClass("selected").find("a").addClass("selected"),$("body").delegate("#productSearchKey","keydown",function(e){if(13==e.keyCode)return!1}),$("body").delegate("li.li-added-excel a","click",function(){cFunYdj.confirmy("确认删除？",$(this),function(e){e.parent().parent().remove()},function(){})}),$("body").delegate(".ul-infotable-min,.ul-infotable-max","click",function(e){if(!$(this).parent().hasClass("li-checkbox")&&!$(this).hasClass("ul-tableheader")){var t=$(this).find("input[type='checkbox']:first");"checked"==t.attr("checked")?t.removeAttr("checked"):t.attr("checked","checked"),$("body").hasClass("goodsBody")&&t.toggleAttr("checked","checked")}}),$("body").delegate("input[type='checkbox']","change",function(e){var t=$(this);t.parent().hasClass("storeGroup_checkbox")||(cFunYdj.stopProp(e),t.parent().parent().hasClass("ul-tableheader")||t.parent().parent().parent().parent().parent().parent().hasClass("coupon_right")||("checked"==t.attr("checked")?t.removeAttr("checked"):t.attr("checked","checked")))}),$("body").delegate(".dropListCheckbox input[type='checkbox']","change",function(e){$(this).parent().hasClass("storeGroup_checkbox")||(cFunYdj.stopProp(e),"checked"==$(this).attr("checked")?$(this).removeAttr("checked"):$(this).attr("checked","checked"))}),$("body").delegate(".ul-tableheader input[type='checkbox'],.allSelect input[type='checkbox']","change",function(e){$(this).parent().hasClass("storeGroup_checkbox")||$(this).parent().hasClass("storeGroupAllSelect")||(cFunYdj.stopProp(e),"checked"==$(this).attr("checked")?$(this).parent().parent().parent().find("input[type='checkbox']").attr("checked","checked"):$(this).parent().parent().parent().find("input[type='checkbox']").removeAttr("checked"))}),$("body").delegate(".doorListDelete","click",function(e){cFunYdj.stopProp(e),$(this).hasClass("two")?cFunYdj.confirmy("是否确认删除？",$(this),function(e){cFunYdj.removeObjAni(e.parent())},function(){}):cFunYdj.confirmy("是否确认删除？",$(this),function(e){cFunYdj.removeObjAni(e.parent().parent())},function(){}),$("#addnewcoupon").length>0&&cFunYdj.getListValue()}),$("body").delegate(".doorListEdit","click",function(e){cFunYdj.stopProp(e)}),$("body").delegate(".doorListDeleteAll","click",function(){$(this).parent().parent().find(".container input[type='checkbox']").each(function(e){e>0&&("checked"==$(this).attr("checked")?$(this).parent().parent().remove():$(this).removeAttr("checked"))})}),$("body").delegate(".selectMemberDay","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent().parent();$(".addTimeSel .sel").removeClass("selectedop"),$(".days .sele").each(function(){var e=$(this).text();$(".addTimeSel .sel").each(function(){$(this).text()==e&&$(this).addClass("selectedop")})}),t.find("img,.inputSelf_main").show(),t.find(".changeMemberDay,.changeMemberDay_red").addClass("on")}),$("body").delegate(".inputSelf_sure","click",function(e){var t=$(this).parent().parent().parent();t.hasClass("twoInput")||(t.find(".border_ban,.inputSelf_main").hide(),t.find(".inputSelf_main,.border_rad").removeClass("on"))}),$("body").delegate(".a-addKeywords","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent().parent();t.find("img").show(),t.find(".inputSelf_main").show().find(".inputSelf_top .textear_Keyword").text($(this).parent().find("label").text()),$(this).parent().parent().find(".textear_Keyword").focus()}),$("body").delegate(".li_addKeywords .inputSelf_sure","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent().parent(),a=$(this).parent().parent().parent();a.find(".Keywords").find("label").text(t.find(".inputSelf_top").find(".textear_Keyword").val()),a.find(".border_rad,.inputSelf_main").hide()}),$("body").delegate(".addMoreGoods","click",function(e){cFunYdj.stopProp(e),$(".inputBg,.addMoreGoods-content").fadeIn()}),$("body").delegate(".addMoreGoods-content .forSure,.addMoreGoods-content .cancel","click",function(e){cFunYdj.stopProp(e),$(".inputBg,.addMoreGoods-content").fadeOut()}),$("body").delegate(".goodsInfoEdit","click",function(e){cFunYdj.stopProp(e),$(".inputBg,.goodsInfoEdit-content").fadeIn()}),$("body").delegate(".goodsInfoEdit-content .forSure,.goodsInfoEdit-content .cancel","click",function(e){cFunYdj.stopProp(e),$(".inputBg,.goodsInfoEdit-content").fadeOut()}),$("body").delegate(".deleteNewImg","click",function(e){cFunYdj.stopProp(e),cFunYdj.confirmy("确定删除该图片吗？",$(this),function(e){e.parent().remove()},function(){})});var p=!1,u=!1,f=!1,h=!1,g=!1,m=!1,v=!1,y=!1,b=!1,w=!1,_=!1;$(".mainRightNext").click(function(t){if(13==window.event.keyCode)return!1;if(e(),m){if($(".catagaryList .four").text().match(/^\s*$/))return void cFunYdj.alertMoni("请选择商品");$(".addGroupFirst").hide(),$(".addGroupSecond").show()}}),$(".mainRightBack").click(function(){e(),u&&($(".mainRightSecond").hide(),$(".mainRightFirst").show()),f&&($(".mainRightThird").hide(),$(".mainRightSecond").show()),h&&($(".storeMainRightSecond").hide(),$(".storeMainRightFirst").show()),v&&($(".addGroupSecond").hide(),$(".addGroupFirst").show()),y&&($(".addGroupThird").hide(),$(".addGroupSecond").show())}),$("body").delegate(".lbl-eyelash","click",function(){"block"==$(this).parent().find("input[type='text']").css("display")?$(this).parent().find("input[type='password']").val($(this).parent().find("input[type='text']").val()):$(this).parent().find("input[type='text']").val($(this).parent().find("input[type='password']").val()),$(this).parent().find("input[type='text']").toggle(),$(this).parent().find("input[type='password']").toggle(),$(this).toggleClass("on")}),$("body").delegate(".addCertificate","click",function(){var e=parseInt($(".certificate .cerLayer:last").attr("cerId"))+1;void 0==$(".certificate .cerLayer:last").attr("cerId")&&(e=1);var t="<ul class='ul-contain-info cerLayer' cerId='"+e+"'><li class='li-container-left tleft'>证书"+cFunYdj.dataToWord(e)+"</li><li class='li-container-right'><input type='text' placeholder='证书号码' class='judgeInputSecond'></li><div class='clear'></div></ul><ul class='ul-contain-info'><li class=' li-container-left tleft'>证书名称</li><li class=' li-container-right'><input type='text'></li><div class='clear'></div></ul><ul class='ul-contain-file'><li class='li-container-left tleft'>上传证书</li><li class='li-container-right right-spacing-shi'><label class='lblfile-square-max flaotleft right-spacing-shi'><input type='file' class='fileUpload' limit='3'></label><li class=' li-container-right'><span class='font-size-shier font-color-liu'>支持.jpg .bmp .png格式，大小不超过2M</span></li><div class='clear'></div></ul>";$(t).insertBefore($(this).parent().parent()),$(".certificate .fileUpload").fileUpload()}),$("body").delegate(".catagary li","click",function(){var e=$(this).attr("word"),t=$(this).parent().attr("attrOrder");void 0!=e&&("four"!=t&&($(".catagaryFirst,.catagaryTwo,.catagaryThree,.catagaryFour").hide(),$(".catagaryList ."+t).attr("data_id",$(this).attr("data_id")).html(e+">")),"one"==t&&($(".catagaryFirst,.catagaryTwo").show(),$(".catagaryList .two,.catagaryList .three,.catagaryList .four").html("")),"two"==t&&($(".catagaryFirst,.catagaryTwo,.catagaryThree").show(),$(".catagaryList .three,.catagaryList .four").html("")),"three"==t&&($(".catagaryFirst,.catagaryTwo,.catagaryThree,.catagaryFour").show(),$(".catagaryList .four").html("")),"four"==t&&$(".catagaryList .four").html(e))}),$("body").delegate(".searchGatagary","keyup",function(){var e=$(this).val();$(this).parent().parent().parent().find("li").each(function(t){t>0&&($(this).hide(),$(this).attr("word").indexOf(e)>=0&&$(this).show())})}),$("body").delegate(".ul-contain-tag li","click",function(e){cFunYdj.stopProp(e),$(this).toggleClass("on")}),$("body").delegate(".addPriceArray","click",function(e){var t="<div class='container right-spacing-shi priceArray'><ul class='ul-contain-info'><li class='font-color-skeyblue'>价格组"+(parseInt($(".addGroupThird .priceArray").length)+1)+"</li><li class='li-del flaotright priceDelete'></li><div class='clear'></div></ul><ul class='ul-contain-info'><li class='li-container-right right-spacing-sanshi'><div class='storegroup dropList'><div class='dropList-top'></div><div class='dropList-con  width148'>选择门店分组</div></div></li><li class='li-container-right right-spacing-shi'>价格: &nbsp;<input type='text' class='min-textinput' value='23.5'></li><li class='li-container-right right-spacing-shi'>初始库存: &nbsp;<input type='text' class='min-textinput' value='400'></li><div class='clear'></div></ul><ul class='ul-contain-storename'><div class='clear'> </div></ul><ul class='ul-contain-info'><li class='font-color-blue li-addnewgroup addGoodsGroup wm-addGoodsGroup'>添加门店</li></ul></div>";$(t).insertBefore($(".addPriceArray").parent().parent().parent()),$(".addGroupThird .priceArray").each(function(e,t){$(this).find(".font-color-skeyblue").text("价格组"+(e+1))})}),$("body").delegate(".li-tab-tag","click",function(e){$(".li-tab-tag,.ul-tab-tag-main .layer").removeClass("selected"),$(this).addClass("selected"),$(".ul-tab-tag-main>li:eq("+$(this).index()+")").addClass("selected")}),$("body").delegate(".payment label.paymentSel","click",function(e){cFunYdj.stopProp(e),$(this).hasClass("paymentSelected")?$(this).removeClass("paymentSelected"):$(this).addClass("paymentSelected")});var x;$("body").delegate(".editWording","click",function(e){cFunYdj.stopProp(e),x=$(this).parent().parent().find("li:first"),$(this).find(".inputSelf_main").length<1&&$(this).append("<img src='static/img/border_rad.png' class='border_rad' style='display: block;'><div class='inputSelf_main' style='display: block;'><div class='inputSelf_top'><input type='text' class='selectTime width90'></div><div class='inputSelf_down width200'><span class='inputSelf_sure'>确定</span><span class='inputSelf_cancel'>取消</span></div></div>"),$(this).find("input").val(x.text()),$(this).find("img").show(),$(this).find(".inputSelf_main").show()}),$("body").delegate(".editWording .inputSelf_sure","click",function(e){cFunYdj.stopProp(e),x.text($(this).parent().parent().find("input").val()),$(this).parent().parent().parent().find("img").remove(),$(this).parent().parent().remove()}),$("body").delegate(".editWordFun .cancel","click",function(e){cFunYdj.stopProp(e),$(".inputBg,.editWord").fadeOut(),window.setTimeout(function(){$(".inputBg,.editWord").remove()},300)}),$("body").delegate(".editWordFun .forSure","click",function(e){cFunYdj.stopProp(e),x.text($(".editWord input").val()),$(".inputBg,.editWord").fadeOut(),window.setTimeout(function(){$(".inputBg,.editWord").remove()},300)}),$("body").delegate("#allCoupon-sel>li.normal","click",function(){var e=$(this);t(e,$("#allCoupon-main")),$("#memberCard_getRec").length>0&&$("#memberCard_getRec").hide(),e.index()==$("#allCoupon-sel>li.normal:last").index()?(e.removeClass("right-bordernone"),$("#memberCard_getRec").length>0&&$("#memberCard_getRec").show()):$("#allCoupon-sel>li.normal").addClass("right-bordernone")}),$("body").delegate("#all_pro>li.normal","click",function(){var e=$(this);judge_next_pro&&t(e,$("#all_proMain"));var a=$(".resShow span[dataValue=0]").text();$(".med_zhongxi,.med_save_pro").hide(),"中西药品"==a||"中西药品>"==a?$(".med_zhongxi,#save_checking").show():($(".med_zhongxi,#save_checking").hide(),$("#save_load").show()),"中西药品"==a||"中西药品>"==a||"营养保健"==a||"营养保健>"==a?$(".rightCon_detail .ul-contain-info").show():($(".rightCon_detail .ul-contain-info").hide(),$(".rightCon_detail .ul-contain-info-spec").show())}),$("body").delegate("#all_common>li.normal","click",function(){t($(this),$("#all_commonMain"))}),$("body").delegate(".toLeftView","blur",function(){var e=$(this).attr("leftViewC"),t=$(this).val();t.match(/^\s*$/)||("radio"==e?"checked"==$(this).parent().find("input[type='radio']").attr("checked")&&$(".leftViewNoteY0").html("订单金额满"+t+"元可用"):$("."+e+" span").html(t))}),$("body").delegate(".viewCoupon","click",function(e){cFunYdj.stopProp(e),$(".couponDetail,.inputBg").fadeIn()}),$("body").delegate(".couponDetail .couponDetailClose","click",function(e){cFunYdj.stopProp(e),$(".couponDetail,.inputBg").fadeOut()}),$("body").delegate(".op","click",function(e){var t=$(this),i=t.parent();i.hasClass("noLimit")||i.find(".op").removeClass("selectedop"),t.toggleClass("selectedop"),i.hasClass("noLimit")&&("不限"==t.text()||"无标签"==t.text()?(i.find(".op").removeClass("selectedop"),t.addClass("selectedop")):t.hasClass("op_hy")?($(".mendian_huiyuan .op:first").removeClass("selectedop"),$(".mendian_huiyuan .op_hy.selectedop").length<1?$(".mendian_huiyuan .op:first").addClass("selectedop"):$(".mendian_huiyuan .op:first").removeClass("selectedop")):a())}),$("body").delegate(".storeCheckBoxSel","click",function(){var e=$(this),t=e.attr("judgeSel");t?$(".judge_"+t).hasClass("selectedop")&&e.toggleClass("selectedop"):(e.toggleClass("selectedop"),e.hasClass("judge_sendMed")&&!e.hasClass("selectedop")&&$(".storeCheckBoxSel[judgeSel=sendMed]").removeClass("selectedop"))}),$("body").delegate(".dataHide","click",function(e){$(".spDetailDataList").toggle(),$(".dataHideup").hide(),$(this).hasClass("dataHidedown")&&$(".dataHideup").show()});var C;$("body").delegate(".inputSelf","click",function(e){if(cFunYdj.stopProp(e),C=$(this),"block"!=$(this).find(".inputSelf_main").css("display")){$(".border_rad,.inputSelf_main").hide(),$(this).find(".border_rad,.inputSelf_main").show();var t=$(this).find(".border_rad,.inputSelf_main");t.find(".on").removeClass("on"),$(this).parent().find(".selectedop").each(function(e,a){var i=$(this).attr("wm_tagid"),n=$(this).attr("wm_tagtype");t.find(".inputSelf_top>li[datatype='"+n+"'] li[data_id="+i+"]").addClass("on")})}}),$("body").delegate(".inputSelf .inputSelf_sure","click",function(e){cFunYdj.stopProp(e);var t,i,n,s,o=C.attr("data_min"),r=C.attr("data_max"),l=C.attr("data_id");if(C.hasClass("twoInput")){g=!1;if(n=C.find("input[type='text']:first").val(),s=C.find("input[type='text']:last").val(),""==n||""==s)return cFunYdj.alertMoni("填写信息不完整"),!1;if(n.indexOf(".")>0){var d=n.split(".")[0],c=n.split(".")[1],p=n.split(".")[2],u=s.split(".")[0],f=s.split(".")[1],h=s.split(".")[2];if(d>u||d==u&&c>f||d==u&&c==f&&h-p<1)return cFunYdj.alertMoni("时间选择不正确"),!1}else if(s-n<1)return cFunYdj.alertMoni("数字添加不正确"),!1;if(C.parent("#wm_integral").length>0||C.parent("#wm_payavgprice").length>0){if(isNaN(n))return cFunYdj.alertMoni("请输入数字"),C.find("input[type='text']:first").val(""),C.find("input[type='text']:last").val(""),!1;if(isNaN(s))return cFunYdj.alertMoni("请输入数字"),C.find("input[type='text']:first").val(""),C.find("input[type='text']:last").val(""),!1;C.parent("#wm_integral").length>0&&C.parent().find("label").each(function(){if($(this).attr("min_integral")==n&&$(this).attr("max_integral")==s)return $("#wm_integral").find(".selectedop").removeClass("selectedop"),$("#wm_integral").find(".inputSelfing").removeClass("inputSelfing"),$(this).addClass("selectedop"),$(this).addClass("inputSelfing"),void(g=!0)}),C.parent("#wm_payavgprice").length>0&&C.parent().find("label").each(function(){if($(this).attr("min_avgprice")==n&&$(this).attr("max_avgprice")==s)return $("#wm_payavgprice").find(".selectedop").removeClass("selectedop"),$("#wm_payavgprice").find(".inputSelfing").removeClass("inputSelfing"),$(this).addClass("selectedop"),$(this).addClass("inputSelfing"),void(g=!0)})}g||($("#wm_integral").find(".inputSelfing").removeClass("inputSelfing"),$("#wm_payavgprice").find(".inputSelfing").removeClass("inputSelfing"),t="<label class='op right-spacing-shi bordere6f0ef inputSelfing' "+o+"="+n+" "+r+"="+s+">"+n+"-"+s+"</label>",i=n+"-"+s)}else if(C.hasClass("oneInput")){var g=!1;if(""==(n=C.find("input[type='text']:first").val()))return!1;if(C.parent("#wm_paycount").length>0){if(isNaN(n))return cFunYdj.alertMoni("请输入数字"),C.find("input[type='text']:first").val(""),!1;C.parent().find("label").each(function(){if($(this).attr("pay_count")==n)return $("#wm_paycount").find(".selectedop").removeClass("selectedop"),$("#wm_paycount").find(".inputSelfing").removeClass("inputSelfing"),$(this).addClass("selectedop"),$(this).addClass("inputSelfing"),void(g=!0)})}g||($("#wm_paycount").find(".inputSelfing").removeClass("inputSelfing"),t="<label class='op right-spacing-shi bordere6f0ef inputSelfing' "+l+"="+n+">"+n+"+</label>",i=n+"+")}else C.hasClass("oneInput0")?(n=C.find("input[type='text']:first").val(),t="<label class='op right-spacing-shi bordere6f0ef inputSelfing' "+l+"="+n+">"+n+"</label>",i=n):C.hasClass("tagInput")&&!C.hasClass("liList")?(C.find(".inputSelf_top>li li.on").each(function(){var e=$(this),a=e.attr("data_id"),i=e.parent().parent().attr("datatype");C.parent().find("[wm_tagid="+a+"]").length>0?C.parent().find("[wm_tagid="+a+"]").addClass("selectedop"):t=t+"<label class='op right-spacing-shi selectedop bordere6f0ef' "+l+"="+e.attr("data_id")+" wm_tagtype='"+i+"'>"+e.text()+"</label>"}),a()):C.hasClass("addSelect")&&(t="<label class='op right-spacing-shi inputSelfing bordere6f0ef' "+C.attr("data_id")+"="+$(this).parent().parent().find(".dropList-con").attr("dataselectid")+">"+$(this).parent().parent().find(".dropList-con").text()+"</label>");if(!C.hasClass("liList")){if(0==C.parent().find(".inputSelfing").length)$(t).insertBefore(C);else{var m=C.parent().find(".inputSelfing");if(m.html(i),C.hasClass("judgeTTInput"))return!1;void 0!=o&&m.attr(o,n),void 0!=r&&m.attr(r,s),void 0!=l&&m.attr(l,s)}C.hasClass("liListTag")||(C.parent().find(".op").removeClass("selectedop"),C.parent().find(".inputSelfing").addClass("selectedop"))}$(this).parent().parent().parent().find(".border_rad,.inputSelf_main").hide().find("input").val("")}),$("body").delegate(".inputSelf_cancel","click",function(e){cFunYdj.stopProp(e),$(this).parent().parent().parent().find(".border_rad,.inputSelf_main").hide().find("input").val(""),$(this).parent().parent().parent().find(".inputSelf_main,.border_rad").removeClass("on")}),$("body").delegate(".inputSelf.tagInput .inputSelf_top>li li","click",function(e){cFunYdj.stopProp(e);var t=$(this);t.hasClass("no")||t.toggleClass("on")}),$("body").delegate("#allCoupon-sel li","click",function(e){cFunYdj.stopProp(e);var t=$(this).attr("id");$("#uploadExcel").addClass("nonedisplay"),"collect-list"==t&&$("#uploadExcel").removeClass("nonedisplay")}),$("body").delegate(".goodsGroup_class","click",function(e){return!1}),$("body").delegate("#goodsGroup_list ul.ul-detailtable","click",function(e){cFunYdj.stopProp(e),$("#goodsGroup_list ul.ul-detailtable").removeClass("on"),$(this).addClass("on"),$(".catagaryList .one,.catagaryList .two,.catagaryList .three").text(""),$(".catagaryList .four").text($(this).find("li:eq(1)").text())}),$("body").delegate(".priceDelete","click",function(e){cFunYdj.stopProp(e),cFunYdj.confirmy("确认删除价格组？",$(this),function(e){e.parent().parent().remove(),$(".addGroupThird .priceArray").each(function(e,t){$(this).find(".font-color-skeyblue").text("价格组"+(e+1))})},function(){})}),$("body").delegate(".editImging","click",function(e){cFunYdj.stopProp(e),$(this).fileUpload({url:cFunYdj.imgUploadUrl})}),$("body").delegate(".editImgimgDelete","click",function(e){cFunYdj.stopProp(e),cFunYdj.confirmy("确认删除图片？",$(this),function(e){var t=e.parent().parent().parent().parent().parent().parent().index(),a=e.parent().parent().parent().find(".fileUpload:last"),i=e.parent().parent().parent().parent().parent();if(e.parent().parent().parent().find(".uploadImg").length<=a.attr("limit")&&(a.parent().show(),i.find(".sel_imgList_ul").show()),e.parent().parent().remove(),$(".newWeiChatIT").length>0&&$(".newWeiChatITs").length<1&&$("#img").remove(),$(".newWeiChatITs").length>0&&$(".littleWeiChatIT.on img").removeAttr("src"),$(".userDefinHtmlModel_main").length>0){var n=$(".userDefin-liLayer.on");switch(n.attr("dataClass")){case"goods":break;case"imgAd":s="<div class='swiper-wrapper'>",$(".imgAdRight .uploadImg").length>0?$(".imgAdRight .uploadImg").each(function(){var e=$(this),t=e.find(".weiChatBlurs").val();""==t&&(t="javascript:;"),s=s+"<div class='swiper-slide'><a href='"+t+"'><img src='"+e.find("img").attr("src")+"'></a></div>"}):s="<div class='swiper-wrapper'><div class='swiper-slide'><a href='javascript:;'><img src='static/img/bannert1.jpg'defaultSrc='static/img/bannert1.jpg'></a></div><div class='swiper-slide'><a href='javascript:;'><img src='static/img/bannert2.jpg'></a></div><div class='swiper-slide'><a href='javascript:;'><img src='static/img/bannert3.jpg'></a></div>",n.find(".swiper-wrapper").replaceWith(s+"</div>"),n.find(".swiper-pagination").empty(),n.find(".swiper-slide").length>1&&new Swiper(n.find(".swiper-container-imgAd"),{pagination:n.find(".swiper-pagination"),paginationClickable:!0,autoplay:"3000",autoplayDisableOnInteraction:!1,spaceBetween:0});break;case"coupon":break;case"banner_l":var s="<div class='swiper-wrapper'>";$(".banner_l .uploadImg").length>0?$(".banner_l .uploadImg").each(function(){var e=$(this),t=e.find(".weiChatBlurs").val();""==t&&(t="javascript:;"),s=s+"<div class='swiper-slide'><a href='"+t+"'><img src='"+e.find("img").attr("src")+"'></a></div>"}):s="<div class='swiper-wrapper'><div class='swiper-slide'><a href='javascript:;'><img src='static/img/bannert10.jpg' defaultSrc='static/img/bannert10.jpg'></a></div><div class='swiper-slide'><a href='javascript:;'><img src='static/img/bannert20.jpg'></a></div><div class='swiper-slide'><a href='javascript:;'><img src='static/img/bannert30.jpg'></a></div>",n.find(".swiper-wrapper").replaceWith(s+"</div>"),n.find(".swiper-pagination").empty(),n.find(".swiper-slide").length>1&&new Swiper(n.find(".swiper-container-imgAd"),{pagination:n.find(".swiper-pagination"),paginationClickable:!0,autoplay:"3000",autoplayDisableOnInteraction:!1,spaceBetween:0})}}$(".userDefinHtmlPage").length>0&&"block"==$(".banner").css("display")&&(0==$(".banner .uploadImg").length?o="<div class='swiper-container index_scrolls'><div class='swiper-wrapper index_scrollss banner150'><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert1.jpg' defaultSrc='static/img/bannert1.jpg'></a></div><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert2.jpg'></a></div><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert3.jpg'></a></div></div><div class='swiper-pagination swiper-pagination0'></div></div>":(o="<div class='swiper-container index_scrolls'><div class='swiper-wrapper index_scrollss banner150'>",$(".banner .uploadImg").each(function(){o=o+"<div class='swiper-slide'><a href='"+$(this).find(".weiChatBlurs").val()+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),o+="</div><div class='swiper-pagination swiper-pagination0'></div></div>"),$(".cont-banner .swiper-container").replaceWith(o),startSwiper());$(".distribution_banner").length>0&&"block"==$(".banner").css("display")&&(0==$(".banner .uploadImg").length?o="<div class='swiper-container'><div class='swiper-wrapper banner150'><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert1.jpg' defaultSrc='static/img/bannert1.jpg'></a></div><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert2.jpg'></a></div><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert3.jpg'></a></div></div><div class='swiper-pagination swiper-pagination0'></div></div>":(o="<div class='swiper-container'><div class='swiper-wrapper banner150'>",$(".banner .uploadImg").each(function(){o=o+"<div class='swiper-slide'><a href='javascript:;' hrefVal='"+$(this).find(".weiChatBlurs").val()+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),o+="</div><div class='swiper-pagination swiper-pagination0'></div></div>"),$(".cont-banner .swiper-container").replaceWith(o),startSwiper());if($(".userDefinHtmlPage").length>0&&"block"==$(".banner1").css("display")){if(0==$(".banner1 .uploadImg").length)o="<div class='swiper-container1 index_scrolls'><div class='swiper-wrapper index_scrollss banner150'><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert10.jpg' defaultSrc='static/img/bannert10.jpg'></a></div><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert20.jpg'></a></div><div class='swiper-slide'><a href='javascript:void(0);'><img src='static/img/bannert30.jpg'></a></div></div><div class='swiper-pagination swiper-pagination1'></div></div>";else{var o="<div class='swiper-container1 index_scrolls'><div class='swiper-wrapper index_scrollss banner150'>";$(".banner1 .uploadImg").each(function(){o=o+"<div class='swiper-slide'><a href='"+$(this).find(".weiChatBlurs").val()+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),o+="</div><div class='swiper-pagination swiper-pagination1'></div></div>"}$(".cont-banner1 .swiper-container1").replaceWith(o),startSwiper1()}$(".userDefinHtmlPage").length>0&&"block"==$(".imgAdShow_banner").css("display")&&0==$(".imgAdShow_banner .uploadImg").length&&($(".imgAdShow img").attr("src",$(".imgAdShow img").attr("defaultSrc")),$(".imgAdShow a").attr("href","javascript:void(0);")),$(".userDefinHtmlPage").length>0&&"block"==$(".goodsLayer").css("display")&&$(".goods-group>li:eq("+t+") .pic-show img").attr("src","static/img/goodst.jpg"),$(".userDefinHtmlPage").length>0&&"block"==$(".layer1").css("display")&&$(".nav-options li:eq("+t+") img").attr("src","static/img/buttont.jpg"),$(".magicCube").length>0&&"block"==$(".magicCube").css("display")&&($(".magicCube_controls .current").empty().append("<span>"+160*$(".magicCube_controls .current").attr("colspan")+"*"+160*$(".magicCube_controls .current").attr("rowspan")+"</span>"),cfm.resetMagicCubeImg()),$(".goodsGroups_hp").length>0&&"block"==$(".goodsGroups_hp").css("display")&&($(".userDefin-liLayer.on .goodsGroup_name .img").addClass("no_img"),$(".userDefin-liLayer.on .goodsGroup_name .img img").removeAttr("src"),$(".userDefin-liLayer.on .goodsGroups_hpm").attr("data_src",""))},function(){})}),$("body").delegate(".jfHome-li .editImgimgDelete","click",function(e){cFunYdj.stopProp(e),$(this).parent().parent().parent().remove()}),$(".selectStoreShow").click(function(e){cFunYdj.stopProp(e),$(".selectShow").toggle()}),$("body").click(function(e){cFunYdj.stopProp(e);var t=!0;$(".inputSelf_main").length,$(".inputSelf_main").each(function(){"block"==$(this).css("display")&&$(this).find(".selectTime").length>0&&(t=!1)}),t&&($(".selectShow,.selectGroup,.inputSelf img,.inputSelf .inputSelf_main,.addTimeSel img,.addTimeSel .inputSelf_main,.weiChatEditTitle,.weiChatEditMsg,.addWeiChatImgTextSel,.floatFun_arrow,.floatBox").hide(),$(".inputSelf_main,.border_rad").removeClass("on"),$(".weiChatMainFooterRight>ul>li").each(function(){$(this).find(".arrowing").hide(),$(this).find("ul").hide()}))}),$(".selectShow").click(function(e){cFunYdj.stopProp(e),$(this).show()}),$("body").delegate(".selectClass .forSure","click",function(){var e=$(".selectClass .catagaryList span:first").text();$(".selectClassSpan span").removeAttr("data_id"),""==e?cFunYdj.alertMoni("未选择商品分类"):($(".selectClassSpan .one").attr("data_id",$(".selectClass .catagaryList span.one").attr("data_id")).text($(".selectClass .catagaryList span.one").text()),$(".selectClassSpan .two").attr("data_id",$(".selectClass .catagaryList span.two").attr("data_id")).text($(".selectClass .catagaryList span.two").text()),$(".selectClassSpan .three").attr("data_id",$(".selectClass .catagaryList span.three").attr("data_id")).text($(".selectClass .catagaryList span.three").text()),$(".selectClass,.inputBg").fadeOut("<span></span>"),window.setTimeout(function(){$(".selectClass,.inputBg").remove()},300))}),$("body").delegate(".selectClass .cancel","click",function(){$(".selectClass,.inputBg").fadeOut(),window.setTimeout(function(){$(".selectClass,.inputBg").remove()},300)});$("body").delegate(".selectGroup li","click",function(e){cFunYdj.stopProp(e),">"==$(this).find(".arrow:first").text()?$(this).find(".arrow:first").text("∨"):$(this).find(".arrow:first").text(">"),$(this).find(">ul li .arrow").text(">"),$(this).find(">ul ul").hide(),$(this).find(">ul").toggle(),""!=$(this).find(".name:first").text()&&$(".chooseGroup .dropList-con").text($(this).find(".name:first").text())}),$("body").delegate(".chooseGroup","click",function(e){cFunYdj.stopProp(e),$(".selectGroup").toggle()}),$("body").delegate(".selectGroup .tcenter","click",function(e){cFunYdj.stopProp(e),$(".selectGroup").hide()}),$("body").delegate(".addTimeSel,.addnewgroup,.doorSel,.addShoppingList","click",function(e){cFunYdj.stopProp(e),$(this).find("img").show(),$(this).find(".inputSelf_main").show(),$(this).hasClass("addTimeSel")&&($(this).find(".inputSelf_top ul li").removeClass("selectedop"),$(".days .sele").each(function(){var e=$(this).text();$(".addTimeSel .sel").each(function(){$(this).text()==e&&$(this).addClass("selectedop")})}))}),$("body").delegate(".addnewgroup .inputSelf_sure","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent().parent().find("input").val();"error"==cFunYdj.judgeNull(t)&&$("<li><a href='javascript:void(0);'>"+$(this).parent().parent().find("input").val()+"（0）</a></li>").insertBefore($(".addnewgroup")),$(this).parent().parent().parent().find(".border_rad,.inputSelf_main").hide().find("input").val("")}),$("body").delegate(".addTimeSel .inputSelf_sure","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent().parent().parent();t.find(">ul li.sele").remove();var a="";t.find(".inputSelf_top ul li").each(function(){$(this).hasClass("selectedop")&&(a=a+"<li class='flaotleft sele'>"+$(this).text()+"</li>")}),t.find(">ul").prepend(a),t.find(".border_rad,.inputSelf_main").hide()}),$("body").delegate(".addTimeSel .sel","click",function(e){cFunYdj.stopProp(e),$(this).toggleClass("selectedop")}),$("body").delegate(".doorSel .inputSelf_sure","click",function(e){cFunYdj.stopProp(e)}),$("body").delegate(".addShoppingList .inputSelf_sure","click",function(e){cFunYdj.stopProp(e)}),$("body").delegate(".changeArraying","click",function(e){cFunYdj.stopProp(e);var t=!1;$(".container .ul-detailtable").each(function(){"checked"==$(this).find("input[type='checkbox']").attr("checked")&&(t=!0)}),t?$(".changeArray,.inputBg").fadeIn():cFunYdj.alertMoni("请先选择商品")}),$("body").delegate("li.QR_Code input[type='checkbox']","change",function(e){cFunYdj.stopProp(e),"checked"==$(this).attr("checked")?($(this).removeAttr("checked"),$(".QR_CodeLink").find("input[type='text']").val(""),$(".QR_CodeLink").find("input[type='text']").removeAttr("readonly")):($(this).parent().parent().find("input[type='checkbox']").removeAttr("checked"),$(this).attr("checked","checked"),$(".QR_CodeLink").find(".weiChatBlurs").val($(this).parent().attr("dataUrl")).focus().blur(),$(".QR_CodeLink").find("input[type='text']").attr("readonly","readonly"))}),$("body").delegate(".weiChatMenuFirstLayer","click",function(e){cFunYdj.stopProp(e);var t=$(this).index();if($(".weiChatMainFooterRight>ul>li").each(function(){$(this).index()!=t&&($(this).find(".arrowing").hide(),$(this).find("ul").hide())}),$(this).find("li").length<1){var a=$(this).attr("dataId");""!=a&&void 0!=a&&"hasNodId"!=a&&i(a)}else $(this).find(".arrowing").toggle(),$(this).find("ul").toggle()}),$("body").delegate(".weiChatMenuSecondLayer","click",function(e){cFunYdj.stopProp(e);var t=$(this).attr("dataId");""!=t&&void 0!=t&&i(t),$(this).parent().parent().parent().find(".arrowing").hide(),$(this).parent().parent().parent().find("ul").hide()}),$("body").delegate(".closeSelectImgText","click",function(e){cFunYdj.stopProp(e),$(".selectImgText,.selectBasicUrl,.selectImgTextBg,.chooseAdv-bg,.inputBg,.chooseMagicUrl-bg").hide(),L=void 0}),$("body").delegate(".selectedImgText","click",function(e){if(cFunYdj.stopProp(e),!($(".menuUserDesign_bottom").length>0||$(".addNewCouponBody").length>0||$(".selectBasicUrl_rukou").length>0||$(".selectImgText_erP").length>0||void 0!=D)&&$(".magicCube").length<1){var t=$(this).parent().parent().attr("dataList"),a=cFunYdj.weiChatEditDom;if($(this).hasClass("toChange")){var i=cFunYdj.strToJson(t).articles,n="";1==i.length?$.each(i,function(e,t){n="<li class='li-width-erbaiqi heightAuto messageText'><div class='littleImgText heightAuto'><div class='littleImgTextTop'><span>图文</span><a href='javascript:;' target='_blank' title='"+t.title+"'>"+t.title+"</a></div><div class='littleImgTextDown'><a href='"+t.url+"' target='_blank'><span class='flaotleft'>阅读全文</span><span class='flaotright'>&gt;</span></a></div></div></li>"}):(n+="<li class='li-width-erbaiqi heightAuto messageText'><div class='littleImgText heightAuto'>",$.each(i,function(e,t){n=0==e?n+"<div class='littleImgTextTop'><span>图文</span><a href='javascript:;' target='_blank' title='"+t.title+"'>"+t.title+"</a></div>":e+1==i.length?n+"<div class='littleImgTextDown littleImgTextTop border-bottom-none'><span>图文</span><a href='javascript:;' target='_blank' title='"+t.title+"'>"+t.title+"</a></div>":n+"<div class='littleImgTextDown littleImgTextTop'><span>图文</span><a href='javascript:;' target='_blank' title='"+t.title+"'>"+t.title+"</a></div>"}),n+="</div></li>"),a.find(".messageText").replaceWith(n),$(".selectImgText,.selectImgTextBg").fadeOut()}else cFunYdj.strToJson(t).articles?a.find(".menuEditLayer.active").attr("data_view",t).attr("dataType","click").click():a.find(".menuEditLayer.active").attr("data_view",t).attr("dataType","view").click(),$(".selectImgText,.selectBasicUrl,.selectImgTextBg").fadeOut(),leftMenuViewJson()}}),$(".weiChatBlur").blur(function(){var e=$(this).attr("forId");"error"==cFunYdj.judgeNull($(this).val())&&$("#"+e).text($(this).val())}),$(".weiChatBlurs").blur(function(){"error"==cFunYdj.judgeNull($(this).val())&&($(this).hasClass("rightName")?$(".littleWeiChatIT.on .name").text($(this).val()):$(".littleWeiChatIT.on .toUrl").attr("dataUrl",$(this).val()))}),$("body").delegate(".startAndStop","click",function(e){cFunYdj.stopProp(e),"启用"==$(this).text()?$(this).text("停用"):"停用"==$(this).text()&&($(".startAndStop").text("停用"),$(this).text("启用"))}),$("body").delegate(".copyContainer .copyUrl","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent().find(".urlData").text();prompt("请按ctrl+c复制:",t)}),$("body").delegate(".copyUrlAct","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent().parent().find(".urlData").text();prompt("请按ctrl+c复制:",t)}),$("body").delegate(".copyUrlActz","click",function(e){cFunYdj.stopProp(e);var t=$(this).attr("urlValue");prompt("请按ctrl+c复制:",t)}),$("body").delegate(".bigShow","click",function(e){cFunYdj.stopProp(e),$(".bigImgShow img").attr("src",$(this).attr("src")),$(".bigImgShow").show()}),$("body").delegate(".bigImgShow","click",function(e){cFunYdj.stopProp(e),$(".bigImgShow img").attr("src",$(this).attr("src")),$(".bigImgShow").hide()});var k;$("body").delegate(".editWeiChatModel","click",function(){var e=(k=$(this).parent().parent()).find(".messageText").text();void 0!=e&&""!=e&&"暂无"!=e&&"暂未设置"!=e&&"-"!=e||(e=""),$(".changeModelId input[type=text]").val("").val(e),$(".changeModelIdBg,.changeModelId").fadeIn()}),$("body").delegate(".changeModelIdSure","click",function(){k.find(".messageText").text($(this).parent().parent().find("input[type=text]").val()),$(".changeModelIdBg,.changeModelId").fadeOut()}),$("body").delegate(".changeModelIdCancel","click",function(){$(".changeModelIdBg,.changeModelId").fadeOut()}),$(".selectShow input[type=checkbox],.selectShow3 input[type=checkbox],.menuDesignMain .topNote input[type=checkbox],.label_common  input[type=checkbox]").click(function(e){cFunYdj.stopProp(e),$(this).attr("checked")?($(".selectShow input[type=checkbox]").removeAttr("checked"),$(this).removeAttr("checked")):$(this).attr("checked","checked")}),$("input[name='bgStyle']").click(function(){"checked"==$(this).attr("checked")&&($(".memRadioSel").addClass("nonedisplay"),$("#"+$(this).attr("dataId")).removeClass("nonedisplay"))}),$(".bgStyleColor").click(function(){$("#memImgSel,#memColorSel").hide(),$("#"+$(this).attr("dataId")).show();var e=$("#"+$(this).attr("dataId")+" .inputcolor").attr("value");$(".memberCardCon").css("background",e),$(".memberCardCon_mwb").hide()}),$(".bgStyleImg").click(function(){$("#memImgSel,#memColorSel").hide(),$("#"+$(this).attr("dataId")).show();var e=$("#"+$(this).attr("dataId")+" .uploadImg img").attr("src");e&&($(".memberCardCon_mwb").css("display","block"),$(".memberCardCon").attr("style","background:url("+e+") no-repeat center;background-size:100% 100%;"))}),$(".chooseCheck").click(function(){"checked"==$(this).attr("checked")?$("#"+$(this).attr("dataId")).removeClass("nonedisplay"):$("#"+$(this).attr("dataId")).addClass("nonedisplay")}),$(".addImgWordCon").click(function(){$(" <li class='limitFile135 paddingLeft110'><label class='lblfile-square-max flaotleft right-spacing-shi'><input type='file' class='fileUpload' limit='1'></label><textarea type='text' class='min-width-textarea labelInput textarea height110 marginTop10'></textarea><div class='clear'> </div></li>").insertBefore($(this).parent()),$(".fileUpload").fileUpload()}),$(".lastPageCoupin").click(function(){$(".couponTopBar li").addClass("on"),$(".couponTopBar li.next").addClass("next_bg1").removeClass("on"),$(".container1,.nextParent_coupon,.coupon_left").removeClass("nonedisplay"),$(".container2,.lastPage_coupon").addClass("nonedisplay")}),$(window).scroll(function(){$(this).scrollTop()>500?$(".toTop").fadeIn():$(".toTop").fadeOut()}),$(".toTop").click(function(){$("html,body").animate({scrollTop:0},300)}),$(".changeArray .cancel,.changeArray .forSure").click(function(e){cFunYdj.stopProp(e),$(".changeArray,.inputBg").fadeOut(),setTimeout(function(){$(".changeArray input[type='checkbox']").removeAttr("checked"),$(".changeArraySelected ul").empty().append("<div class='clear'> </div>")},300)}),$("body").delegate(".all","click",function(e){cFunYdj.stopProp(e);var t=$(this),a=t.parent();a.hasClass("max-height")?(a.removeClass("max-height"),t.text("点击收起 ︿")):(a.addClass("max-height"),t.text("查看全部 >"))}),$("body").delegate(".activityDetail .shadowClose","click",function(e){cFunYdj.stopProp(e),$(this).parent().parent().fadeOut(),$(".inputBg").fadeOut()}),$("body").delegate(".activityTab li","click",function(e){cFunYdj.stopProp(e),$(this).addClass("selectedActivityTab"),$(this).parent().find("li").not(this).removeClass("selectedActivityTab"),$("#for"+$(this).attr("id")).removeClass("nonedisplay"),$("#for"+$(this).parent().find("li").not(this).attr("id")).addClass("nonedisplay")}),$("body").delegate(".feeTab li","click",function(e){cFunYdj.stopProp(e),$(this).addClass("selectedFeeTab"),$(this).parent().find("li").not(this).removeClass("selectedFeeTab"),$("#for"+$(this).attr("id")).removeClass("nonedisplay"),$("#for"+$(this).parent().find("li").not(this).attr("id")).addClass("nonedisplay")}),$("body").delegate(".toRecharge","click",function(e){cFunYdj.stopProp(e),$(".forToRecharge,.inputBg").fadeIn()}),$("body").delegate(".forToRecharge .forSure","click",function(e){cFunYdj.stopProp(e),$(".forToRecharge,.inputBg").fadeOut()}),$("body").delegate(".forToRecharge .forCancel","click",function(e){cFunYdj.stopProp(e),$(".forToRecharge,.inputBg").fadeOut()}),$("body").delegate(".ul-help-left-nav li","click",function(e){cFunYdj.stopProp(e),$(this).addClass("help-activeLi"),$(this).parent().find("li").not(this).removeClass("help-activeLi"),$(".help-right-nav").addClass("nonedisplay"),$("#for"+$(this).attr("dateTimeId")).removeClass("nonedisplay")}),$("body").delegate(".viewMedia","click",function(e){cFunYdj.stopProp(e),$(".mediaBg").find("embed").attr("src","http://static.youku.com/v1.0.0223/v/swf/loader.swf?winType=adshow&VideoIDS="+$(this).parent().attr("mediaId")+"&isAutoPlay=false"),$(".mediaBg,.inputBg").fadeIn()}),$("body").delegate(".mediaBg .mediaClose","click",function(e){cFunYdj.stopProp(e),$(".mediaBg,.inputBg").fadeOut()}),$("body").delegate(".openPdf","click",function(e){cFunYdj.stopProp(e),window.open($(this).parent().attr("pdfUrl"))}),$("body").delegate(".changeArraySelected .delete","click",function(e){cFunYdj.stopProp(e),$(this).parent().remove();var t=$(this).parent().attr("dataId");$(".changeArraycMain li").each(function(){var e=$(this),a=e.attr("dataId");t==a&&e.find("input").removeAttr("checked")})}),$("body").delegate(".jfAvailable .cancel","click",function(e){cFunYdj.stopProp(e),$(".jfAvailable").find("input[type='text']").text(""),$(".jfAvailable,.inputBg").fadeOut()}),$("body").delegate(".jfAvailable .forSure","click",function(e){cFunYdj.stopProp(e),$(".jfAvailable,.inputBg").fadeOut()}),$("body").delegate(".goodsJfInfo-wrapper .goodsJfInfoDelete","click",function(e){cFunYdj.stopProp(e),confirm("确定删除吗？")&&$(this).parent().remove()}),$("body").delegate(".changeArraycMain input[type='checkbox']","click",function(){var e=$(this),t=e.parent(),a=t.parent();a.hasClass("header")&&(a=a.parent());var i=a.attr("dataId");setTimeout(function(){if("checked"==e.attr("checked")){var n=t.text();a.parent().parent().find(">.header").length>0&&(n=a.parent().parent().find(">.header").text()+">"+n);var s="<li dataId='"+i+"'><span class='name'>"+n+"</span><span class='delete'>×</span></li>";$(s).insertBefore($(".changeArraySelected ul .clear"))}else $(".changeArraySelected ul li").each(function(){var e=$(this),t=e.attr("dataId");i==t&&e.remove()})},100)}),$(".timeLimitShow").click(function(){var e=$(this);e.hasClass("on")?$(this).removeClass("on"):($(".timeLimitShow").removeClass("on"),$(this).addClass("on"),n(e.attr("dataNum")))}),$(".timeLimitShow_mem").click(function(){n($(this).attr("dataNum"))}),$(".lingChart #timestart,.lingChart #timeend").focus(function(){$(".timeLimitShow").removeClass("on")}),$(".canvasShow").length>0&&$(".canvasShow").each(function(){var e=$(this),t=e.find(".canvasy").attr("id"),a=e.find(".canvasSpanShow").attr("dataType"),i=e.find(".canvasSpanShow").attr("dataColor"),n=e.find(".canvasSpanShow").attr("dataStart"),s=e.find(".canvasSpanShow").attr("dataEnd");$("#"+t).getArcCanvas({bgColor:"#DBD8D3",arcColor:i,arcLine:"8",x:50,y:50,r:40,judgeStyle:a,numStart:n,numEnd:s})});var S;$(".selectClasss").click(function(){(S=$(this).parent()).find(".selectClassFloat_layer").each(function(){var e=$(this);if(!e.hasClass("selectClasss")){var t=e.attr("dataId"),a="<li dataid='"+t+"'><span class='name'>"+e.find(".name").text()+"</span><span class='delete'>×</span></li>";$(a).insertBefore($(".changeArraySelected .clear")),$(".changeArraycMain li[dataId='"+t+"'] input").attr("checked","checked")}}),T=!0,$(".changeArray,.inputBg").fadeIn()}),$(".changeArray_goodsDetail .forSure").click(function(){if(!T)return!1;S.find(".selectClassFloat_layer").remove();var e="";$(".changeArraySelected ul li").each(function(){var t=$(this),a=t.attr("dataId");e=e+"<li class='selectClassFloat_layer' dataId='"+a+"'><span class='name'>"+t.find(".name").text()+"</span><span class='close'>×</span></li>"}),$(e).insertBefore(S.find(".selectClasss")),""!=e&&$(".layerSqu_Limit").length>0&&$(".layerSqu_Limit").find(".op").removeClass("selectedop")});var T=!1;$(".selectClass_top,.suppliersGoods-toChangeGroup").click(function(){T=!0,$(".selectClass_topM").find(".selectClassFloat_layer").each(function(){var e=$(this),t=e.attr("dataId"),a="<li dataid='"+t+"'><span class='name'>"+e.find(".name").text()+"</span><span class='delete'>×</span></li>";$(a).insertBefore($(".changeArraySelected .clear")),$(".changeArraycMain li[dataId='"+t+"'] input").attr("checked","checked")}),$(".changeArray,.inputBg").fadeIn()}),$("body").delegate(".selectClassFloat_layer .close","click",function(){$(this).parent().remove(),$(".selectClass_topM").length>0&&0==$(".selectClass_topM .selectClassFloat_layer").length&&$(".selectClass_topM .op:first").addClass("selectedop")}),$(".changeArray_allGoods .forSure").click(function(){T&&($(".selectClass_topM .selectClassFloat_layer").remove(),$(".selectClass_topM .op").removeClass("selectedop"),$(".changeArraySelected ul li").each(function(){var e=$(this),t=e.attr("dataId");$("<label class='selectClassFloat_layer selectedop' dataId='"+t+"'><span class='name'>"+e.find(".name").text()+"</span><span class='close'>×</span></label>").insertBefore($(".selectClass_topM .selectClass_top"))})),T=!1}),$(".selectClass_topM .op").click(function(){$(".selectClass_topM .selectClassFloat_layer").remove()}),$(".pagerSel .layer").click(function(){$(".pagerSel .layer").removeClass("on"),$(this).addClass("on")}),$(".actRadio input[type='radio']").change(function(){var e=$(this),t=e.attr("dataId");"checked"==e.attr("checked")&&("fInput"==t?($("#sInput").val("").attr("disabled",!0),$("#fInput").removeAttr("disabled")):"sInput"==t&&($("#fInput").val("").attr("disabled",!0),$("#sInput").removeAttr("disabled")))}),$(".actJFRadio input[type='radio']").change(function(){var e=$(this);$(".actJFruleSel").hide(),"checked"==e.attr("checked")&&"0"==e.attr("value")&&$(".actJFruleSel").show()}),$("body").delegate(".coupon-main-act .ul-coupon-items span","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent();if($(this).hasClass("on"))$(".selectedCoupon li[dataId='"+t.attr("dataId")+"'] .close").click(),$(this).removeClass("on"),$(this).text("选取");else{$(".selectedCoupon li").remove(),$(".coupon-main-act .ul-coupon-items span").removeClass("on"),$(".coupon-main-act .ul-coupon-items span").text("选取");var a="<li dataId='"+t.attr("dataId")+"' data-type='"+t.attr("data-type")+"' dataUrl='"+t.attr("dataUrl")+"' dataName='"+t.find(".p-list.name").text()+"' dataVal='"+t.find(".p-list.val").text()+"' dataDeadline='"+t.find(".p-list.deadline").text()+"' dataUsage='"+t.find(".p-list.usage").text()+"'><span class='name' title='"+t.find(".p-list.name").text()+"'>"+t.find(".p-list.name").text()+"</span><span class='close'>×</span></li>";$(a).insertBefore($(".selectedCoupon ul .clear")),$(this).addClass("on"),$(this).text("已选")}}),$("body").delegate(".coupon-main-act .selectedCoupon li .close","click",function(e){cFunYdj.stopProp(e),$(".coupon-main-act .ul-coupon-items li:[dataId='"+$(this).parent().attr("dataId")+"'] span").removeClass("on").text("选取"),$(this).parent().remove()});var I;$("body").delegate(".selCoupon","click",function(){I=$(this).parent().parent(),$(".chooseAdv-bg,.coupon-main-act").fadeIn()}),$(".coupon-main-act .forSure,.coupon-main-act .cancel").click(function(){if($(this).hasClass("forSure")){var e=$(".selectedCoupon li");I.find(".selCoupon").text(e.attr("dataName")).attr("dataId",e.attr("dataId")).attr("title",e.attr("dataName"))}$(".chooseAdv-bg,.coupon-main-act").fadeOut()}),$(".addActPrize").click(function(){var e=$(".actSet ul").length;$("<ul class='ul-infotable-max ul-detailtable width100'><li class='li-width-yibaisan'><input type='text' class='min-textinput'></li><li class='li-width-yibaisan'><input type='text' class='min-textinput'></li><li class='li-width-yibaiwu prizeSel'><label><input type='radio' name='actCRule"+e+"' checked='checked' onclick='cFunYdj.selectRadio($(this))' dataclass='selCoupon'>优惠券奖励</label><br><label><input type='radio' name='actCRule"+e+"' onclick='cFunYdj.selectRadio($(this))' dataclass='jifenSel'>积分奖励</label><br><label><input type='radio' name='actCRule"+e+"' onclick='cFunYdj.selectRadio($(this))'>实物奖励</label></li><li class='li-width-yibaiwu'><span class='selCoupon'>选择优惠券</span><input type='text' class='min-textinput jifenSel' style='display:none'></li><li class='li-width-yibaiwu'><input type='text' class='min-textinput'></li><li class='li-width-yibai'><input type='text' class='exmin-textinput'></li><li class='li-width-yibai'><a class='font-color-blue activetyDelete' href='javascript:void(0);'>删除</a></li><div class='clear'> </div></ul>").insertBefore($(".actSet .addActPrize"))}),$("body").delegate(".activetyDelete","click",function(){cFunYdj.confirmy("是否确认删除？",$(this),function(e){cFunYdj.removeObjAni(e.parent().parent())},function(){})}),$(".addJiFenSet").click(function(){$("<li class='marginLeft110'><label class='input disInb marginBottom10'>订单金额≥&nbsp;<input type='text' class='width50'>&nbsp;元，最多可使用&nbsp;<input type='text' class='width50'>&nbsp;积分<span class='jifenDelete' onclick='cFunYdj.deleteParentsN($(this))'>删除</span></label></li>").insertBefore($(".jifenSet .addJiFenSet").parent())}),$("body").delegate(".tagChange .suppliers-tag","click",function(){$(this).parent().find(".suppliers-tag").not(this).removeClass("selected"),$(this).addClass("selected"),$(".tag-change-sel").addClass("nonedisplay"),$("#"+$(this).attr("data")).removeClass("nonedisplay")}),$("body").delegate(".supplierGoodsType-tag-change li","click",function(){$(this).parent().find("li").not(this).removeClass("selected"),$(this).addClass("selected");var e=$(this).attr("data");$(this).parent().find(".supplierGoodsType-tag-change-sel").addClass("nonedisplay"),$(this).parent().find(".supplierGoodsType-tag-change-sel").each(function(){$(this).attr("dataid")==e&&$(this).removeClass("nonedisplay")})}),$("body").delegate(".suppliersGoods-CompleteInfo .complete-btn .forSure-completeInfo","click",function(e){cFunYdj.stopProp(e),$(".suppliersGoods-CompleteInfo input[type='text']").each(function(){$(this).val("")}),$(".suppliersGoods-CompleteInfo,.inputBg").fadeOut()}),$("body").delegate(".suppliersGoods-CompleteInfo .forExit","click",function(e){cFunYdj.stopProp(e),$(".suppliersGoods-CompleteInfo input[type='text']").each(function(){$(this).val("")}),$(".suppliersGoods-CompleteInfo,.inputBg").fadeOut()}),$("body").delegate(".suppliersGoods-toOnAgain","click",function(e){cFunYdj.stopProp(e),$(".suppliersGoods-operation,.inputBg").fadeIn()}),$("body").delegate(".suppliersGoods-operation .complete-btn .forSure-operation","click",function(e){cFunYdj.stopProp(e),$(".suppliersGoods-operation input[type='text']").each(function(){$(this).val("")}),$(".suppliersGoods-operation,.inputBg").fadeOut()}),$("body").delegate(".suppliersGoods-operation .forExit","click",function(e){cFunYdj.stopProp(e),$(".suppliersGoods-operation input[type='text']").each(function(){$(this).val("")}),$(".suppliersGoods-operation,.inputBg").fadeOut()}),$("body").delegate(".suppliersGoods-toEdit","click",function(e){cFunYdj.stopProp(e),$(".suppliersGoods-editInfo,.inputBg").fadeIn()}),$("body").delegate(".suppliersGoods-editInfo .complete-btn .forSure-editInfo","click",function(e){cFunYdj.stopProp(e),$(".suppliersGoods-editInfo,.inputBg").fadeOut()}),$("body").delegate(".suppliersGoods-editInfo .forExit","click",function(e){cFunYdj.stopProp(e),$(".suppliersGoods-editInfo,.inputBg").fadeOut()}),$("body").delegate(".bottom-Img-select li","click",function(e){cFunYdj.stopProp(e);var t=$(this).find("img").attr("src");$(this).parent().find("li").not(this).removeClass("selected"),$(this).addClass("selected"),$(".stop-Img-show").find("img").attr("src",t)}),$("body").delegate(".ul-suppliersGoodsInfo-detail li","click",function(e){cFunYdj.stopProp(e);var t=$(this).attr("data");$(this).parent().find("li").not(this).removeClass("selected"),$(this).addClass("selected"),$(".suppliersGoodsInfo-detail-sel").each(function(){$(this).attr("dataid")==t?$(this).removeClass("nonedisplay"):$(this).addClass("nonedisplay")})}),$(".addGoods_piliang").click(function(){var e=lsClassDom.find(">.classHeader .name").text();$(".addGoodsFloat .head span").html(e),$(".inputBg,.addGoodsFloat").show()}),$(".addGoodsFloat .forSure,.addGoodsFloat .cancel").click(function(){$(".inputBg,.addGoodsFloat").hide()}),$(".menu_floatBg,.closeSystemInfo").click(function(){$(".systemMsg").click()}),$("body").delegate(".systemInfoMsgList>li","click",function(){var e=$(this);$(".systemInfoMsgList,.systemInfoMsg_detail").addClass("on"),$(".systemInfo_msgSecond").text(">"+e.find(".systemInfo_class").text())}),$("#askRecordBody").length>0&&$("#askRecordBody").ready(function(){$(".askRecordWrapper").scrollTop($("#theTarget").offset().top-$(".askRecordWrapper").offset().top)}),$("body").delegate(".con_certificate li .cerShow","click",function(){var e=$(this).parent();cFunYdj.nowEditDom_certificate=e;var t=e.attr("certificatetype_value")?e.attr("certificatetype_value"):"",a=e.attr("certificatestatus_value")?e.attr("certificatestatus_value"):"",i=e.attr("certificateid_value")?e.attr("certificateid_value"):"",n=e.attr("managerid_value")?e.attr("managerid_value"):"",s=e.attr("mercode_value")?e.attr("mercode_value"):"";$(".cj-certificate-addInfo").attr("certificatetype_value",t).attr("certificatestatus_value",a).attr("certificateid_value",i).attr("managerid_value",n).attr("mercode_value",s),$(".addCerDetail input[type='text']").val("").removeAttr("disabled"),$(".addCerDetail .uploadImg").remove(),$(".addCerDetail .lblfile-square-max").show();var o=e.find(".name").text();e.hasClass("addOtherCer")&&(o=""),$(".addCerDetail .name input[type='text']").val(o);var r=e.find(".con span").text();e.find("em").length>0&&(r=""),$(".addCerDetail .con input[type='text']").val(r);var l=e.attr("dataImg");""!=l&&void 0!=l&&($(".addCerDetail .rightImg").prepend("<div class='flaotleft uploadImg'><img src='"+l+"'><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='1'>编辑</label><label class='editImgimgDelete'>删除</label></div></div>"),$(".addCerDetail .lblfile-square-max").hide()),"false"==e.attr("dataEdit")&&$(".addCerDetail .name input[type='text']").attr("disabled",!0),$(".addCerDetail,.inputBg").fadeIn()}),$(".addCerDetail .cancel").click(function(){$(".addCerDetail,.inputBg").fadeOut()}),$("#addNewCouponBtn,#addGoods_jf").click(function(){$(".couponListOpaBg,.couponList_select,.couponList_select_jf").show()}),$(".couponListOpaBg").click(function(){$(".couponListOpaBg,.couponList_select,.couponList_select_jf").hide()}),$("body").delegate(".selectITMain .selectedImgText","click",function(){if(!($(".menuUserDesign_bottom").length>0)){var e=$(this).parent().parent();o(e.find(".name").text(),e.find(".url").text())}}),$("body").delegate(".selectITFooter .selectedImgText","click",function(){if(!($(".selectBasicUrl_rukou").length>0)){var e=$(this).parent().find("input").val();"right"==cFunYdj.judgeUrl(e)?o("自定义链接",e):cFunYdj.alertMoni("自定义链接格式不正确，例：http://111.com")}}),$("body").delegate(".chooseGoods_coupon .forSure","click",function(){$(".chooseGoods_coupon,.inputBg_coupon").hide()}),$(".seviceSqu input[type=checkbox]").change(function(){var e=$(this);$(".seviceSqu_input input").removeAttr("disabled"),setTimeout(function(){"checked"==e.attr("checked")&&$(".seviceSqu_input input").attr("disabled",!0)},10)}),$("body").delegate(".swithButton span","click",function(e){cFunYdj.stopProp(e);var t=$(this);t.hasClass("on")&&(t.parent().find("span").addClass("on"),t.removeClass("on"))}),$("body").delegate(".spanCImg","click",function(){$(".bigImgShow").empty().append("<img src='"+$(this).attr("data_img")+"'>").show()}),$("body").delegate(".addDoor_online .selAll input","change",function(e){cFunYdj.stopProp(e);var t=$(this);setTimeout(function(){"checked"==t.attr("checked")?$(".addDoor_online .doorMain input").attr("checked","checked"):$(".addDoor_online .doorMain input").removeAttr("checked"),"function"==typeof resetCheckN&&resetCheckN()},50)}),$(".addDoor_online .name li").click(function(){var e=$(this),t=e.index();$(".addDoor_online .name li").removeClass("on"),e.addClass("on"),$(".addDoor_online .main>ul>li").removeClass("on"),$(".addDoor_online .main>ul>li:eq("+t+")").addClass("on")}),$("body").delegate(".addDoors_online,.addStoreList,.enter_door_dada","click",function(){$(".addDoor_online textarea").val(""),$(".addDoor_online input[type='checkbox']").removeAttr("checked"),$(".addDoor_online .name li:first").click(),$(".addDoor_online,.inputBg").show(),$(".addDoor_online_dada").length>0&&($(".addDoor_online_dada .main_door,.addDoor_online_dada .name_door").show(),$(".addDoor_online_dada .main_dada,.addDoor_online_dada .name_dada").hide(),$(".addDoor_online_dada .footerFun .sure").html("下一步，完善联系人信息").removeClass("width80").addClass("width200"))}),$(".addDoor_online .sure,.addDoor_online .close_online,.addDoor_online .note_input").click(function(){var e=$(this);return(!e.parent().parent().hasClass("addDoor_online_dada")||"block"!=$(".addDoor_online_dada .main_door").css("display"))&&(!(e.parent().parent().hasClass("addDoor_online_tag_c")||$(".addDoor_online_med_sel").length>0||$(".addDoor_online_med_sel_all").length>0||e.parent().parent().hasClass("addDoor_online_erP"))&&void $(".addDoor_online,.inputBg").hide())}),$("body").delegate(".container_selC_layer label","click",function(){var e=$(this);e.hasClass("on")?e.removeClass("on").addClass("off"):e.removeClass("off").addClass("on")});var j;$("body").delegate(".sel_imgList","click",function(){var e=$(this);j=e;var t=e.attr("data_height"),a="<li>";$.each(cFunYdj.imgList_default,function(e,i){var n=i;if(n.height==t){a=a+"<div class='top'>"+n.name+"</div>";for(var s=n.img,o=0;o<s.length;o++)a=a+"<div class='layer'><img src='"+s[o]+"' /></div>"}}),a+="</li>",$(".yijian_sel_banner .yijian_main .left img").attr("src",""),$(".yijian_sel_banner .yijian_main .sel_banner").empty().append(a),$(".yijian_sel_banner .yijian_main .sel_banner .layer:first").click(),$(".yijian_sel_banner,.inputBg").show()}),$("body").delegate(".yijian_sel_banner .yijian_main .sel_banner .layer","click",function(){var e=$(this);$(".yijian_sel_banner .yijian_main .left img").attr("src",e.find("img").attr("src"))}),$(".yijian_sel_banner .yijian_edit_close").click(function(){$(".yijian_sel_banner,.inputBg").hide()}),$(".yijian_sel_banner .footerFun .sure").click(function(){var e=$(".yijian_sel_banner .yijian_main .left img").attr("src"),t=j.parent().parent().parent().find(".rightImg"),a=t.find(".lblfile-square-max"),i=a.find("input[type='file']").attr("limit");if($(".userDefinHtmlPage").length>0&&"block"==$(".banner").css("display")||$(".distribution_banner").length>0&&"block"==$(".banner").css("display")||$(".newWeiChatIT").length>0&&"block"==$(".imgAdRight").css("display")?$("<div class='uploadImg urls'><div class='imgPD'><img src='"+e+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+i+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='banner'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore(a):$(".newWeiChatIT").length>0&&"block"==$(".banner_l").css("display")?$("<div class='uploadImg urls'><div class='imgPD'><img src='"+e+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+i+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='banner'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore(a):$(".userDefinHtmlPage").length>0&&"block"==$(".banner1").css("display")?$("<div class='uploadImg urls'><div class='imgPD'><img src='"+e+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+i+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='banner1'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore(a):$(".userDefinHtmlPage").length>0&&"block"==$(".imgAdShow_banner").css("display")?$("<div class='uploadImg urls'><div class='imgPD'><img src='"+e+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+i+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='imgAdShow_banner'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore(a):$("#jfHome-li-lblFile").length>0&&$("#jfHome-li-lblFile").find(".jfUploadLayer").length<4&&$("<div class='uploadImg urls marginLeft20'><div class='imgPD'><img src='"+e+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='"+i+"'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forc='imgAdShow_banner'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore($("#jfHome-li-lblFile .jfUploadLayer:last")),$(".userDefinHtmlModel_main").length>0){var n=$(".userDefin-liLayer.on"),s=n.attr("dataClass"),o="";switch(s){case"imgAd":o="imgAdRight";break;case"banner_l":o="banner_l"}if(""!=o){var r="<div class='imgAd_swiper'><div class='swiper-container swiper-container-imgAd'><div class='swiper-wrapper'>";$("."+o+" .uploadImg").each(function(){var e=$(this),t=e.find(".weiChatBlurs").val();""==t&&(t="javascript:;"),r=r+"<div class='swiper-slide'><a href='"+t+"'><img src='"+e.find("img").attr("src")+"'></a></div>"});var l="",d="<div class='liLayerMove'></div>",c="<span class='action delete'>删除</span>";if($(".container_homeUserD").length>0&&"imgAd"==s&&(l=" move_limit",c="",d=""),n.empty().append(r+"</div><div class='swiper-pagination swiper-pagination0'></div></div></div><div class='userDefin-liLayerBorder"+l+"'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span>"+c+"</div>"+d+"</div>"),n.find(".swiper-slide").length>1)new Swiper(n.find(".swiper-container-imgAd"),{pagination:n.find(".swiper-pagination"),paginationClickable:!0,autoplay:"3000",autoplayDisableOnInteraction:!1,spaceBetween:0})}}if($(".userDefinHtmlPage").length>0&&"block"==$(".banner").css("display")){p="<div class='swiper-container index_scrolls'><div class='swiper-wrapper index_scrollss banner150'>";$(".banner .uploadImg").each(function(){var e=$(this).find(".weiChatBlurs").attr("value");""==e&&(e="javascript:void(0);"),p=p+"<div class='swiper-slide'><a href='"+e+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),p+="</div><div class='swiper-pagination swiper-pagination0'></div></div>",$(".cont-banner .swiper-container").replaceWith(p),startSwiper()}if($(".distribution_banner").length>0&&"block"==$(".banner").css("display")){p="<div class='swiper-container'><div class='swiper-wrapper banner150'>";$(".banner .uploadImg").each(function(){var e=$(this).find(".weiChatBlurs").attr("value");""==e&&(e="javascript:void(0);"),p=p+"<div class='swiper-slide'><a href='javascript:;' hrefVal='"+e+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),p+="</div><div class='swiper-pagination swiper-pagination0'></div></div>",$(".cont-banner .swiper-container").replaceWith(p),startSwiper()}if($(".userDefinHtmlPage").length>0&&"block"==$(".banner1").css("display")){var p="<div class='swiper-container1 index_scrolls'><div class='swiper-wrapper index_scrollss banner150'>";$(".banner1 .uploadImg").each(function(){var e=$(this).find(".weiChatBlurs").attr("value");""==e&&(e="javascript:void(0);"),p=p+"<div class='swiper-slide'><a href='"+e+"'><img src='"+$(this).find("img").attr("src")+"'></a></div>"}),p+="</div><div class='swiper-pagination swiper-pagination1'></div></div>",$(".cont-banner1 .swiper-container1").replaceWith(p),startSwiper1()}$(".userDefinHtmlPage").length>0&&"block"==$(".imgAdShow_banner").css("display")&&$(".imgAdShow img").attr("src",e),t.find(".uploadImg").length>=i&&(j.parent().parent().parent().find(".sel_imgList_ul").hide(),a.hide()),$(".yijian_sel_banner,.inputBg").hide()});var D;$("body").delegate(".sel_urls","click",function(){D=$(this),$(".selectBasicUrl,.inputBg").show()}),$("body").delegate(".selectBasicUrl .selectedImgText","click",function(){if(void 0!=D){var e=$(this).parent().parent().find("li:eq(1)").text();D.parent().find("input[type='text']").val(e).keyup(),$(".selectBasicUrl,.inputBg").hide(),D=void 0}});var L;if($("body").delegate(".sel_gurls","click",function(){L=$(this),$(".addDoor_online_med_sel,.inputBg").show()}),$("body").delegate(".addDoor_online_med_sel .selMoni","click",function(){if(void 0!=L){var e=$(this).parent().parent().attr("data_url");L.parent().find("input[type='text']").val(e).keyup(),$(".addDoor_online_med_sel,.inputBg").hide(),L=void 0}}),$(".addDoor_online_med_sel .cancel").click(function(){$(".addDoor_online_med_sel,.inputBg").hide(),L=void 0}),$(".footerFun_float_scroll").length>0){for(var G=1e4,M=$("#all_commonMain>li.select .footerFun_float_scroll").offset().top,P=$(window).height(),F=$(window).width(),E=[{class:"tongbud"},{class:"suoding"}],A=E.length,B=0;B<A;B++){var N=E[B].class,R=$("."+N+"_ul");E[B].right=R.css("right"),E[B].bottom=R.css("bottom")}$(window).scroll(function(){var e=$("#all_commonMain>li.select");G=e.find(".container").offset().top,M=e.find(".footerFun_float_scroll").next("div").offset().top-40;var t=e.find(".footerFun_float_scroll"),a=$(this).scrollTop();if(a>=G&&a+P<=M){t.css({paddingLeft:(F-1200)/2+214+"px",paddingTop:"10px"}).addClass("on");for(d=0;d<A;d++){var i=E[d].class,n=$("#all_commonMain>li.select ."+i),s=$("#all_commonMain>li.select ."+i+"_ul");if(n.length>0){var o=n.offset().left,r=s.width(),l=E[d].bottom;s.css({right:F-o-r+"px",bottom:parseFloat(l)+10+"px"})}}}else{t.css({paddingLeft:0,paddingTop:0}).removeClass("on");for(var d=0;d<A;d++){var i=E[d].class,n=$("#all_commonMain>li.select ."+i),s=$("#all_commonMain>li.select ."+i+"_ul");if(n.length>0){var l=E[d].bottom,c=E[d].right;s.css({right:c,bottom:l})}}}}),$("body").delegate(".footerFun_float_scroll","click",function(e){cFunYdj.stopProp(e),$(".couponListOpaBg,.couponList_select,.couponList_select_jf").hide()})}var Y,U="no";$(".float_header_list").length>0&&$(window).scroll(function(){for(var e=$(".float_header_list").length,t=0;t<e;t++)0!=(n=$(".float_header_list:eq("+t+")"))[0].clientHeight&&(Y=n);if(void 0!=Y){var a=$(this).scrollTop(),i=Y.offset().top;if("no"!=U&&(i=$("#"+U).offset().top),a>i){if("no"==U){var n="<div id='"+(U=(new Date).getTime())+"' style='width:"+Y.outerWidth()+"px;height:"+Y.height()+"px;background:"+Y.css("backgroundColor")+"'></div>";$(n).insertBefore(Y),Y.css("width",Y.outerWidth()+"px").addClass("floatf")}}else Y.removeClass("floatf"),"no"!=U&&($("#"+U).remove(),U="no")}})}),function(){"use strict";window.Swiper=function(t,a){function i(){return"horizontal"===f.params.direction}function n(){f.autoplayTimeoutId=setTimeout(function(){f.params.loop?(f.fixLoop(),f._slideNext()):f.isEnd?a.autoplayStopOnLast?f.stopAutoplay():f._slideTo(0):f._slideNext()},f.params.autoplay)}function s(e,t){var a=h(e.target);if(!a.is(t))if("string"==typeof t)a=a.parents(t);else if(t.nodeType){var i;return a.parents().each(function(e,a){a===t&&(i=t)}),i?t:void 0}return 0===a.length?void 0:a[0]}function o(e,t){t=t||{};var a=new(window.MutationObserver||window.WebkitMutationObserver)(function(e){e.forEach(function(e){f.onResize(),f.params.onObserverUpdate&&f.params.onObserverUpdate(f,e)})});a.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),f.observers.push(a)}function r(e){e.originalEvent&&(e=e.originalEvent);var t=e.keyCode||e.charCode;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===t||39===t||38===t||40===t){var a=!1;if(f.container.parents(".swiper-slide").length>0&&0===f.container.parents(".swiper-slide-active").length)return;for(var n={left:window.pageXOffset,top:window.pageYOffset},s=window.innerWidth,o=window.innerHeight,r=f.container.offset(),l=[[r.left,r.top],[r.left+f.width,r.top],[r.left,r.top+f.height],[r.left+f.width,r.top+f.height]],d=0;d<l.length;d++){var c=l[d];c[0]>=n.left&&c[0]<=n.left+s&&c[1]>=n.top&&c[1]<=n.top+o&&(a=!0)}if(!a)return}i()?((37===t||39===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),39===t&&f.slideNext(),37===t&&f.slidePrev()):((38===t||40===t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===t&&f.slideNext(),38===t&&f.slidePrev())}}function l(e){e.originalEvent&&(e=e.originalEvent);var t=f._wheelEvent,a=0;if(e.detail)a=-e.detail;else if("mousewheel"===t)if(f.params.mousewheelForceToAxis)if(i()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;a=e.wheelDeltaX}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;a=e.wheelDeltaY}else a=e.wheelDelta;else if("DOMMouseScroll"===t)a=-e.detail;else if("wheel"===t)if(f.params.mousewheelForceToAxis)if(i()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;a=-e.deltaX}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;a=-e.deltaY}else a=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY;if(f.params.freeMode){var n=f.getWrapperTranslate()+a;if(n>0&&(n=0),n<f.maxTranslate()&&(n=f.maxTranslate()),f.setWrapperTransition(0),f.setWrapperTranslate(n),f.updateProgress(),f.updateActiveIndex(),0===n||n===f.maxTranslate())return}else(new Date).getTime()-f._lastWheelScrollTime>60&&(0>a?f.slideNext():f.slidePrev()),f._lastWheelScrollTime=(new Date).getTime();return f.params.autoplay&&f.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function d(e,t){var a,n,s,o,r;a=(e=h(e)).attr("data-swiper-parallax"),n=e.attr("data-swiper-parallax-x"),s=e.attr("data-swiper-parallax-y"),n||s||!a?(n=n||"0",s=s||"0"):i()?(n=a,s="0"):(s=a,n="0"),o=n=n.indexOf("%")>=0?parseInt(n,10)*t+"%":n*t+"px",r=s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",e.transform("translate3d("+o+", "+r+",0px)")}var c={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,keyboardControl:!1,mousewheelControl:!1,mousewheelForceToAxis:!1,hashnav:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,pagination:null,paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationHiddenClass:"swiper-pagination-hidden",observer:!1,observeParents:!1,runCallbacksOnInit:!0};a=a||{};for(var p in c)if(void 0===a[p])a[p]=c[p];else if("object"==typeof a[p])for(var u in c[p])void 0===a[p][u]&&(a[p][u]=c[p][u]);var f=this;f.params=a;var h;if((h=void 0===e?window.Dom7||window.Zepto||window.jQuery:e)&&(f.container=h(t),0!==f.container.length)){if(f.container.length>1)return void f.container.each(function(){new Swiper(this,a)});f.container[0].swiper=f,f.container.data("swiper",f),f.container.addClass("swiper-container-"+f.params.direction),f.params.freeMode&&f.container.addClass("swiper-container-free-mode"),(f.params.parallax||f.params.watchSlidesVisibility)&&(f.params.watchSlidesProgress=!0),["cube","coverflow"].indexOf(f.params.effect)>=0&&(f.support.transforms3d?(f.params.watchSlidesProgress=!0,f.container.addClass("swiper-container-3d")):f.params.effect="slide"),"slide"!==f.params.effect&&f.container.addClass("swiper-container-"+f.params.effect),"cube"===f.params.effect&&(f.params.resistanceRatio=0,f.params.slidesPerView=1,f.params.slidesPerColumn=1,f.params.slidesPerGroup=1,f.params.centeredSlides=!1,f.params.spaceBetween=0),"fade"===f.params.effect&&(f.params.watchSlidesProgress=!0,f.params.spaceBetween=0),f.params.grabCursor&&f.support.touch&&(f.params.grabCursor=!1),f.wrapper=f.container.children("."+f.params.wrapperClass),f.params.pagination&&(f.paginationContainer=h(f.params.pagination),f.params.paginationClickable&&f.paginationContainer.addClass("swiper-pagination-clickable")),f.rtl=i()&&("rtl"===f.container[0].dir.toLowerCase()||"rtl"===f.container.css("direction")),f.rtl&&f.container.addClass("swiper-container-rtl"),f.rtl&&(f.wrongRTL="-webkit-box"===f.wrapper.css("display")),f.translate=0,f.progress=0,f.velocity=0,f.lockSwipeToNext=function(){f.params.allowSwipeToNext=!1},f.lockSwipeToPrev=function(){f.params.allowSwipeToPrev=!1},f.lockSwipes=function(){f.params.allowSwipeToNext=f.params.allowSwipeToPrev=!1},f.unlockSwipeToNext=function(){f.params.allowSwipeToNext=!0},f.unlockSwipeToPrev=function(){f.params.allowSwipeToPrev=!0},f.unlockSwipes=function(){f.params.allowSwipeToNext=f.params.allowSwipeToPrev=!0},f.params.slidesPerColumn>1&&f.container.addClass("swiper-container-multirow"),f.params.grabCursor&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grab",f.container[0].style.cursor="-moz-grab",f.container[0].style.cursor="grab"),f.imagesToLoad=[],f.imagesLoaded=0,f.loadImage=function(e,t,a,i){function n(){i&&i()}var s;e.complete&&a?n():t?(s=new Image,s.onload=n,s.onerror=n,s.src=t):n()},f.preloadImages=function(){f.imagesToLoad=f.container.find("img");for(var e=0;e<f.imagesToLoad.length;e++)f.loadImage(f.imagesToLoad[e],f.imagesToLoad[e].currentSrc||f.imagesToLoad[e].getAttribute("src"),!0,function(){void 0!==f&&null!==f&&(void 0!==f.imagesLoaded&&f.imagesLoaded++,f.imagesLoaded===f.imagesToLoad.length&&(f.params.updateOnImagesReady&&f.update(),f.params.onImagesReady&&f.params.onImagesReady(f)))})},f.autoplayTimeoutId=void 0,f.autoplaying=!1,f.autoplayPaused=!1,f.startAutoplay=function(){return void 0===f.autoplayTimeoutId&&(!!f.params.autoplay&&(!f.autoplaying&&(f.autoplaying=!0,f.params.onAutoplayStart&&f.params.onAutoplayStart(f),void n())))},f.stopAutoplay=function(){f.autoplayTimeoutId&&(f.autoplayTimeoutId&&clearTimeout(f.autoplayTimeoutId),f.autoplaying=!1,f.autoplayTimeoutId=void 0,f.params.onAutoplayStop&&f.params.onAutoplayStop(f))},f.pauseAutoplay=function(e){f.autoplayPaused||(f.autoplayTimeoutId&&clearTimeout(f.autoplayTimeoutId),f.autoplayPaused=!0,0===e?(f.autoplayPaused=!1,n()):f.wrapper.transitionEnd(function(){f.autoplayPaused=!1,f.autoplaying?n():f.stopAutoplay()}))},f.minTranslate=function(){return-f.snapGrid[0]},f.maxTranslate=function(){return-f.snapGrid[f.snapGrid.length-1]},f.updateContainerSize=function(){f.width=f.container[0].clientWidth,f.height=f.container[0].clientHeight,f.size=i()?f.width:f.height},f.updateSlidesSize=function(){f.slides=f.wrapper.children("."+f.params.slideClass),f.snapGrid=[],f.slidesGrid=[],f.slidesSizesGrid=[];var e,t=f.params.spaceBetween,a=0,n=0,s=0;"string"==typeof t&&t.indexOf("%")>=0&&(t=parseFloat(t.replace("%",""))/100*f.size),f.virtualWidth=-t,f.slides.css(f.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var o;f.params.slidesPerColumn>1&&(o=Math.floor(f.slides.length/f.params.slidesPerColumn)===f.slides.length/f.params.slidesPerColumn?f.slides.length:Math.ceil(f.slides.length/f.params.slidesPerColumn)*f.params.slidesPerColumn);var r;for(e=0;e<f.slides.length;e++){r=0;var l=f.slides.eq(e);if(f.params.slidesPerColumn>1){var d,c,p,u,h=f.params.slidesPerColumn;"column"===f.params.slidesPerColumnFill?(c=Math.floor(e/h),p=e-c*h,d=c+p*o/h,l.css({"-webkit-box-ordinal-group":d,"-moz-box-ordinal-group":d,"-ms-flex-order":d,"-webkit-order":d,order:d})):(u=o/h,p=Math.floor(e/u),c=e-p*u),l.css({"margin-top":0!==p&&f.params.spaceBetween&&f.params.spaceBetween+"px"}).attr("data-swiper-column",c).attr("data-swiper-row",p)}"none"!==l.css("display")&&("auto"===f.params.slidesPerView?r=i()?l.outerWidth(!0):l.outerHeight(!0):(r=(f.size-(f.params.slidesPerView-1)*t)/f.params.slidesPerView,i()?f.slides[e].style.width=r+"px":f.slides[e].style.height=r+"px"),f.slides[e].swiperSlideSize=r,f.slidesSizesGrid.push(r),f.params.centeredSlides?(a=a+r/2+n/2+t,0===e&&(a=a-f.size/2-t),Math.abs(a)<.001&&(a=0),s%f.params.slidesPerGroup==0&&f.snapGrid.push(a),f.slidesGrid.push(a)):(s%f.params.slidesPerGroup==0&&f.snapGrid.push(a),f.slidesGrid.push(a),a=a+r+t),f.virtualWidth+=r+t,n=r,s++)}f.virtualWidth=Math.max(f.virtualWidth,f.size);var g;if(f.rtl&&f.wrongRTL&&("slide"===f.params.effect||"coverflow"===f.params.effect)&&f.wrapper.css({width:f.virtualWidth+f.params.spaceBetween+"px"}),f.params.slidesPerColumn>1&&(f.virtualWidth=(r+f.params.spaceBetween)*o,f.virtualWidth=Math.ceil(f.virtualWidth/f.params.slidesPerColumn)-f.params.spaceBetween,f.wrapper.css({width:f.virtualWidth+f.params.spaceBetween+"px"}),f.params.centeredSlides)){for(g=[],e=0;e<f.snapGrid.length;e++)f.snapGrid[e]<f.virtualWidth+f.snapGrid[0]&&g.push(f.snapGrid[e]);f.snapGrid=g}if(!f.params.centeredSlides){for(g=[],e=0;e<f.snapGrid.length;e++)f.snapGrid[e]<=f.virtualWidth-f.size&&g.push(f.snapGrid[e]);f.snapGrid=g,Math.floor(f.virtualWidth-f.size)>Math.floor(f.snapGrid[f.snapGrid.length-1])&&f.snapGrid.push(f.virtualWidth-f.size)}0===f.snapGrid.length&&(f.snapGrid=[0]),0!==f.params.spaceBetween&&f.slides.css(i()?f.rtl?{marginLeft:t+"px"}:{marginRight:t+"px"}:{marginBottom:t+"px"}),f.params.watchSlidesProgress&&f.updateSlidesOffset()},f.updateSlidesOffset=function(){for(var e=0;e<f.slides.length;e++)f.slides[e].swiperSlideOffset=i()?f.slides[e].offsetLeft:f.slides[e].offsetTop},f.updateSlidesProgress=function(e){if(void 0===e&&(e=f.translate||0),0!==f.slides.length){void 0===f.slides[0].swiperSlideOffset&&f.updateSlidesOffset();var t=f.params.centeredSlides?-e+f.size/2:-e;f.rtl&&(t=f.params.centeredSlides?e-f.size/2:e),f.container[0].getBoundingClientRect(),i(),i(),f.slides.removeClass(f.params.slideVisibleClass);for(var a=0;a<f.slides.length;a++){var n=f.slides[a],s=!0===f.params.centeredSlides?n.swiperSlideSize/2:0,o=(t-n.swiperSlideOffset-s)/(n.swiperSlideSize+f.params.spaceBetween);if(f.params.watchSlidesVisibility){var r=-(t-n.swiperSlideOffset-s),l=r+f.slidesSizesGrid[a];(r>=0&&r<f.size||l>0&&l<=f.size||0>=r&&l>=f.size)&&f.slides.eq(a).addClass(f.params.slideVisibleClass)}n.progress=f.rtl?-o:o}}},f.updateProgress=function(e){void 0===e&&(e=f.translate||0);var t=f.maxTranslate()-f.minTranslate();0===t?(f.progress=0,f.isBeginning=f.isEnd=!0):(f.progress=(e-f.minTranslate())/t,f.isBeginning=f.progress<=0,f.isEnd=f.progress>=1),f.isBeginning&&f.params.onReachBeginning&&f.params.onReachBeginning(f),f.isEnd&&f.params.onReachEnd&&f.params.onReachEnd(f),f.params.watchSlidesProgress&&f.updateSlidesProgress(e),f.params.onProgress&&f.params.onProgress(f,f.progress)},f.updateActiveIndex=function(){var e,t,a,i=f.rtl?f.translate:-f.translate;for(t=0;t<f.slidesGrid.length;t++)void 0!==f.slidesGrid[t+1]?i>=f.slidesGrid[t]&&i<f.slidesGrid[t+1]-(f.slidesGrid[t+1]-f.slidesGrid[t])/2?e=t:i>=f.slidesGrid[t]&&i<f.slidesGrid[t+1]&&(e=t+1):i>=f.slidesGrid[t]&&(e=t);(0>e||void 0===e)&&(e=0),(a=Math.floor(e/f.params.slidesPerGroup))>=f.snapGrid.length&&(a=f.snapGrid.length-1),e!==f.activeIndex&&(f.snapIndex=a,f.previousIndex=f.activeIndex,f.activeIndex=e,f.updateClasses())},f.updateClasses=function(){f.slides.removeClass(f.params.slideActiveClass+" "+f.params.slideNextClass+" "+f.params.slidePrevClass);var e=f.slides.eq(f.activeIndex);if(e.addClass(f.params.slideActiveClass),e.next("."+f.params.slideClass).addClass(f.params.slideNextClass),e.prev("."+f.params.slideClass).addClass(f.params.slidePrevClass),f.bullets&&f.bullets.length>0){f.bullets.removeClass(f.params.bulletActiveClass);var t;f.params.loop?(t=f.activeIndex-f.loopedSlides)>f.slides.length-1-2*f.loopedSlides&&(t-=f.slides.length-2*f.loopedSlides):t=void 0!==f.snapIndex?f.snapIndex:f.activeIndex||0,f.bullets.eq(t).addClass(f.params.bulletActiveClass)}f.params.loop||(f.params.prevButton&&(f.isBeginning?h(f.params.prevButton).addClass(f.params.buttonDisabledClass):h(f.params.prevButton).removeClass(f.params.buttonDisabledClass)),f.params.nextButton&&(f.isEnd?h(f.params.nextButton).addClass(f.params.buttonDisabledClass):h(f.params.nextButton).removeClass(f.params.buttonDisabledClass)))},f.updatePagination=function(){if(f.params.pagination&&f.paginationContainer&&f.paginationContainer.length>0){for(var e="",t=f.params.loop?f.slides.length-2*f.loopedSlides:f.snapGrid.length,a=0;t>a;a++)e+=f.params.paginationBulletRender?f.params.paginationBulletRender(a,f.params.bulletClass):'<span class="'+f.params.bulletClass+'"></span>';f.paginationContainer.html(e),f.bullets=f.paginationContainer.find("."+f.params.bulletClass)}},f.update=function(e){function t(){a=Math.min(Math.max(f.translate,f.maxTranslate()),f.minTranslate()),f.setWrapperTranslate(a),f.updateActiveIndex(),f.updateClasses()}if(f.updateContainerSize(),f.updateSlidesSize(),f.updateProgress(),f.updatePagination(),f.updateClasses(),f.params.scrollbar&&f.scrollbar&&f.scrollbar.set(),e){var a;f.params.freeMode?t():("auto"===f.params.slidesPerView&&f.isEnd&&!f.params.centeredSlides?f.slideTo(f.slides.length-1,0,!1,!0):f.slideTo(f.activeIndex,0,!1,!0))||t()}},f.onResize=function(){if(f.updateContainerSize(),f.updateSlidesSize(),f.updateProgress(),("auto"===f.params.slidesPerView||f.params.freeMode)&&f.updatePagination(),f.params.scrollbar&&f.scrollbar&&f.scrollbar.set(),f.params.freeMode){var e=Math.min(Math.max(f.translate,f.maxTranslate()),f.minTranslate());f.setWrapperTranslate(e),f.updateActiveIndex(),f.updateClasses()}else f.updateClasses(),"auto"===f.params.slidesPerView&&f.isEnd&&!f.params.centeredSlides?f.slideTo(f.slides.length-1,0,!1,!0):f.slideTo(f.activeIndex,0,!1,!0)};var g=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?g=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(g=["MSPointerDown","MSPointerMove","MSPointerUp"]),f.touchEvents={start:f.support.touch||!f.params.simulateTouch?"touchstart":g[0],move:f.support.touch||!f.params.simulateTouch?"touchmove":g[1],end:f.support.touch||!f.params.simulateTouch?"touchend":g[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===f.params.touchEventsTarget?f.container:f.wrapper).addClass("swiper-wp8-"+f.params.direction),f.events=function(e){var t=e?"off":"on",i=e?"removeEventListener":"addEventListener",n="container"===f.params.touchEventsTarget?f.container[0]:f.wrapper[0],s=f.support.touch?n:document,o=!!f.params.nested;f.browser.ie?(n[i](f.touchEvents.start,f.onTouchStart,!1),s[i](f.touchEvents.move,f.onTouchMove,o),s[i](f.touchEvents.end,f.onTouchEnd,!1)):(f.support.touch&&(n[i](f.touchEvents.start,f.onTouchStart,!1),n[i](f.touchEvents.move,f.onTouchMove,o),n[i](f.touchEvents.end,f.onTouchEnd,!1)),!a.simulateTouch||f.device.ios||f.device.android||(n[i]("mousedown",f.onTouchStart,!1),s[i]("mousemove",f.onTouchMove,o),s[i]("mouseup",f.onTouchEnd,!1))),window[i]("resize",f.onResize),f.params.nextButton&&h(f.params.nextButton)[t]("click",f.onClickNext),f.params.prevButton&&h(f.params.prevButton)[t]("click",f.onClickPrev),f.params.pagination&&f.params.paginationClickable&&h(f.paginationContainer)[t]("click","."+f.params.bulletClass,f.onClickIndex),(f.params.preventClicks||f.params.preventClicksPropagation)&&n[i]("click",f.preventClicks,!0)},f.attachEvents=function(){f.events()},f.detachEvents=function(){f.events(!0)},f.allowClick=!0,f.preventClicks=function(e){f.allowClick||(f.params.preventClicks&&e.preventDefault(),f.params.preventClicksPropagation&&(e.stopPropagation(),e.stopImmediatePropagation()))},f.onClickNext=function(e){e.preventDefault(),f.slideNext()},f.onClickPrev=function(e){e.preventDefault(),f.slidePrev()},f.onClickIndex=function(e){e.preventDefault();var t=h(this).index()*f.params.slidesPerGroup;f.params.loop&&(t+=f.loopedSlides),f.slideTo(t)},f.updateClickedSlide=function(e){var t=s(e,"."+f.params.slideClass);if(!t)return f.clickedSlide=void 0,void(f.clickedIndex=void 0);if(f.clickedSlide=t,f.clickedIndex=h(t).index(),f.params.slideToClickedSlide&&void 0!==f.clickedIndex&&f.clickedIndex!==f.activeIndex){var a,i=f.clickedIndex;if(f.params.loop)if(a=h(f.clickedSlide).attr("data-swiper-slide-index"),i>f.slides.length-f.params.slidesPerView)f.fixLoop(),i=f.wrapper.children("."+f.params.slideClass+'[data-swiper-slide-index="'+a+'"]').eq(0).index(),setTimeout(function(){f.slideTo(i)},0);else if(i<f.params.slidesPerView-1){f.fixLoop();var n=f.wrapper.children("."+f.params.slideClass+'[data-swiper-slide-index="'+a+'"]');i=n.eq(n.length-1).index(),setTimeout(function(){f.slideTo(i)},0)}else f.slideTo(i);else f.slideTo(i)}};var m,v,$,y,b,w,_,x,C,k="input, select, textarea, button",S=Date.now(),T=[];f.animating=!1,f.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var I;if(f.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),(I="touchstart"===e.type)||!("which"in e)||3!==e.which){if(f.params.noSwiping&&s(e,"."+f.params.noSwipingClass))return void(f.allowClick=!0);if(!f.params.swipeHandler||s(e,f.params.swipeHandler)){if(m=!0,v=!1,y=void 0,f.touches.startX=f.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,f.touches.startY=f.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,$=Date.now(),f.allowClick=!0,f.updateContainerSize(),f.swipeDirection=void 0,f.params.threshold>0&&(_=!1),"touchstart"!==e.type){var t=!0;h(e.target).is(k)&&(t=!1),document.activeElement&&h(document.activeElement).is(k)&&document.activeElement.blur(),t&&e.preventDefault()}f.params.onTouchStart&&f.params.onTouchStart(f,e)}}},f.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!(I&&"mousemove"===e.type||e.preventedByNestedSwiper)){if(f.params.onlyExternal)return v=!0,void(f.allowClick=!1);if(I&&document.activeElement&&e.target===document.activeElement&&h(e.target).is(k))return v=!0,void(f.allowClick=!1);if(f.params.onTouchMove&&f.params.onTouchMove(f,e),f.allowClick=!1,!(e.targetTouches&&e.targetTouches.length>1)){if(f.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,f.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,void 0===y){var t=180*Math.atan2(Math.abs(f.touches.currentY-f.touches.startY),Math.abs(f.touches.currentX-f.touches.startX))/Math.PI;y=i()?t>f.params.touchAngle:90-t>f.params.touchAngle}if(y&&f.params.onTouchMoveOpposite&&f.params.onTouchMoveOpposite(f,e),m){if(y)return void(m=!1);f.params.onSliderMove&&f.params.onSliderMove(f,e),e.preventDefault(),f.params.touchMoveStopPropagation&&!f.params.nested&&e.stopPropagation(),v||(a.loop&&f.fixLoop(),w="cube"===f.params.effect?(f.rtl?-f.translate:f.translate)||0:f.getWrapperTranslate(),f.setWrapperTransition(0),f.animating&&f.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),f.params.autoplay&&f.autoplaying&&(f.params.autoplayDisableOnInteraction?f.stopAutoplay():f.pauseAutoplay()),C=!1,f.params.grabCursor&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grabbing",f.container[0].style.cursor="-moz-grabbin",f.container[0].style.cursor="grabbing")),v=!0;var n=f.touches.diff=i()?f.touches.currentX-f.touches.startX:f.touches.currentY-f.touches.startY;n*=f.params.touchRatio,f.rtl&&(n=-n),f.swipeDirection=n>0?"prev":"next",b=n+w;var s=!0;if(n>0&&b>f.minTranslate()?(s=!1,f.params.resistance&&(b=f.minTranslate()-1+Math.pow(-f.minTranslate()+w+n,f.params.resistanceRatio))):0>n&&b<f.maxTranslate()&&(s=!1,f.params.resistance&&(b=f.maxTranslate()+1-Math.pow(f.maxTranslate()-w-n,f.params.resistanceRatio))),s&&(e.preventedByNestedSwiper=!0),!f.params.allowSwipeToNext&&"next"===f.swipeDirection&&w>b&&(b=w),!f.params.allowSwipeToPrev&&"prev"===f.swipeDirection&&b>w&&(b=w),f.params.followFinger){if(f.params.threshold>0){if(!(Math.abs(n)>f.params.threshold||_))return void(b=w);if(!_)return _=!0,f.touches.startX=f.touches.currentX,f.touches.startY=f.touches.currentY,b=w,void(f.touches.diff=i()?f.touches.currentX-f.touches.startX:f.touches.currentY-f.touches.startY)}(f.params.freeMode||f.params.watchSlidesProgress)&&f.updateActiveIndex(),f.params.freeMode&&(0===T.length&&T.push({position:f.touches[i()?"startX":"startY"],time:$}),T.push({position:f.touches[i()?"currentX":"currentY"],time:(new Date).getTime()})),f.updateProgress(b),f.setWrapperTranslate(b)}}}}},f.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),f.params.onTouchEnd&&f.params.onTouchEnd(f,e),m){f.params.grabCursor&&v&&m&&(f.container[0].style.cursor="move",f.container[0].style.cursor="-webkit-grab",f.container[0].style.cursor="-moz-grab",f.container[0].style.cursor="grab");var t=Date.now(),a=t-$;if(f.allowClick&&(f.updateClickedSlide(e),f.params.onTap&&f.params.onTap(f,e),300>a&&t-S>300&&(x&&clearTimeout(x),x=setTimeout(function(){f&&(f.params.paginationHide&&f.paginationContainer.length>0&&!h(e.target).hasClass(f.params.bulletClass)&&f.paginationContainer.toggleClass(f.params.paginationHiddenClass),f.params.onClick&&f.params.onClick(f,e))},300)),300>a&&300>t-S&&(x&&clearTimeout(x),f.params.onDoubleTap&&f.params.onDoubleTap(f,e))),S=Date.now(),setTimeout(function(){f&&f.allowClick&&(f.allowClick=!0)},0),!m||!v||!f.swipeDirection||0===f.touches.diff||b===w)return void(m=v=!1);m=v=!1;var i;if(i=f.params.followFinger?f.rtl?f.translate:-f.translate:-b,f.params.freeMode){if(i<-f.minTranslate())return void f.slideTo(f.activeIndex);if(i>-f.maxTranslate())return void f.slideTo(f.slides.length-1);if(f.params.freeModeMomentum){if(T.length>1){var n=T.pop(),s=T.pop(),o=n.position-s.position,r=n.time-s.time;f.velocity=o/r,f.velocity=f.velocity/2,Math.abs(f.velocity)<.02&&(f.velocity=0),(r>150||(new Date).getTime()-n.time>300)&&(f.velocity=0)}else f.velocity=0;T.length=0;var l=1e3*f.params.freeModeMomentumRatio,d=f.velocity*l,c=f.translate+d;f.rtl&&(c=-c);var p,u=!1,g=20*Math.abs(f.velocity)*f.params.freeModeMomentumBounceRatio;c<f.maxTranslate()&&(f.params.freeModeMomentumBounce?(c+f.maxTranslate()<-g&&(c=f.maxTranslate()-g),p=f.maxTranslate(),u=!0,C=!0):c=f.maxTranslate()),c>f.minTranslate()&&(f.params.freeModeMomentumBounce?(c-f.minTranslate()>g&&(c=f.minTranslate()+g),p=f.minTranslate(),u=!0,C=!0):c=f.minTranslate()),0!==f.velocity&&(l=Math.abs(f.rtl?(-c-f.translate)/f.velocity:(c-f.translate)/f.velocity)),f.params.freeModeMomentumBounce&&u?(f.updateProgress(p),f.setWrapperTransition(l),f.setWrapperTranslate(c),f.onTransitionStart(),f.animating=!0,f.wrapper.transitionEnd(function(){C&&(f.params.onMomentumBounce&&f.params.onMomentumBounce(f),f.setWrapperTransition(f.params.speed),f.setWrapperTranslate(p),f.wrapper.transitionEnd(function(){f.onTransitionEnd()}))})):f.velocity?(f.updateProgress(c),f.setWrapperTransition(l),f.setWrapperTranslate(c),f.onTransitionStart(),f.animating||(f.animating=!0,f.wrapper.transitionEnd(function(){f.onTransitionEnd()}))):f.updateProgress(c),f.updateActiveIndex()}return void((!f.params.freeModeMomentum||a>=f.params.longSwipesMs)&&(f.updateProgress(),f.updateActiveIndex()))}var y,_=0,k=f.slidesSizesGrid[0];for(y=0;y<f.slidesGrid.length;y+=f.params.slidesPerGroup)void 0!==f.slidesGrid[y+f.params.slidesPerGroup]?i>=f.slidesGrid[y]&&i<f.slidesGrid[y+f.params.slidesPerGroup]&&(_=y,k=f.slidesGrid[y+f.params.slidesPerGroup]-f.slidesGrid[y]):i>=f.slidesGrid[y]&&(_=y,k=f.slidesGrid[f.slidesGrid.length-1]-f.slidesGrid[f.slidesGrid.length-2]);var I=(i-f.slidesGrid[_])/k;if(a>f.params.longSwipesMs){if(!f.params.longSwipes)return void f.slideTo(f.activeIndex);"next"===f.swipeDirection&&f.slideTo(I>=f.params.longSwipesRatio?_+f.params.slidesPerGroup:_),"prev"===f.swipeDirection&&f.slideTo(I>1-f.params.longSwipesRatio?_+f.params.slidesPerGroup:_)}else{if(!f.params.shortSwipes)return void f.slideTo(f.activeIndex);"next"===f.swipeDirection&&f.slideTo(_+f.params.slidesPerGroup),"prev"===f.swipeDirection&&f.slideTo(_)}}},f._slideTo=function(e,t){return f.slideTo(e,t,!0,!0)},f.slideTo=function(e,t,a,n){void 0===a&&(a=!0),void 0===e&&(e=0),0>e&&(e=0),f.snapIndex=Math.floor(e/f.params.slidesPerGroup),f.snapIndex>=f.snapGrid.length&&(f.snapIndex=f.snapGrid.length-1);var s=-f.snapGrid[f.snapIndex];f.params.autoplay&&f.autoplaying&&(n||!f.params.autoplayDisableOnInteraction?f.pauseAutoplay(t):f.stopAutoplay()),f.updateProgress(s);for(var o=0;o<f.slidesGrid.length;o++)-s>=f.slidesGrid[o]&&(e=o);return void 0===t&&(t=f.params.speed),f.previousIndex=f.activeIndex||0,f.activeIndex=e,s===f.translate?(f.updateClasses(),!1):(f.onTransitionStart(a),i(),i(),0===t?(f.setWrapperTransition(0),f.setWrapperTranslate(s),f.onTransitionEnd(a)):(f.setWrapperTransition(t),f.setWrapperTranslate(s),f.animating||(f.animating=!0,f.wrapper.transitionEnd(function(){f.onTransitionEnd(a)}))),f.updateClasses(),!0)},f.onTransitionStart=function(e){void 0===e&&(e=!0),f.lazy&&f.lazy.onTransitionStart(),e&&(f.params.onTransitionStart&&f.params.onTransitionStart(f),f.params.onSlideChangeStart&&f.activeIndex!==f.previousIndex&&f.params.onSlideChangeStart(f))},f.onTransitionEnd=function(e){f.animating=!1,f.setWrapperTransition(0),void 0===e&&(e=!0),f.lazy&&f.lazy.onTransitionEnd(),e&&(f.params.onTransitionEnd&&f.params.onTransitionEnd(f),f.params.onSlideChangeEnd&&f.activeIndex!==f.previousIndex&&f.params.onSlideChangeEnd(f))},f.slideNext=function(e,t,a){return f.params.loop?!f.animating&&(f.fixLoop(),f.container[0].clientLeft,f.slideTo(f.activeIndex+f.params.slidesPerGroup,t,e,a)):f.slideTo(f.activeIndex+f.params.slidesPerGroup,t,e,a)},f._slideNext=function(e){return f.slideNext(!0,e,!0)},f.slidePrev=function(e,t,a){return f.params.loop?!f.animating&&(f.fixLoop(),f.container[0].clientLeft,f.slideTo(f.activeIndex-1,t,e,a)):f.slideTo(f.activeIndex-1,t,e,a)},f._slidePrev=function(e){return f.slidePrev(!0,e,!0)},f.slideReset=function(e,t){return f.slideTo(f.activeIndex,t,e)},f.setWrapperTransition=function(e,t){f.wrapper.transition(e),f.params.onSetTransition&&f.params.onSetTransition(f,e),"slide"!==f.params.effect&&f.effects[f.params.effect]&&f.effects[f.params.effect].setTransition(e),f.params.parallax&&f.parallax&&f.parallax.setTransition(e),f.params.scrollbar&&f.scrollbar&&f.scrollbar.setTransition(e),f.params.control&&f.controller&&f.controller.setTransition(e,t)},f.setWrapperTranslate=function(e,t,a){var n=0,s=0;i()?n=f.rtl?-e:e:s=e,f.wrapper.transform(f.support.transforms3d?"translate3d("+n+"px, "+s+"px, 0px)":"translate("+n+"px, "+s+"px)"),f.translate=i()?n:s,t&&f.updateActiveIndex(),"slide"!==f.params.effect&&f.effects[f.params.effect]&&f.effects[f.params.effect].setTranslate(f.translate),f.params.parallax&&f.parallax&&f.parallax.setTranslate(f.translate),f.params.scrollbar&&f.scrollbar&&f.scrollbar.setTranslate(f.translate),f.params.control&&f.controller&&f.controller.setTranslate(f.translate,a),f.params.hashnav&&f.hashnav&&f.hashnav.setHash(),f.params.onSetTranslate&&f.params.onSetTranslate(f,f.translate)},f.getTranslate=function(e,t){var a,i,n,s;return void 0===t&&(t="x"),n=window.getComputedStyle(e,null),window.WebKitCSSMatrix?s=new WebKitCSSMatrix("none"===n.webkitTransform?"":n.webkitTransform):(s=n.MozTransform||n.OTransform||n.MsTransform||n.msTransform||n.transform||n.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=s.toString().split(",")),"x"===t&&(i=window.WebKitCSSMatrix?s.m41:parseFloat(16===a.length?a[12]:a[4])),"y"===t&&(i=window.WebKitCSSMatrix?s.m42:parseFloat(16===a.length?a[13]:a[5])),f.rtl&&i&&(i=-i),i||0},f.getWrapperTranslate=function(e){return void 0===e&&(e=i()?"x":"y"),f.getTranslate(f.wrapper[0],e)},f.observers=[],f.initObservers=function(){if(f.params.observeParents)for(var e=f.container.parents(),t=0;t<e.length;t++)o(e[t]);o(f.container[0],{childList:!1}),o(f.wrapper[0],{attributes:!1})},f.disconnectObservers=function(){for(var e=0;e<f.observers.length;e++)f.observers[e].disconnect();f.observers=[]},f.createLoop=function(){f.wrapper.children("."+f.params.slideClass+"."+f.params.slideDuplicateClass).remove();var e=f.wrapper.children("."+f.params.slideClass);f.loopedSlides=parseInt(f.params.loopedSlides||f.params.slidesPerView,10),f.loopedSlides=f.loopedSlides+f.params.loopAdditionalSlides,f.loopedSlides>e.length&&(f.loopedSlides=e.length);var t,a=[],i=[];for(e.each(function(t,n){var s=h(this);t<f.loopedSlides&&i.push(n),t<e.length&&t>=e.length-f.loopedSlides&&a.push(n),s.attr("data-swiper-slide-index",t)}),t=0;t<i.length;t++)f.wrapper.append(h(i[t].cloneNode(!0)).addClass(f.params.slideDuplicateClass));for(t=a.length-1;t>=0;t--)f.wrapper.prepend(h(a[t].cloneNode(!0)).addClass(f.params.slideDuplicateClass))},f.destroyLoop=function(){f.wrapper.children("."+f.params.slideClass+"."+f.params.slideDuplicateClass).remove()},f.fixLoop=function(){var e;f.activeIndex<f.loopedSlides?(e=f.slides.length-3*f.loopedSlides+f.activeIndex,e+=f.loopedSlides,f.slideTo(e,0,!1,!0)):("auto"===f.params.slidesPerView&&f.activeIndex>=2*f.loopedSlides||f.activeIndex>f.slides.length-2*f.params.slidesPerView)&&(e=-f.slides.length+f.activeIndex+f.loopedSlides,e+=f.loopedSlides,f.slideTo(e,0,!1,!0))},f.appendSlide=function(e){if(f.params.loop&&f.destroyLoop(),"object"==typeof e&&e.length)for(var t=0;t<e.length;t++)e[t]&&f.wrapper.append(e[t]);else f.wrapper.append(e);f.params.loop&&f.createLoop(),f.params.observer&&f.support.observer||f.update(!0)},f.prependSlide=function(e){f.params.loop&&f.destroyLoop();var t=f.activeIndex+1;if("object"==typeof e&&e.length){for(var a=0;a<e.length;a++)e[a]&&f.wrapper.prepend(e[a]);t=f.activeIndex+e.length}else f.wrapper.prepend(e);f.params.loop&&f.createLoop(),f.params.observer&&f.support.observer||f.update(!0),f.slideTo(t,0,!1)},f.removeSlide=function(e){f.params.loop&&f.destroyLoop();var t,a=f.activeIndex;if("object"==typeof e&&e.length){for(var i=0;i<e.length;i++)t=e[i],f.slides[t]&&f.slides.eq(t).remove(),a>t&&a--;a=Math.max(a,0)}else t=e,f.slides[t]&&f.slides.eq(t).remove(),a>t&&a--,a=Math.max(a,0);f.params.observer&&f.support.observer||f.update(!0),f.slideTo(a,0,!1)},f.removeAllSlides=function(){for(var e=[],t=0;t<f.slides.length;t++)e.push(t);f.removeSlide(e)},f.effects={fade:{setTranslate:function(){for(var e=0;e<f.slides.length;e++){var t=f.slides.eq(e),a=-t[0].swiperSlideOffset-f.translate,n=0;i()||(n=a,a=0);var s=f.params.fade.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);t.css({opacity:s}).transform("translate3d("+a+"px, "+n+"px, 0px)")}},setTransition:function(e){f.slides.transition(e)}},cube:{setTranslate:function(){var e,t=0;f.params.cube.shadow&&(i()?(0===(e=f.wrapper.find(".swiper-cube-shadow")).length&&(e=h('<div class="swiper-cube-shadow"></div>'),f.wrapper.append(e)),e.css({height:f.width+"px"})):0===(e=f.container.find(".swiper-cube-shadow")).length&&(e=h('<div class="swiper-cube-shadow"></div>'),f.container.append(e)));for(var a=0;a<f.slides.length;a++){var n=f.slides.eq(a),s=90*a,o=Math.floor(s/360);f.rtl&&(s=-s,o=Math.floor(-s/360));var r=Math.max(Math.min(n[0].progress,1),-1),l=0,d=0,c=0;a%4==0?(l=4*-o*f.size,c=0):(a-1)%4==0?(l=0,c=4*-o*f.size):(a-2)%4==0?(l=f.size+4*o*f.size,c=f.size):(a-3)%4==0&&(l=-f.size,c=3*f.size+4*f.size*o),f.rtl&&(l=-l),i()||(d=l,l=0);var p="rotateX("+(i()?0:-s)+"deg) rotateY("+(i()?s:0)+"deg) translate3d("+l+"px, "+d+"px, "+c+"px)";if(1>=r&&r>-1&&(t=90*a+90*r,f.rtl&&(t=90*-a-90*r)),n.transform(p),f.params.cube.slideShadows){var u=n.find(i()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),g=n.find(i()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===u.length&&(u=h('<div class="swiper-slide-shadow-'+(i()?"left":"top")+'"></div>'),n.append(u)),0===g.length&&(g=h('<div class="swiper-slide-shadow-'+(i()?"right":"bottom")+'"></div>'),n.append(g)),n[0].progress,u.length&&(u[0].style.opacity=-n[0].progress),g.length&&(g[0].style.opacity=n[0].progress)}}if(f.wrapper.css({"-webkit-transform-origin":"50% 50% -"+f.size/2+"px","-moz-transform-origin":"50% 50% -"+f.size/2+"px","-ms-transform-origin":"50% 50% -"+f.size/2+"px","transform-origin":"50% 50% -"+f.size/2+"px"}),f.params.cube.shadow)if(i())e.transform("translate3d(0px, "+(f.width/2+f.params.cube.shadowOffset)+"px, "+-f.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+f.params.cube.shadowScale+")");else{var m=Math.abs(t)-90*Math.floor(Math.abs(t)/90),v=1.5-(Math.sin(2*m*Math.PI/360)/2+Math.cos(2*m*Math.PI/360)/2),$=f.params.cube.shadowScale,y=f.params.cube.shadowScale/v,b=f.params.cube.shadowOffset;e.transform("scale3d("+$+", 1, "+y+") translate3d(0px, "+(f.height/2+b)+"px, "+-f.height/2/y+"px) rotateX(-90deg)")}var w=f.isSafari||f.isUiWebView?-f.size/2:0;f.wrapper.transform("translate3d(0px,0,"+w+"px) rotateX("+(i()?0:t)+"deg) rotateY("+(i()?-t:0)+"deg)")},setTransition:function(e){f.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),f.params.cube.shadow&&!i()&&f.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=f.translate,t=i()?-e+f.width/2:-e+f.height/2,a=i()?f.params.coverflow.rotate:-f.params.coverflow.rotate,n=f.params.coverflow.depth,s=0,o=f.slides.length;o>s;s++){var r=f.slides.eq(s),l=f.slidesSizesGrid[s],d=(t-r[0].swiperSlideOffset-l/2)/l*f.params.coverflow.modifier,c=i()?a*d:0,p=i()?0:a*d,u=-n*Math.abs(d),g=i()?0:f.params.coverflow.stretch*d,m=i()?f.params.coverflow.stretch*d:0;Math.abs(m)<.001&&(m=0),Math.abs(g)<.001&&(g=0),Math.abs(u)<.001&&(u=0),Math.abs(c)<.001&&(c=0),Math.abs(p)<.001&&(p=0);var v="translate3d("+m+"px,"+g+"px,"+u+"px)  rotateX("+p+"deg) rotateY("+c+"deg)";if(r.transform(v),r[0].style.zIndex=1-Math.abs(Math.round(d)),f.params.coverflow.slideShadows){var $=r.find(i()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),y=r.find(i()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===$.length&&($=h('<div class="swiper-slide-shadow-'+(i()?"left":"top")+'"></div>'),r.append($)),0===y.length&&(y=h('<div class="swiper-slide-shadow-'+(i()?"right":"bottom")+'"></div>'),r.append(y)),$.length&&($[0].style.opacity=d>0?d:0),y.length&&(y[0].style.opacity=-d>0?-d:0)}}(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&(f.wrapper.style.perspectiveOrigin=t+"px 50%")},setTransition:function(e){f.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},f.lazy={initialImageLoaded:!1,loadImageInSlide:function(e){if(void 0!==e&&0!==f.slides.length){var t=f.slides.eq(e),a=t.find("img.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");0!==a.length&&a.each(function(){var e=h(this);e.addClass("swiper-lazy-loading");var a=e.attr("data-src");f.loadImage(e[0],a,!1,function(){e.attr("src",a),e.removeAttr("data-src"),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),t.find(".swiper-lazy-preloader, .preloader").remove(),f.params.onLazyImageLoaded&&f.params.onLazyImageLoaded(f,t[0],e[0])}),f.params.onLazyImageLoad&&f.params.onLazyImageLoad(f,t[0],e[0])})}},load:function(){if(f.params.watchSlidesVisibility)f.wrapper.children("."+f.params.slideVisibleClass).each(function(){f.lazy.loadImageInSlide(h(this).index())});else if(f.params.slidesPerView>1)for(var e=f.activeIndex;e<f.activeIndex+f.params.slidesPerView;e++)f.slides[e]&&f.lazy.loadImageInSlide(e);else f.lazy.loadImageInSlide(f.activeIndex);if(f.params.lazyLoadingInPrevNext){var t=f.wrapper.children("."+f.params.slideNextClass);t.length>0&&f.lazy.loadImageInSlide(t.index());var a=f.wrapper.children("."+f.params.slidePrevClass);a.length>0&&f.loadImageInSlide(a.index())}},onTransitionStart:function(){f.params.lazyLoading&&(f.params.lazyLoadingOnTransitionStart||!f.params.lazyLoadingOnTransitionStart&&!f.lazy.initialImageLoaded)&&(f.lazy.initialImageLoaded=!0,f.lazy.load())},onTransitionEnd:function(){f.params.lazyLoading&&!f.params.lazyLoadingOnTransitionStart&&f.lazy.load()}},f.scrollbar={set:function(){if(f.params.scrollbar){var e=f.scrollbar;e.track=h(f.params.scrollbar),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=h('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=i()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=f.size/f.virtualWidth,e.moveDivider=e.divider*(e.trackSize/f.size),e.dragSize=e.trackSize*e.divider,i()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.track[0].style.display=e.divider>=1?"none":"",f.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(f.params.scrollbar){var e,t=f.scrollbar,a=(f.translate,t.dragSize);e=(t.trackSize-t.dragSize)*f.progress,f.rtl&&i()?(e=-e)>0?(a=t.dragSize-e,e=0):-e+t.dragSize>t.trackSize&&(a=t.trackSize+e):0>e?(a=t.dragSize+e,e=0):e+t.dragSize>t.trackSize&&(a=t.trackSize-e),i()?(t.drag.transform("translate3d("+e+"px, 0, 0)"),t.drag[0].style.width=a+"px"):(t.drag.transform("translate3d(0px, "+e+"px, 0)"),t.drag[0].style.height=a+"px"),f.params.scrollbarHide&&(clearTimeout(t.timeout),t.track[0].style.opacity=1,t.timeout=setTimeout(function(){t.track[0].style.opacity=0,t.track.transition(400)},1e3))}},setTransition:function(e){f.params.scrollbar&&f.scrollbar.drag.transition(e)}},f.controller={setTranslate:function(e,t){var a,i,n=f.params.control;if(f.isArray(n))for(var s=0;s<n.length;s++)n[s]!==t&&n[s]instanceof Swiper&&(e=n[s].rtl&&"horizontal"===n[s].params.direction?-f.translate:f.translate,a=(n[s].maxTranslate()-n[s].minTranslate())/(f.maxTranslate()-f.minTranslate()),i=(e-f.minTranslate())*a+n[s].minTranslate(),f.params.controlInverse&&(i=n[s].maxTranslate()-i),n[s].updateProgress(i),n[s].setWrapperTranslate(i,!1,f),n[s].updateActiveIndex());else n instanceof Swiper&&t!==n&&(e=n.rtl&&"horizontal"===n.params.direction?-f.translate:f.translate,a=(n.maxTranslate()-n.minTranslate())/(f.maxTranslate()-f.minTranslate()),i=(e-f.minTranslate())*a+n.minTranslate(),f.params.controlInverse&&(i=n.maxTranslate()-i),n.updateProgress(i),n.setWrapperTranslate(i,!1,f),n.updateActiveIndex())},setTransition:function(e,t){var a=f.params.control;if(f.isArray(a))for(var i=0;i<a.length;i++)a[i]!==t&&a[i]instanceof Swiper&&a[i].setWrapperTransition(e,f);else a instanceof Swiper&&t!==a&&a.setWrapperTransition(e,f)}},f.hashnav={init:function(){if(f.params.hashnav){f.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var t=0,a=f.slides.length;a>t;t++){var i=f.slides.eq(t);if(i.attr("data-hash")===e&&!i.hasClass(f.params.slideDuplicateClass)){var n=i.index();f.slideTo(n,0,f.params.runCallbacksOnInit,!0)}}}},setHash:function(){f.hashnav.initialized&&f.params.hashnav&&(document.location.hash=f.slides.eq(f.activeIndex).attr("data-hash")||"")}},f.disableKeyboardControl=function(){h(document).off("keydown",r)},f.enableKeyboardControl=function(){h(document).on("keydown",r)},f._wheelEvent=!1,f._lastWheelScrollTime=(new Date).getTime(),f.params.mousewheelControl){if(void 0!==document.onmousewheel&&(f._wheelEvent="mousewheel"),!f._wheelEvent)try{new WheelEvent("wheel"),f._wheelEvent="wheel"}catch(e){}f._wheelEvent||(f._wheelEvent="DOMMouseScroll")}return f.disableMousewheelControl=function(){return!!f._wheelEvent&&(f.container.off(f._wheelEvent,l),!0)},f.enableMousewheelControl=function(){return!!f._wheelEvent&&(f.container.on(f._wheelEvent,l),!0)},f.parallax={setTranslate:function(){f.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,f.progress)}),f.slides.each(function(){var e=h(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){d(this,Math.min(Math.max(e[0].progress,-1),1))})})},setTransition:function(e){void 0===e&&(e=f.params.speed),f.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=h(this),a=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(a=0),t.transition(a)})}},f.init=function(){f.params.loop&&f.createLoop(),f.updateContainerSize(),f.updateSlidesSize(),f.updatePagination(),f.params.scrollbar&&f.scrollbar&&f.scrollbar.set(),"slide"!==f.params.effect&&f.effects[f.params.effect]&&(f.params.loop||f.updateProgress(),f.effects[f.params.effect].setTranslate()),f.params.loop?f.slideTo(f.params.initialSlide+f.loopedSlides,0,f.params.runCallbacksOnInit):(f.slideTo(f.params.initialSlide,0,f.params.runCallbacksOnInit),0===f.params.initialSlide&&(f.parallax&&f.params.parallax&&f.parallax.setTranslate(),f.lazy&&f.params.lazyLoading&&f.lazy.load())),f.attachEvents(),f.params.observer&&f.support.observer&&f.initObservers(),f.params.preloadImages&&!f.params.lazyLoading&&f.preloadImages(),f.params.autoplay&&f.startAutoplay(),f.params.keyboardControl&&f.enableKeyboardControl&&f.enableKeyboardControl(),f.params.mousewheelControl&&f.enableMousewheelControl&&f.enableMousewheelControl(),f.params.hashnav&&f.hashnav&&f.hashnav.init(),f.params.onInit&&f.params.onInit(f)},f.destroy=function(e){f.detachEvents(),f.disconnectObservers(),f.params.keyboardControl&&f.disableKeyboardControl&&f.disableKeyboardControl(),f.params.mousewheelControl&&f.disableMousewheelControl&&f.disableMousewheelControl(),f.params.onDestroy&&f.params.onDestroy(),!1!==e&&(f=null)},f.init(),f}},Swiper.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled},device:function(){var e=navigator.userAgent,t=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),i=(e.match(/(iPod)(.*OS\s([\d_]+))?/),!a&&e.match(/(iPhone\sOS)\s([\d_]+)/));return{ios:a||i||a,android:t}}(),support:{touch:window.Modernizr&&!0===Modernizr.touch||!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),transforms3d:window.Modernizr&&!0===Modernizr.csstransforms3d||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,t="WebkitBox msFlexbox MsFlexbox WebkitFlex MozBox flex".split(" "),a=0;a<t.length;a++)if(t[a]in e)return!0}(),observer:"MutationObserver"in window||"WebkitMutationObserver"in window}};for(var e=(function(){var e=function(e){var t=this,a=0;for(a=0;a<e.length;a++)t[a]=e[a];return t.length=e.length,this},t=function(t,a){var i=[],n=0;if(t&&!a&&t instanceof e)return t;if(t)if("string"==typeof t){var s,o,r=t.trim();if(r.indexOf("<")>=0&&r.indexOf(">")>=0){var l="div";for(0===r.indexOf("<li")&&(l="ul"),0===r.indexOf("<tr")&&(l="tbody"),(0===r.indexOf("<td")||0===r.indexOf("<th"))&&(l="tr"),0===r.indexOf("<tbody")&&(l="table"),0===r.indexOf("<option")&&(l="select"),(o=document.createElement(l)).innerHTML=t,n=0;n<o.childNodes.length;n++)i.push(o.childNodes[n])}else for(s=a||"#"!==t[0]||t.match(/[ .<>:~]/)?(a||document).querySelectorAll(t):[document.getElementById(t.split("#")[1])],n=0;n<s.length;n++)s[n]&&i.push(s[n])}else if(t.nodeType||t===window||t===document)i.push(t);else if(t.length>0&&t[0].nodeType)for(n=0;n<t.length;n++)i.push(t[n]);return new e(i)};return e.prototype={addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)this[i].classList.add(t[a]);return this},removeClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)this[i].classList.remove(t[a]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),a=0;a<t.length;a++)for(var i=0;i<this.length;i++)this[i].classList.toggle(t[a]);return this},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var a=0;a<this.length;a++)if(2===arguments.length)this[a].setAttribute(e,t);else for(var i in e)this[a][i]=e[i],this[a].setAttribute(i,e[i]);return this},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e)},data:function(e,t){if(void 0!==t){for(var a=0;a<this.length;a++){var i=this[a];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=t}return this}if(this[0]){var n=this[0].getAttribute("data-"+e);return n||(this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0)}},transform:function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this},on:function(e,a,i,n){function s(e){var n=e.target;if(t(n).is(a))i.call(n,e);else for(var s=t(n).parents(),o=0;o<s.length;o++)t(s[o]).is(a)&&i.call(s[o],e)}var o,r,l=e.split(" ");for(o=0;o<this.length;o++)if("function"==typeof a||!1===a)for("function"==typeof a&&(i=arguments[1],n=arguments[2]||!1),r=0;r<l.length;r++)this[o].addEventListener(l[r],i,n);else for(r=0;r<l.length;r++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:i,liveListener:s}),this[o].addEventListener(l[r],s,n);return this},off:function(e,t,a,i){for(var n=e.split(" "),s=0;s<n.length;s++)for(var o=0;o<this.length;o++)if("function"==typeof t||!1===t)"function"==typeof t&&(a=arguments[1],i=arguments[2]||!1),this[o].removeEventListener(n[s],a,i);else if(this[o].dom7LiveListeners)for(var r=0;r<this[o].dom7LiveListeners.length;r++)this[o].dom7LiveListeners[r].listener===a&&this[o].removeEventListener(n[s],this[o].dom7LiveListeners[r].liveListener,i);return this},once:function(e,t,a,i){function n(o){a(o),s.off(e,t,n,i)}var s=this;"function"==typeof t&&(t=!1,a=arguments[1],i=arguments[2]),s.on(e,t,n,i)},trigger:function(e,t){for(var a=0;a<this.length;a++){var i;try{i=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0})}catch(a){(i=document.createEvent("Event")).initEvent(e,!0,!0),i.detail=t}this[a].dispatchEvent(i)}return this},transitionEnd:function(e){function t(s){if(s.target===this)for(e.call(this,s),a=0;a<i.length;a++)n.off(i[a],t)}var a,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(e)for(a=0;a<i.length;a++)n.on(i[a],t);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],t=e.getBoundingClientRect(),a=document.body,i=e.clientTop||a.clientTop||0,n=e.clientLeft||a.clientLeft||0,s=window.pageYOffset||e.scrollTop,o=window.pageXOffset||e.scrollLeft;return{top:t.top+s-i,left:t.left+o-n}}return null},css:function(e,t){var a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a++)for(var i in e)this[a].style[i]=e[i];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a++)this[a].style[e]=t;return this}return this},each:function(e){for(var t=0;t<this.length;t++)e.call(this[t],t,this[t]);return this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},is:function(a){if(!this[0])return!1;var i,n;if("string"==typeof a){var s=this[0];if(s===document)return a===document;if(s===window)return a===window;if(s.matches)return s.matches(a);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(a);if(s.mozMatchesSelector)return s.mozMatchesSelector(a);if(s.msMatchesSelector)return s.msMatchesSelector(a);for(i=t(a),n=0;n<i.length;n++)if(i[n]===this[0])return!0;return!1}if(a===document)return this[0]===document;if(a===window)return this[0]===window;if(a.nodeType||a instanceof e){for(i=a.nodeType?[a]:a,n=0;n<i.length;n++)if(i[n]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],t=0;null!==(e=e.previousSibling);)1===e.nodeType&&t++;return t}},eq:function(t){if(void 0===t)return this;var a,i=this.length;return t>i-1?new e([]):0>t?(a=i+t,new e(0>a?[]:[this[a]])):new e([this[t]])},append:function(t){var a,i;for(a=0;a<this.length;a++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)this[a].appendChild(n.firstChild)}else if(t instanceof e)for(i=0;i<t.length;i++)this[a].appendChild(t[i]);else this[a].appendChild(t);return this},prepend:function(t){var a,i;for(a=0;a<this.length;a++)if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t,i=n.childNodes.length-1;i>=0;i--)this[a].insertBefore(n.childNodes[i],this[a].childNodes[0])}else if(t instanceof e)for(i=0;i<t.length;i++)this[a].insertBefore(t[i],this[a].childNodes[0]);else this[a].insertBefore(t,this[a].childNodes[0]);return this},insertBefore:function(e){for(var a=t(e),i=0;i<this.length;i++)if(1===a.length)a[0].parentNode.insertBefore(this[i],a[0]);else if(a.length>1)for(var n=0;n<a.length;n++)a[n].parentNode.insertBefore(this[i].cloneNode(!0),a[n])},insertAfter:function(e){for(var a=t(e),i=0;i<this.length;i++)if(1===a.length)a[0].parentNode.insertBefore(this[i],a[0].nextSibling);else if(a.length>1)for(var n=0;n<a.length;n++)a[n].parentNode.insertBefore(this[i].cloneNode(!0),a[n].nextSibling)},next:function(a){return new e(this.length>0?a?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(a)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(a){var i=[],n=this[0];if(!n)return new e([]);for(;n.nextElementSibling;){var s=n.nextElementSibling;a?t(s).is(a)&&i.push(s):i.push(s),n=s}return new e(i)},prev:function(a){return new e(this.length>0?a?this[0].previousElementSibling&&t(this[0].previousElementSibling).is(a)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(a){var i=[],n=this[0];if(!n)return new e([]);for(;n.previousElementSibling;){var s=n.previousElementSibling;a?t(s).is(a)&&i.push(s):i.push(s),n=s}return new e(i)},parent:function(e){for(var a=[],i=0;i<this.length;i++)e?t(this[i].parentNode).is(e)&&a.push(this[i].parentNode):a.push(this[i].parentNode);return t(t.unique(a))},parents:function(e){for(var a=[],i=0;i<this.length;i++)for(var n=this[i].parentNode;n;)e?t(n).is(e)&&a.push(n):a.push(n),n=n.parentNode;return t(t.unique(a))},find:function(t){for(var a=[],i=0;i<this.length;i++)for(var n=this[i].querySelectorAll(t),s=0;s<n.length;s++)a.push(n[s]);return new e(a)},children:function(a){for(var i=[],n=0;n<this.length;n++)for(var s=this[n].childNodes,o=0;o<s.length;o++)a?1===s[o].nodeType&&t(s[o]).is(a)&&i.push(s[o]):1===s[o].nodeType&&i.push(s[o]);return new e(t.unique(i))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,a,i=this;for(e=0;e<arguments.length;e++){var n=t(arguments[e]);for(a=0;a<n.length;a++)i[i.length]=n[a],i.length++}return i}},t.fn=e.prototype,t.unique=function(e){for(var t=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t},t}()),t=["jQuery","Zepto","Dom7"],a=0;a<t.length;a++)window[t[a]]&&function(e){e.fn.swiper=function(t){var a;return e(this).each(function(){var e=new Swiper(this,t);a||(a=e)}),a}}(window[t[a]]);var i;(i=void 0===e?window.Dom7||window.Zepto||window.jQuery:e)&&("transitionEnd"in i.fn||(i.fn.transitionEnd=function(e){function t(s){if(s.target===this)for(e.call(this,s),a=0;a<i.length;a++)n.off(i[a],t)}var a,i=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],n=this;if(e)for(a=0;a<i.length;a++)n.on(i[a],t);return this}),"transform"in i.fn||(i.fn.transform=function(e){for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransform=a.MsTransform=a.msTransform=a.MozTransform=a.OTransform=a.transform=e}return this}),"transition"in i.fn||(i.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var a=this[t].style;a.webkitTransitionDuration=a.MsTransitionDuration=a.msTransitionDuration=a.MozTransitionDuration=a.OTransitionDuration=a.transitionDuration=e}return this}))}(),"undefined"!=typeof module?module.exports=Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return Swiper}),jqueryCommon();var cFunction_resetSecond;$(function(){$.widget("custom.pluginpager",{options:{pageIndex:0,pageCount:1,totalCount:0,pageSize:20,queryData:{},returnFun:function(e){}},_init:function(){this.element.children().remove(),this._createDoms(),this._addEvent()},_addEvent:function(){var e=this.options.pageIndex;e=parseInt(e),isNaN(e)&&(e=1);var t=this.options.pageCount,a=this.options.queryData,i=this.options.returnFun;this.element.find(".prev-page").click(function(){if(!(e<=1)){var t=e-1;a.pageIndex=t,scrollTo(0,0),i(a)}}),this.element.find(".next-page").click(function(){if(!(e>=t)){var n=e+1;a.pageIndex=n,scrollTo(0,0),i(a)}}),this.element.find(".jumppageBtn").click(function(){var e=$(this),n=e.parent().find(".jumpindex").val();return/^[1-9]\d*$/.test(n)?(n=parseInt(n),isNaN(n)?(cFunYdj.alertMoni("请填写正确的页码！"),e.parent().find(".jumpindex").val(""),!1):(n>t&&(cFunYdj.alertMoni("最大页码数为"+t+"！"),n=t),a.pageIndex=n,scrollTo(0,0),void i(a))):(cFunYdj.alertMoni("请填写正确的页码！"),e.parent().find(".jumpindex").val(""),!1)})},_createDoms:function(){var e=this.options.totalCount,t=this.options.pageIndex,a=this.options.pageCount,i=this.options.pageSize,n=this.element;n.hasClass("turnPage")||n.addClass("turnPage").empty();var s=$("<div></div>");s.append('<span class="font-size-shier flaotright" totalCount="'+e+'" pageSize="'+i+'">共 '+e+" 条  每页 "+i+" 条</span>"),s.append('<div class="clear"></div>'),n.append(s);var o=$('<div class="btnwrap tcenter top-spacing-ershi"></div>');return o.append('<a href="javascript:void(0);" class="font-size-shisi prev-page" >上一页</a>'),o.append('<span class="font-size-shier pageViewShow" pageIndex="'+t+'">  第 '+t+" 页 </span>"),o.append('<a href="javascript:void(0);" class="font-size-shisi next-page" >下一页</a>'),o.append('<input type="button" class="btn-default min-btn flaotright jumppageBtn" value="确定">'),o.append('<span class=" font-size-shier flaotright right-spacing-shi">共'+a+'页   跳转至<input type="text" class="exmin-textinput jumpindex">页</span>'),o.append('<div class="clear"></div>'),n.append(o),n}})}),function(){var e={addyanzheng:function(){function e(t){t.indexOf('"')>-1&&e(i=t.replace('"',"'"))}var t=$(".headerTitle input").val(),a=!1;if($(".container_homeUserD_jf").length>0&&(a=!0,t="积分商城"),void 0==t||"right"==cFunYdj.judgeNull(t))return cFunYdj.alertMoni("活动名称不能为空"),!1;cfm.mainHtmlJson={title:t,main:""};var i="";return $(".userDefin-liLayer").each(function(){function e(t){(t.indexOf('<div class="clear"> </div>')>0||t.indexOf('<span class="buy-btn"></span>')>0)&&e(y=t.replace('<div class="clear"> </div>'," ").replace('<span class="buy-btn"></span>',"<img src='"+cfm.baseUrl_t+"img/lijigoumai_1@2x.png' class='goodsBuy'>").replace('<p class="price">￥99.9</p>','<p class="price"></p>'))}var t=$(this);switch(t.attr("dataClass")){case"goods":var n=!0;t.find("li").each(function(){$(this).find("img").length<1&&(n=!1)});var s="",o="src";if($(".container_homeUserD").length>0&&(s=" lazy",o="data-original"),n)if((l=t.find("li:first")).hasClass("big-map")){r=t.find("li").length;t.find("li").each(function(e){var t=$(this),a=" n",n="",l="<span class='name overflowDian'>"+t.find(".name").html()+"</span>";t.find(".name").length<1&&(a="",n="<img src='img/lijigoumai_1@2x.png' class='goodsBuy'>",l="");var d=$(this).attr("dataid"),c=t.find("a").attr("href");"right"==cFunYdj.judgeNull(c)&&(c="javascript:;");var p="";e+1==r&&(p=" last"),i=i+"<li class='goods big"+p+"' dataid='"+d+"' data_code='"+t.attr("data_code")+"'><a href='"+c+"'><div class='goodsTop'><img class='goodsImg"+s+"' "+o+"='"+t.find("img").attr("src")+"'></div><div class='goodsDown'>"+l+"<span class='price"+a+"'>"+t.find(".price").html()+"</span>"+n+"</div></a></li>"})}else if(l.hasClass("small-map"))i+="<li class='little'><ul>",t.find("li").each(function(){var e=$(this),t=" n",a="",n="<span class='name overflowDian'>"+e.find(".name").html()+"</span>";e.find(".name").length<1&&(t="",a="<img src='img/lijigoumai_1@2x.png' class='goodsBuy'>",n="");var r=$(this).attr("dataid"),l=e.find("a").attr("href");"right"==cFunYdj.judgeNull(l)&&(l="javascript:;"),i=i+"<li class='goods' dataid='"+r+"' data_code='"+e.attr("data_code")+"'><a href='"+l+"'> <div class='goodsTop'><img class='goodsImg"+s+"' "+o+"='"+e.find("img").attr("src")+"'></div><div class='goodsDown"+t+"'>"+n+"<span class='price tleft"+t+"'>"+e.find(".price").html()+"</span>"+a+"</div></a></li>"}),i+="</ul></li>";else if(l.hasClass("detail-map")){var r=t.find("li").length;t.find("li").each(function(e){var t=$(this),a="<span class='gg'>"+t.find(".gg").text()+"</span>",n="<span class='des'>"+t.find(".des").text()+"</span>";t.find(".des").length<1&&(a="<div class='goodsBuyDiv'><img src='img/lijigoumai_1@2x.png' class='goodsBuy'></div>",n="");var l=$(this).attr("dataid"),d=t.find("a").attr("href");"right"==cFunYdj.judgeNull(d)&&(d="javascript:;");var c="",p="";0==e&&(p=" first"),e+1==r&&(c=" last"),i=i+"<li class='goods list"+c+p+"' dataid='"+l+"' data_code='"+t.attr("data_code")+"'><a href='"+d+"'> <ul><li><div class='goodsTop'><img class='goodsImg"+s+"' "+o+"='"+t.find("img").attr("src")+"'></div><div class='goodsDown'><span class='name'>"+t.find(".name").text()+"</span>"+n+"<span class='price'>"+t.find(".price").html()+"</span>"+a+"</div></li></ul></a></li>"})}break;case"imgAd":if(t.find("img:first").attr("src")==t.find("img:first").attr("defaultSrc"))return i="incomplete",cFunYdj.alertMoni("顶部轮换图片不能为空"),!1;T="";t.find(".swiper-slide").each(function(){var e=$(this);T=T+"<div class='swiper-slide'><a href='"+e.find("a").attr("href")+"'><img src='"+e.find("img").attr("src")+"'><span class='floatGG'>广告</span></a></div>"}),t.find(".url").length>0&&(T=T+"<div class='swiper-slide'><a href='"+t.find("a").attr("href")+"'><img src='"+t.find("img").attr("src")+"'></a></div>"),i=a?i+"<li class='banner_top'><div class='swiper-container'><div class='swiper-wrapper'>"+T+"</div><div class='swiper-pagination'></div></div></li><li class='jfRule'><div class='left'>我的积分<span>000</span></div><div class='center'></div><div class='right'><div class='img'></div><div>积分规则</div></div></li><li><ul class='jfNavCenter'><li class='wxdh'><a href='javascript:;'><div class='img'></div><div class='con'>我能兑换</div></a></li><li class='xlph'><a href='javascript:;'><div class='img'></div><div class='con'>销量排行</div></a></li><li class='dhjl'><a href='javascript:;'><div class='img'></div><div class='con'>兑换记录</div></a></li><li class='qdsjf'><a href='javascript:;'><div class='img'></div><div class='con'>签到送积分</div></a></li></ul></li>":i+"<li class='imgAd'><div class='swiper-container swiper-container-imgAd'><div class='swiper-wrapper'>"+T+"</div><div class='swiper-pagination'></div></div></li>";break;case"coupon":if(!t.find("li:first").hasClass("coupon_no")){var l=t.find("li:first");l.hasClass("coupon1")?t.find("li").each(function(){var e=$(this);i=i+"<li class='coupon coupon1' dataId='"+e.attr("dataid")+"' dataType='"+e.attr("dataType")+"'>"+e.html()+"</li>"}):l.hasClass("coupon2")&&t.find("li").each(function(){var e=$(this);i=i+"<li class='coupon coupon2' dataId='"+e.attr("dataid")+"' dataType='"+e.attr("dataType")+"'>"+e.html()+"</li>"})}break;case"notice":var d=t.find(".noticeMains").text();d!=cfm.noticeNote&&(i=i+"<li class='notice'><div class='noticeMain'><div class='noticeMainMove'>公告："+d+"</div></div></li>");break;case"gapAss":i=i+"<li class='gapAss' style='height:"+t.find(".gapAssMain").height()+"px;'></li>";break;case"title":var c=t.find(".pDefineTitle").text(),p=t.find(".pDefineTitle").attr("pTextStyle");c!=cfm.titleNote&&(i=i+"<li class='pTitle'><p class='pDefineTitle "+p+"'>"+c+"</p></li>");break;case"guide":var u=t.find(".guideLine-cc").attr("style"),f=t.find(".guideLine-cc").attr("LineStyle"),h=t.find(".guideLine-cc").parent().attr("marginState");void 0==u&&(u=""),i=i+"<li class='guide'><div class='guideLine-cc-wrapper "+h+"'><div class='guideLine-cc "+f+"' style='"+u+"'></div></div></li>";break;case"magicCube":t.find("table img").length>0&&(i=i+"<li class='magicCube'><table>"+t.find("table").html()+"</table><span class='floatGG'>广告</span></li>");break;case"goodsGroups":var g,m;if(g=t.find(".comGroupLeft").length>0?t.find(".comGroupLeft ul li"):t.find(".comGroupTop ul li"),t.find(".comGroupLeft").length>0){m=t.find(".comGroupRight"),i+="<li class='goodsGroups'><div class='comGroupShow'><div class='comGroupLeft'><ul>";var v="<div class='comGroupRight'>";g.each(function(e,t){var a=$(this).text(),n="<li><a href='javascript:;'><span>"+a+"</span></a></li>";0==e&&(n="<li class='on'><a href='javascript:;'><span>"+a+"</span></a></li>"),i+=n,v=v+"<div class='comGroup_head'>"+a+"</div><ul>",m.find("ul:eq("+e+") li").each(function(){var e=$(this);v=v+"<li dataid='"+e.attr("dataId")+"'><a href='javascript:;'><div class='comGroupRight_left'><img src='"+e.find("img").attr("src")+"'></div><div class='comGroupRight_right'><p class='goods_name'>"+e.find(".goods_name").text()+"</p><div class='price'><span class='priceDetail'></span><img src='"+cfm.baseUrl_t+"img/lijigoumai_1@2x.png' class='goodsBuy'></div></div></a></li>"}),v+="</ul>",e==g.length-1&&(i+="</ul></div>",v+="</div>")}),i=i+v+"</div></li>"}else if(t.find(".comGroupTop").length>0){m=t.find(".comGroupDown");var y=t.find(".comGroupShow").html();e(y),i=i+"<li class='goodsGroups'> <div class='comGroupShow comGroupShow_top'>"+y+"</div></li>"}break;case"richText":var b=t.css("backgroundColor"),w="";t.hasClass("padding0f")&&(w=" padding0f"),i=i+"<li class='wangEditor-container"+w+"' style='background:"+b+" !important'><div class='wangEditor-txt'>"+t.find(".wangEditor-txt").html()+"</div></li>";break;case"video":var _="";""!=(_=t.find(".videoMain").html())&&(i=i+"<li class='video'>"+_+"</li>");break;case"audio":var x=t.find("audio").attr("src");if(""!=x&&void 0!=x){var C=" audio_audio_style1",k=" left";t.find(".audio_style2").length>0&&(C=" audio_audio_style2",t.find(".audio_style2.right")>0&&(k=" right")),i=i+"<li class='audio_audio"+C+k+"'><div class='audioMain'>"+t.find(".audioMain").html()+"</div></li>"}break;case"search_all":i+="<li><div class='search searchDiv'><span class='img'></span>商品搜索:搜索商品关键字</div></li>";break;case"goods_rec":if(!t.find(".goodsRec li:first").hasClass("default")){i+="<div class='goodsRec goodsRec_ty' style='display:none;'><div class='head'><div class='left'></div><div class='center'>好货推荐</div><div class='right'><a href='javascript:;'>查看更多<span class='img'></span></a></div></div><div class='ul'><ul>";var S="";t.find(".goodsRec li").each(function(){S=S+"<li dataId='"+$(this).attr("dataId")+"'>"+$(this).html()+"</li>"}),i=i+S+"<div class='clear'> </div></ul></div></div><li>"}break;case"goods_rec_jff":if(t.find(".goods_rec_jf li:first").hasClass("default"))return i="incomplete",cFunYdj.alertMoni("积分商城的好货推荐还没有选择赠品"),!1;var T="";$(".goods_rec_jf ul li").each(function(){T=T+"<li dataId='"+$(this).attr("dataId")+"' data_code='"+$(this).attr("data_code")+"'>"+$(this).html()+"</li>"}),i=i+"<li class='haohuo_jf'><div class='top'><div class='name'><span></span>好货推荐</div><a href='javascript:;' class='more'>更多<span></span></a></div><ul>"+T+"</ul></li><li class='youhui_jf'><div class='top'><div class='name'><span></span>优惠券专区</div><a href='javascript:;' class='more'>更多<span></span></a></div><ul></ul></li>";break;case"door_near":i=i+"<li><div class='goodsRec doorRec doorRec_ty' style='display:none;'><div class='head'><div class='left'></div><div class='center'>离你最近</div><div class='right'><a href='wstore/list?mercode="+$("#merchantmercode").val()+"'>其他门店<span class='img'></span></a></div></div><div class='cont-box'></div></div><ul class='nLayer' style='display:none;'></ul></li>";break;case"banner_l":t.find("img:first").attr("src")!=t.find("img:first").attr("defaultSrc")&&(i+="<li><div class='nadAdd'><div class='swiper-container'><div class='swiper-wrapper'>",t.find(".swiper-slide").each(function(){var e=$(this);i=i+"<div class='swiper-slide'><a href='"+e.find("a").attr("href")+"'><img src='"+e.find("img").attr("src")+"'><span class='floatGG'>广告</span></a></div>"}),i+="</div><div class='swiper-pagination'></div></div></div></li>");break;case"nav_a":if(t.find(".default").length>0)return cFunYdj.alertMoni("还有导航图标没有选择"),i="incomplete",!1;var I="nav-options";t.find(".nav_main1").length>0&&(I="nMenuCenter"),i=i+"<li><div class='"+I+"'><ul>"+t.find(".nav_main").html()+"</ul></div></li>";break;case"goodsGroups_hp":var j=t.find(".goodsGroups_hpm"),D=j.attr("data_bt"),L=j.attr("data_fbt"),G=j.attr("data_src");if(void 0==D||""==D)return cFunYdj.alertMoni("还有商品分组的标题未填写"),i="incomplete",!1;if(j.find(".goodsGroup_list ul li:first").hasClass("default"))return cFunYdj.alertMoni("还有商品分组的商品未选择"),i="incomplete",!1;var M=" s1";if(j.hasClass("s2")){if(M=" s2",void 0==L||""==L)return cFunYdj.alertMoni("还有商品分组的副标题未填写"),i="incomplete",!1;if(void 0==G||""==G)return cFunYdj.alertMoni("还有商品分组的背景图片未上传"),i="incomplete",!1}i=i+"<li class='goodsGroups_hp"+M+"'>"+j.html()+"</li>"}}),"incomplete"!=i&&(e(i),cfm.mainHtmlJson.main=i,!0)},resetZYdate:function(){$(".coupon .time").each(function(){var e=$(this).text(),t=e.split("有效期");t.length>2&&(e="有效期"+t[t.length-1],$(this).text(e))})},resetMagicCubeImg:function(){$(".userDefin-liLayer.on").find("table").html($(".magicCube_controls table").html()).find("span").addClass("hidden")},resetGoodsGroupHeight:function(){var e=$(".li-comGroup-wrappers");e.length>0&&e.each(function(){var e=$(this);if(e.find(".comGroupLeft").length>0){e.find(".comGroupLeft,.comGroupRight").css("height","auto");var t=e.find(".comGroupRight").height(),a=e.find(".comGroupLeft").height();a>t&&(t=a),e.find(".comGroupLeft,.comGroupRight").css("height",t+"px")}})},creatEditer_rich:function(e){wangEditor.config.mapAk="67d28f499072d22dba8a978e2431794f",wangEditor.config.printLog=!1;var t=new wangEditor(e);t.config.uploadImgUrl="http://www.baidu.com",t.config.menus=["bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","quote","fontsize","head","|","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","emotion","|","img","video","location","|","undo","redo","fullscreen"],t.config.emotions={default:{title:"默认",data:"http://www.wangeditor.com/wangEditor/test/emotions.data"}},t.onchange=function(){var e=$(".richText .wangEditor-txt").html();"<p><br></p>"==$(".richText .wangEditor-txt").html()&&(e=cfm.editor_rich_default),$(".userDefin-liLayer.on .richTextMain").html(e)},t.create()},audioReset:function(){var e=$(".userDefin-liLayer.on"),t=$(".audio"),a=t.find("audio").attr("src");void 0==a&&(a="");var i=t.find("input[name='video_ys']:checked"),n=i.val(),s="";if("1"==n)s="<div class='audio_style1'><div class='floatLeft audio_con'><span class='audio_moni aCon start'></span><span class='audio_moni aCon pause'></span><span class='audio_moni aCon reStart'></span></div><div class='floatLeft audio_des'>"+i.parent().parent().find("input[type='text']").val()+"</div><div class='clear'> </div><audio src='"+a+"' controls='controls'></audio></div>";else if("0"==n){var o=" left",r=cfm.baseUrl_t+"img/player.gif";"1"==t.find("input[name='video_qpys']:checked").val()&&(o=" right",r=cfm.baseUrl_t+"img/green_player.gif"),s="<div class='audio_style2"+o+"'><img src='"+$(".audio_layer_main_img img").attr("src")+"' class='img_logo'/><div class='voiceS'><img class='audio_ani audio_ani_i nonedisplay' src='"+r+"' width='13' height='17'><span class='audio_moni img_jintai'></span><span class='audio_moni img_voiceBg'></span></div><div class='clear'> </div><audio src='"+a+"' controls='controls'></audio></div>"}e.find(".audioMain").html(s)},resetNHomePageHeight:function(){var e=135*$(".userDefin-liLayer.on").find(".goodsRec li").length;$(".userDefin-liLayer.on").find(".goodsRec ul").css("width",e+"px")},resetNHomePageHeight_jf:function(){var e=135*$(".userDefin-liLayer.on").find(".goods_rec_jf li").length;$(".userDefin-liLayer.on").find(".goods_rec_jf ul").css("width",e+"px")},resetNHomePageHeight_gg:function(){var e=135*$(".userDefin-liLayer.on").find(".goodsGroup_list li").length;$(".userDefin-liLayer.on").find(".goodsGroup_list ul").css("width",e+"px")},resetGoodsRecList:function(){var e="";$("#ul-selected-goods>li").each(function(){var t=$(this);t.hasClass("selectGoodsExitLi")||(e=e+"<li dataId='"+t.attr("dataId")+"' dataPrice='"+t.attr("dataPrice")+"' dataDes='"+t.attr("dataDes")+"' dataGg='"+t.attr("dataGg")+"'><a href='javascript:;'><div class='img'><img src='"+t.find("img").attr("src")+"'></div><div class='name'>"+t.attr("dataName")+"</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></a></li>")}),$(".userDefin-liLayer.on .goodsRec ul").empty().append(e+"<div class='clear'> </div>"),cfm.resetNHomePageHeight()},resetGoodsRecList_jf:function(){var e="";$("#ul-selected-goods>li").each(function(){var t=$(this);t.hasClass("selectGoodsExitLi")||(e=e+"<li dataId='"+t.attr("dataId")+"' dataPrice='"+t.attr("dataPrice")+"' dataDes='"+t.attr("dataDes")+"' dataGg='"+t.attr("dataGg")+"' data_code='"+t.attr("data_code")+"'><a href='javascript:;'><div class='img'><img src='"+t.find("img").attr("src")+"'></div><div class='name'>"+t.attr("dataName")+"</div><div class='fun'><span class='left'>"+t.attr("dataDes")+"<span>积分</span></span><span class='right'></span></div></a></li>")}),$(".userDefin-liLayer.on .goods_rec_jf ul").empty().append(e+"<div class='clear'> </div>"),cfm.resetNHomePageHeight_jf()},resetGoodsRecList_gg:function(){var e="";$(".goodsGroup_hp_goods .ul-selected-goods>li").each(function(){var t=$(this);t.hasClass("selectGoodsExitLi")||(e=e+"<li dataId='"+t.attr("dataId")+"' dataPrice='"+t.attr("dataPrice")+"' dataDes='"+t.attr("dataDes")+"' dataGg='"+t.attr("dataGg")+"'><a href='javascript:;'><div class='img'><img src='"+t.find("img").attr("src")+"'></div><div class='name'>"+t.attr("dataName")+"</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></a></li>")}),$(".userDefin-liLayer.on .goodsGroup_list ul").empty().append(e+"<div class='clear'> </div>"),cfm.resetNHomePageHeight_gg()},reset_nav_main:function(){var e=$("input[name='nav_show_style']:checked").val(),t="";"0"==e?(t+="<ul class='nav_main nav_main0'>",$(".nav_a .nav_edit>li").each(function(e){var a=$(this),i=e+1,n=a.find(".nav_edit_head input").val();"right"==cFunYdj.judgeNull(n)&&(n="导航"+i);var s="",o="<img src='"+a.find(".nav_edit_img img").attr("src")+"'>";if(a.find(".nav_edit_img .uploadImg").length<1&&(o="<img src='"+cfm.baseUrl_t+"img/buttont.jpg'>",s="default"),a.find(".tb").length>0){var r=parseInt(a.find(".tb").attr("hx")),l=parseInt(a.find(".tb").attr("ht"));o="<div class='tb' style='background-position: -"+44*r+"px -"+44*l+"px;' hx="+r+" ht="+l+"></div>",s=""}var d=a.find(".nav_edit_url input").val();"right"==cFunYdj.judgeNull(d)&&(d="javascript:;"),t=t+"<li class='"+s+"'><a href='"+d+"'><div class='imgCenter'>"+o+"</div><div class='divName'>"+n+"</div></a></li>"}),t+="<div class='clear'> </div></ul>"):"1"==e&&(t+="<ul class='nav_main nav_main1'>",$(".nav_a .nav_edit>li").each(function(e){var a=$(this),i=e+1,n=a.find(".nav_edit_head input").val();"right"==cFunYdj.judgeNull(n)&&(n="导航"+i);var s=a.find(".nav_edit_subhead input").val();"right"==cFunYdj.judgeNull(s)&&(s="这里是副标题");var o="",r="<img src='"+a.find(".nav_edit_img img").attr("src")+"'>";if(a.find(".nav_edit_img .uploadImg").length<1&&(r="<img src='"+cfm.baseUrl_t+"img/buttont.jpg'>",o="default"),a.find(".tb").length>0){var l=parseInt(a.find(".tb").attr("hx")),d=parseInt(a.find(".tb").attr("ht"));r="<div class='tb' style='background-position: -"+40*l+"px -"+40*d+"px;' hx="+l+" ht="+d+"></div>",o=""}var c=a.find(".nav_edit_url input").val();"right"==cFunYdj.judgeNull(c)&&(c="javascript:;");var p="borderBottome0e0e0";e>1&&(p=""),t=t+"<li class='"+p+" "+o+"'><a href='"+c+"'><div class='left'>"+r+"</div><div class='right'><div class='name'>"+n+"</div><div class='con'>"+s+"</div></div></a></li>"}),t+="<div class='clear'> </div></ul>"),$(".userDefin-liLayer.on").find(".nav_main").replaceWith(t)},jianrong_goods_old:function(){var e=[];$(".li-goods-wrappers").each(function(){$(this).find(".ul-goods-list>li").each(function(){var t=$(this),a=t.hasClass("big-map"),i=t.hasClass("small-map"),n=t.hasClass("detail-map"),s=t.find(".name").length,o=t.find(".des").length;((a||i)&&s<1||n&&o<1)&&e.push(t.attr("dataId"))})});var t=e.length;if(t>0){var a={productCodes:JSON.stringify(e),pageSize:t};$.ajax({type:"post",url:"goods/proLibrary",data:a,dataType:"json",success:function(a){a.success&&$.each(a.dataList,function(a,i){var n=i.goods_name,s=i.functional;void 0!=s&&""!=s||(s="暂无描述");var o=i.goods_standard;void 0!=o&&""!=o||(o="暂无规格");for(var r=0;r<t;r++){var l=$(".li-goods-wrappers .ul-goods-list>li[dataId="+e[r]+"]");l.attr("dataDes",s),l.attr("dataGg",o),l.hasClass("big-map")||l.hasClass("small-map")?l.find("div").replaceWith("<div><span class='name overflowDian'>"+n+"</span><span class='price n'><em>￥</em>99.9</span></div>"):l.hasClass("detail-map")&&l.find("div:first").replaceWith("<div><span class='name overflowDian'>"+n+"</span><span class='des'>"+s+"</span><span class='price'><em>￥</em>99.9</span><span class='gg overflowDian'>"+o+"</span></div>")}})}})}},coupon_color_getJq:function(){$(".couponAdRight .inputcolor").colorSelect({colorArray:["#42ADFF","#5ed3a0","#C876C2","#C697C3","#A6A3CE","#AD42FF","#E6DED1","#ECA29F","#FA4A54","#76C08D","#FFBF42","#B47941"],colorArray:["#5fcad9","#5ed3a0","#C876C2","#C697C3","#A6A3CE","#6469A9","#E6DED1","#ECA29F","#FA4A54","#76C08D","#E3A335","#B47941"],conName:"",conNameC:"",inputHiddenId:"inputColor",resFun:cfm.coupon_color_change})},coupon_color_change:function(){$(".ul-selected-coupon li").each(function(){var e=$(this),t=e.find("#inputColor").val();e.attr("dataColor",t)}),$("input[name=coupon-show-style]").each(function(){"checked"==$(this).attr("checked")&&$(this).click()})},resetCoupon_exit:function(){$(".li-coupon-wrappers").each(function(){$(this).find(".coupon").each(function(){var e=$(this);if(e.hasClass("c1")||e.hasClass("c2")){var t=e.attr("dataId"),a="";if(void 0==t)e.hasClass("c1")?a="<li class='coupon coupon1 coupon_no'><div class='left'><div class='leftLine'></div><div class='price_l'><span>￥</span>0</div><div class='limit'>这里是限制条件</div></div><div class='right'><div class='name_s'>折扣券</div><a href='javascript:;' class='lingqu'>点击领取</a></div><div class='clear'> </div></li>":e.hasClass("c2")&&(a="<li class='coupon coupon2 coupon_no'><div class='top'><div class='price_l l'><span>￥</span>0</div><div class='name'>现金券</div><a href='javascript:;' class='lingqu'>点击领取</a><div class='bottomLine'></div><div class='clear'> </div></div><div class='down'><div class='limit'>使用门槛：这里是限制条件</div><div class='time'>有效期限：这里是使用时间</div></div></li>");else{var i=e.attr("data-type"),n=e.find(">a").attr("href"),s=e.find(".name").text(),o=e.find(".time").text();o.indexOf("有效期")>-1&&(o=o.split("有效期")[1]);var r,l,d=e.find(".price").text(),c="";e.hasClass("c1")?(r=e.find(".couponDown_left span:last").text(),l=e.find(".couponDown_left span:first").text()):e.hasClass("c2")&&(r=e.find(".couponDown_left span:first").text(),l=e.find(".couponDown_left span:last").text()),"￥"==l&&(l="元");var p=r+l;if(e.hasClass("c1")){var u="折扣券";switch(i){case"1":u="折扣券",c=r+"<span>折</span>";break;case"2":u="抵价券",c="<span>￥</span>"+r;break;case"3":u="礼品券",c="<img src='"+cfm.baseUrl_t+"img/lipin_white.png'>";break;case"4":u="现金券",c="<span>￥</span>"+r}a="<li class='coupon coupon1' dataId='"+t+"' dataType='"+i+"' dataUrl='"+n+"' dataVal='"+p+"' dataName='"+s+"' dataUsage='"+d+"' dataDeadline='"+o+"' dataColor='#FA4A54'><div class='left' style='background:#FA4A54'><div class='leftLine'></div><div class='price_l'>"+c+"</div><div class='limit'>"+d+"</div></div><div class='right'><div class='name_s' style='color:#FA4A54'>"+u+"</div><a href='"+n+"' class='lingqu' style='background:#FA4A54'>点击领取</a></div><div class='clear'> </div></li>"}else if(e.hasClass("c2")){switch(i){case"1":c="<div class='price_l l'><span>折</span>"+p.split("折")[0]+"</div><div class='name'>折扣券</div>";break;case"2":c="<div class='price_l l'><span>￥</span>"+p.split("元")[0]+"</div><div class='name'>抵价券</div>";break;case"3":c="<div class='price_l'></div><div class='name lp'>礼品券</div>";break;case"4":c="<div class='price_l l'><span>￥</span>"+p.split("元")[0]+"</div><div class='name'>现金券</div>"}a="<li class='coupon coupon2' dataId='"+t+"' dataType='"+i+"' dataUrl='"+n+"' dataVal='"+p+"' dataName='"+s+"' dataUsage='"+d+"' dataDeadline='"+o+"' dataColor='#FA4A54'><div class='top' style='background:#FA4A54'>"+c+"<a href='"+n+"' class='lingqu'>点击领取</a><div class='bottomLine'></div><div class='clear'> </div></div><div class='down'><div class='limit'>使用门槛："+d+"</div><div class='time'>有效期限："+o+"</div></div></li>"}}e.replaceWith(a)}})})},resetGoodsG_data:function(){$(".userDefin-liLayer.on .goodsGroups_hpm").attr("data_color",$(".goodsGroups_hp .inputcolor_i").val())},resetUrlList_jfdz:function(e,t){for(var a=cFunYdj.getWXUrl(e,t),i=["wpage","center","orderList","nearphalist","allStore","memberCard","myCoupon","messageList"],n="<li class='selectUrl_self_page'>定制页面列表</li>",s=0;s<i.length;s++){for(var o,r=i[s],l="javascript:;",d=0;d<a.length;d++){var c=a[d][r];""!=c&&void 0!=c&&(o=a[d],l=c)}void 0!=o&&(n=n+"<li dataurl='"+l+"'>"+o.title+"</li>")}$(".selectUrl_self ul").empty().append(n)}};e.mainHtmlJson={},e.noticeNote="请填写内容，如果过长，将会在手机上滚动显示",e.titleNote="点击编辑标题",e.editor_rich_default="<p class='leftEditTime_no'>点此编辑『富文本』内容 ——&gt;</p><p>你可以对文字进行<b>加粗</b>，<u>下划线</u>，<i>斜体</i>，<strike>删除线</strike>，<font color='#ff0000'>文字颜色</font>，<span style='background-color: rgb(255, 0, 255);'>背景色</span>，以及<font size='4'>字号大小</font>等简单排版操作。</p><p>可以在这里加入表格</p><table class=''><tbody><tr><td>中奖用户</td><td>&nbsp;发放奖品 &nbsp;</td><td>&nbsp;备注</td></tr><tr><td>&nbsp;小明</td><td>&nbsp;5元优惠券</td><td>已发放&nbsp;</td></tr><tr><td>&nbsp;胖子</td><td>10元折扣券&nbsp;</td><td><i><a href='javascript:;'><font color='#ff0000'>领取地址</font></a></i></td></tr></tbody></table><p>可以插入图片，表情，视频，地理位置或自己编写的代码</p><p>还可以对图片或文字插入<a href='javascript:;'>超链接</a>，方便用户点击</p>",e.baseUrl_t="static/",window.cfm=e}(window),$(function(){function e(e,t){var a=e-t-10;if(a>-2&&a<286){$(".gapAssMove").css({left:a+"px"});var i=parseFloat(a/3+9);$(".gapAssValue").text(parseInt(i)+"像素"),s.find(".gapAssMain").css("height",i+"px")}}function t(){var e="noImg";m.find("img").length>0&&(e=m.find("img").attr("src"));var t=parseInt(m.attr("colspan")),a=parseInt(m.attr("rowspan")),i=m.attr("dataUrl");$(".bFunction .ul-contain-file .uploadImg").remove(),$(".bFunction .ul-contain-file .lblfile-square-max").show(),"noImg"!=e&&($("<div class='flaotleft uploadImg'><img src='"+e+"'><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='1'>编辑</label><label class='editImgimgDelete'>删除</label></div></div>").insertBefore($(".bFunction .ul-contain-file .lblfile-square-max")),$(".bFunction .ul-contain-file .lblfile-square-max").hide(),$(".magicCube_controls .current").empty().append("<img src='"+e+"'>")),$(".size_suggest").text(160*t+"*"+160*a),$(".magicCube_inputUrl").val(""),void 0!=i&&"error"==cFunYdj.judgeNull(i)&&$(".magicCube_inputUrl").val(i);for(var n=v+1,s=y+1,o=0,r="<option dataC='"+t+"' dataR='"+a+"' value='0'>"+a+"行"+t+"列</option>",l=0;l<4;l++)for(var d=0;d<4;d++){var c=$(".selectMagicCube .main ul:eq("+d+") li:eq("+l+")");if(!c.hasClass("hidden")){var p=parseInt(c.attr("data_cols"))-n+1,u=parseInt(c.attr("data_rows"))-s+1;r=r+"<option dataC='"+p+"' dataR='"+u+"' value='"+ ++o+"'>"+u+"行"+p+"列</option>"}}$(".magicCube .bFunction select").empty().append(r),$(".bFunction").show()}function a(e,t,a,i){$(".magicCube_controls td").removeClass("current");var n=$(".magicCube_controls td[data-x="+v+"][data-y="+y+"]"),s=$(".magicCube_controls .not-empty").length;void 0!=a&&(s=a),n.removeClass("empty").addClass("index-"+s).addClass("not-empty").attr("data-index",s).attr("colspan",e).attr("rowspan",t).addClass("cols"+e).addClass("rows"+t).append("<span>"+160*e+"*"+160*t+"</span>").addClass("current"),void 0!=i&&n.attr("dataUrl",i);for(var o=parseInt(y)+t-1;o>=y;o--)for(var r=v+e-1;r>=v;r--){if(o==y&&r==v)return;$(".magicCube_controls td[data-x="+r+"][data-y="+o+"]").remove()}}function i(e){$(".magicCube_inputUrl").val(e),$(".magicCube_controls .current").attr("dataUrl",e),cfm.resetMagicCubeImg()}function n(){function e(t){var a=$(".magicCube_controls td[data-x="+t+"][data-y="+n+"]");t<0?$(".magicCube_controls tr:eq("+n+")").prepend(r):a.length<1?e(t-1):$(r).insertAfter(a)}var t=m.attr("colspan"),a=m.attr("rowspan");$(".magicCube_controls .current").remove();for(var i=0;i<a;i++)for(var n=y+i,s=0;s<t;s++){var o=v+s,r="<td class='empty' data-x='"+o+"' data-y='"+n+"'></td>",l=o-1;l<0?$(".magicCube_controls tr:eq("+n+")").prepend(r):e(l)}$(".bFunction .ul-contain-file .uploadImg").remove(),$(".bFunction .ul-contain-file .lblfile-square-max").show(),$(".size_suggest").text("***"),$(".magicCube_inputUrl").val(""),$(".magicCube .bFunction select").empty().append("<option>--请选择--</option>")}setTimeout(function(){cfm.resetGoodsGroupHeight(),cfm.resetNHomePageHeight(),cfm.jianrong_goods_old(),cfm.resetCoupon_exit(),$(".swiper-container-imgAd").each(function(){var e=$(this);if(e.find(".swiper-slide").length>0)new Swiper(e,{pagination:e.find(".swiper-pagination"),paginationClickable:!0,autoplay:"3000",autoplayDisableOnInteraction:!1,spaceBetween:0})})},300),$("body").delegate(".userDefinHtmlModel_sel li","click",function(){var e;switch($(this).attr("dataClass")){case"goods":e="<li class='userDefin-liLayer li-goods-wrappers' dataClass='goods'> <a href='javascript:;' class='url'><ul class='ul-goods-list'><li class='big-map'><div class='zero-img'></div><div><span class='name'>这里是名称</span><span class='price'><span class='del'><i>￥</i><del>200.00</del></span><em>￥</em>99.9</span></div></li></ul></a><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>",$(".container_homeUserD_jf").length>0&&(e="<li class='userDefin-liLayer li-goods-wrappers' dataClass='goods'> <a href='javascript:;' class='url'><ul class='ul-goods-list'><li class='big-map'><div class='zero-img'></div><div><span class='name'>这里是名称</span><span class='price'>000<span>积分</span></span></div></li></ul></a><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>");break;case"imgAd":e="<li class='userDefin-liLayer li-adv-wrappers' dataClass='imgAd'><div class='imgAd_swiper'><div class='swiper-container swiper-container-imgAd'><div class='swiper-wrapper'><div class='swiper-slide'><a href='javascript:;'><img src='"+cfm.baseUrl_t+"img/bannert1.jpg' defaultSrc='"+cfm.baseUrl_t+"img/bannert1.jpg'></a></div><div class='swiper-slide'><a href='javascript:;'><img src='"+cfm.baseUrl_t+"img/bannert2.jpg'></a></div><div class='swiper-slide'><a href='javascript:;'><img src='"+cfm.baseUrl_t+"img/bannert3.jpg'></a></div></div><div class='swiper-pagination swiper-pagination'></div></div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"coupon":e="<li class='userDefin-liLayer li-coupon-wrappers on' dataclass='coupon'><ul class='ul-coupon'><li class='coupon coupon1 coupon_no'><div class='left'><div class='leftLine'></div><div class='price_l'><span>￥</span>0</div><div class='limit'>这里是限制条件</div></div><div class='right'><div class='name_s'>折扣券</div><a href='javascript:;' class='lingqu'>点击领取</div></div><div class='clear'> </div></li></ul><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"title":e="<li class='userDefin-liLayer li-title-wrappers' dataclass='title'><p class='pDefineTitle tleft' pTextStyle='tleft'>"+cfm.titleNote+"</p><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"guide":e="<li class='userDefin-liLayer li-guide-wrappers' dataclass='guide'><div class='guideLine-cc-wrapper marginLR10px' marginState='marginLR10px'><div class='guideLine-cc solidLine changeColor' lineStyle='solidLine' lineColor='#e5e5e5'></div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"notice":e="<li class='userDefin-liLayer li-notice-wrappers' dataclass='notice'><div class='noticeMain'><div class='noticeMainD'>公告：<span class='noticeMains'>"+cfm.noticeNote+"</span></div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"gapAss":e="<li class='userDefin-liLayer li-gapAss-wrappers' dataclass='gapAss'><div class='gapAssMain'></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"magicCube":e="<li class='userDefin-liLayer li-magicCube-wrappers' dataclass='magicCube'><table><tr><td class='empty' data-x='0' data-y='0'></td><td class='empty' data-x='1' data-y='0'></td><td class='empty' data-x='2' data-y='0'></td><td class='empty' data-x='3' data-y='0'></td></tr><tr><td class='empty' data-x='0' data-y='1'></td><td class='empty' data-x='1' data-y='1'></td><td class='empty' data-x='2' data-y='1'></td><td class='empty' data-x='3' data-y='1'></td></tr><tr><td class='empty' data-x='0' data-y='2'></td><td class='empty' data-x='1' data-y='2'></td><td class='empty' data-x='2' data-y='2'></td><td class='empty' data-x='3' data-y='2'></td></tr><tr><td class='empty' data-x='0' data-y='3'></td><td class='empty' data-x='1' data-y='3'></td><td class='empty' data-x='2' data-y='3'></td><td class='empty' data-x='3' data-y='3'></td></tr></table><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"goodsGroups":e="<li class='userDefin-liLayer li-comGroup-wrappers' dataclass='goodsGroups'><div class='comGroupShow'><div class='comGroupLeft flaotleft'><ul><li class='on'><a href='javascript:;'><span>分组名称</span></a></li><li><a href='javascript:;'><span>分组名称</span></a></li></ul></div><div class='comGroupRight flaotleft'><div class='comGroup_head'>分组名称</div><ul><li><div class='comGroupRight_left flaotleft'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''/></div><div class='comGroupRight_right flaotleft'><p class='goods_name'>这里显示名称</p><div class='price'><span class='priceDetail'>￥22.2</span><span class='buy-btn flaotright'></span><div class='clear'> </div></div></div><div class='clear'> </div></li><li><div class='comGroupRight_left flaotleft'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''/></div><div class='comGroupRight_right flaotleft'><p class='goods_name'>这里显示名称</p><div class='price'><span class='priceDetail'>￥22.2</span><span class='buy-btn flaotright'></span><div class='clear'> </div></div></div><div class='clear'> </div></li></ul><div class='comGroup_head'>分组名称</div><ul><li><div class='comGroupRight_left flaotleft'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''/></div><div class='comGroupRight_right flaotleft'><p class='goods_name'>这里显示名称</p><div class='price'><span class='priceDetail'>￥22.2</span><span class='buy-btn flaotright'></span><div class='clear'> </div></div></div><div class='clear'> </div></li><li><div class='comGroupRight_left flaotleft'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''/></div><div class='comGroupRight_right flaotleft'><p class='goods_name'>这里显示名称</p><div class='price'><span class='priceDetail'>￥22.2</span><span class='buy-btn flaotright'></span><div class='clear'> </div></div></div><div class='clear'> </div></li></ul></div><div class='clear'> </div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>",$("input[type='radio'][name='goodsGroup-show-style'][value='left']").attr("checked","checked"),$("input[type='radio'][name='goodsGroups_TopSel'][value='big']").attr("checked","checked");break;case"richText":e="<li class='userDefin-liLayer li-richText-wrappers wangEditor-container' dataclass='richText'><div class='richTextMain wangEditor-txt'>"+cfm.editor_rich_default+"</div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"video":e="<li class='userDefin-liLayer li-video-wrappers' dataclass='video'><div class='videoMain'></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"audio":e="<li class='userDefin-liLayer li-audio-wrappers' dataclass='audio'><div class='audioMain'> <div class='audio_style2 left'><img src='"+$("#logoAttr").val()+"' class='img_logo'/><div class='voiceS'><img class='audio_ani nonedisplay' src='"+cfm.baseUrl_t+"img/player.gif' width='13' height='17'><img class='audio_ani nonedisplay' src='img/green_player.gif' width='13' height='17'><span class='audio_moni img_jintai'></span><span class='audio_moni img_voiceBg'></span></div><div class='clear'> </div><audio src='' controls='controls'></audio></div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"search_all":$(".search_all_main").length>0?cFunYdj.alertMoni("‘商品搜索’模块只允许存在一个"):e="<li class='userDefin-liLayer li-searchAll-wrappers' dataclass='search_all'><div class='search_all_main'></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"goods_rec":$(".goods_rec_main").length>0?cFunYdj.alertMoni("‘好货推荐’模块只允许存在一个"):(e="<li class='userDefin-liLayer li-goodsRec-wrappers' dataclass='goods_rec'><div class='goods_rec_main'></div><div class='goodsRec'><ul><li class='default'><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></a></li><div class='clear'> </div></ul></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>",cfm.resetNHomePageHeight());break;case"door_near":$(".door_near_main").length>0?cFunYdj.alertMoni("‘附近门店’模块只允许存在一个"):e="<li class='userDefin-liLayer li-doorNear-wrappers' dataclass='door_near'><div class='door_near_main'></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"banner_l":e="<li class='userDefin-liLayer li-bannerl-wrappers' dataClass='banner_l'><div class='imgAd_swiper'><div class='swiper-container swiper-container-imgAd'><div class='swiper-wrapper'><div class='swiper-slide'><a href='javascript:;'><img src='"+cfm.baseUrl_t+"img/bannert10.jpg' defaultSrc='"+cfm.baseUrl_t+"img/bannert10.jpg'></a></div><div class='swiper-slide'><a href='javascript:;'><img src='"+cfm.baseUrl_t+"img/bannert20.jpg'></a></div><div class='swiper-slide'><a href='javascript:;'><img src='"+cfm.baseUrl_t+"img/bannert30.jpg'></a></div></div><div class='swiper-pagination swiper-pagination'></div></div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"nav_a":e="<li class='userDefin-liLayer li-nav-wrappers' dataclass='nav_a'><ul class='nav_main nav_main0'><li class='default'><a href='javascript:;'><div class='imgCenter'><img src='"+cfm.baseUrl_t+"img/buttont.jpg'/></div><div class='divName'>导航1</div></a></li><li class='default'><a href='javascript:;'><div class='imgCenter'><img src='"+cfm.baseUrl_t+"img/buttont.jpg'/></div><div class='divName'>导航2</div></a></li><li class='default'><a href='javascript:;'><div class='imgCenter'><img src='"+cfm.baseUrl_t+"img/buttont.jpg'/></div><div class='divName'>导航3</div></a></li><li class='default'><a href='javascript:;'><div class='imgCenter'><img src='"+cfm.baseUrl_t+"img/buttont.jpg'/></div><div class='divName'>导航4</div></a></li><div class='clear'> </div></ul><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"goodsGroups_hp":e="<li class='userDefin-liLayer li-goodsGroups-hp-wrappers' dataclass='goodsGroups_hp'><div class='goodsGroups_hpm s1'><div class='goodsGroup_name'><div class='con'><span class='s1_img_l'></span><span class='sl_con'>标题</span><span class='s1_img_r'></span></div><a href='javascript:;' class='right'>查看更多<span></span></a></div><div class='goodsGroup_list'><ul><li class='default'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'/></div><div class='name'>商品名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></li><li><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'/></div><div class='name'>商品名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></li><li><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'/></div><div class='name'>商品名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></li><li><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'/></div><div class='name'>商品名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></li><div class='clear'> </div></ul><div class='more'><div class='more_img'></div><div class='more_con'>查看更多</div></div><div class='clear'> </div></div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div></div></li>"}$(".userDefinHtmlModel_main").append(e),$(".userDefin-liLayer:last .userDefin-liLayerBorder").click(),$("html,body").animate({scrollTop:$(".userDefinHtmlModel_main").height()},"fast"),cfm.resetGoodsGroupHeight()});var s;$("body").delegate(".userDefin-liLayerBorder,.userDefin-liLayer .userDefin-liLayerFun .edit","click",function(e){cFunYdj.stopProp(e),s=$(this).hasClass("edit")?$(this).parent().parent().parent():$(this).parent(),$(".userDefin-liLayer").removeClass("on"),s.addClass("on");var t;switch(s.attr("dataClass")){case"goods":t="goodsAdRight",$(".ul-selected-goods li").each(function(){void 0!=$(this).attr("dataId")&&$(this).remove()}),void 0!=s.find("li:first").attr("dataId")&&s.find("li").each(function(){var e=$(this),t="<li dataId='"+e.attr("dataId")+"' dataUrl='"+e.find("a").attr("href")+"' dataPrice='￥99.9' dataName='"+e.find(".name").text()+"' dataDes='"+e.attr("dataDes")+"' dataGg='"+e.attr("dataGg")+"' data_code='"+e.attr("data_code")+"'><img src='"+e.find("img").attr("src")+"'><p class='p-list' title='"+e.find(".name").text()+"'>"+e.find(".name").text()+"</p><span class='selected-delete'>×</span></li>";$(t).insertBefore($(".goodsAdRight .ul-selected-goods .selectGoodsExitLi"))});a=0;s.find("li:first").hasClass("small-map")&&(a=1),s.find("li:first").hasClass("detail-map")&&(a=2),$("input[name=goods-show-style]:eq("+a+")").attr("checked","checked");break;case"imgAd":t="imgAdRight";y=s.find("img:first").attr("src");if($(".imgAdRight .rightImg .uploadImg").remove(),$(".imgAdRight .rightImg .lblfile-square-max,.imgAdRight .sel_imgList_ul").show(),y!=s.find("img:first").attr("defaultSrc"))s.find(".swiper-slide").each(function(){var e=$(this),t=e.find("a").attr("href");"javascript:;"==t&&(t=""),$("<div class='uploadImg urls'><div class='imgPD'><img src='"+e.find("img").attr("src")+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='3'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forC='banner' value='"+t+"'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore($(".imgAdRight .rightImg .lblfile-square-max"))}),s.find(".swiper-slide").length>=3&&$(".imgAdRight .rightImg .lblfile-square-max,.imgAdRight .sel_imgList_ul").hide();else new Swiper(s.find(".swiper-container-imgAd"),{pagination:s.find(".swiper-pagination"),paginationClickable:!0,autoplay:"3000",autoplayDisableOnInteraction:!1,spaceBetween:0});break;case"coupon":t="couponAdRight",$(".ul-selected-coupon li").each(function(){void 0!=$(this).attr("dataId")&&$(this).remove()}),void 0!=s.find("li:first").attr("dataId")&&(s.find("li").each(function(){var e=$(this),t=e.attr("dataName"),a=e.attr("dataVal"),i=e.attr("dataUsage"),n=e.attr("dataDeadline"),s=e.attr("dataColor"),o="<li dataId='"+e.attr("dataId")+"'  dataType='"+e.attr("dataType")+"' dataUrl='"+e.attr("dataUrl")+"' dataName='"+t+"' dataVal='"+a+"' dataDeadline='"+n+"' dataUsage='"+i+"' dataColor='"+s+"'><p class='p-list name' title='"+t+"'>"+t+"</p><p title='"+a+"'>"+a+"</p><p title='"+i+"'>"+i+"</p><p title='"+n+"'>"+n+"</p><div><div class='flaotleft'>选择颜色：</div><div value='"+s+"' class='inputcolor floatLeft' style='background-color:"+s+"'></div><input type='hidden' name='colorSelect' value='"+s+"' id='inputColor'><div class='clear'> </div></div><span class='coupon-selected-delete'>×</span></li>";$(o).insertBefore($(".couponAdRight .ul-selected-coupon .selectCouponExitLi"))}),cfm.coupon_color_getJq());var a=0;s.find("li:first").hasClass("coupon1")&&(a=0),s.find("li:first").hasClass("coupon2")&&(a=1),$("input[name=coupon-show-style]:eq("+a+")").attr("checked","checked");break;case"notice":t="notice";var i=s.find(".noticeMains").text();$(".notice input").val(""),i!=cfm.noticeNote&&$(".notice input").val(i);break;case"gapAss":t="gapAss";var n=s.find(".gapAssMain").height(),o=3*(n-9);$(".gapAssMove").css({left:o+"px"}),$(".gapAssValue").text(n+"像素");break;case"title":t="titleAdRight",$(".pDefineTitle").removeClass("on"),s.find(".pDefineTitle").addClass("on");var r=s.find(".pDefineTitle.on"),l=r.text();l==cfm.titleNote&&(l="");var d=r.attr("pTextStyle");void 0!=l?($(".pDefineTitleBlur").val(l),$("input[name=title-show-style]").each(function(){$(this).attr("value")==d?$(this).attr("checked","checked"):$(this).removeAttr("checked")})):$(".pDefineTitleBlur").val("");break;case"guide":t="guideAdRight",$(".guideLine-cc").removeClass("on"),s.find(".guideLine-cc").addClass("on");var c=s.find(".guideLine-cc.on");$("#guideLineColor").attr("value",c.attr("lineColor")),c.parent().hasClass("marginLR10px")?$("#guideLineCheck").attr("checked","checked"):$("#guideLineCheck").removeAttr("checked");var p=c.attr("lineStyle");$("input[name=line-show-style]").each(function(){$(this).attr("value")==p?$(this).attr("checked","checked"):$(this).removeAttr("checked")});break;case"magicCube":t="magicCube",$(".magicCube_controls table").html(s.find("table").html()),$(".magicCube_controls table span").removeClass("hidden"),$(".magicCube_controls td").removeClass("current"),$(".magicCube .bFunction").hide();break;case"goodsGroups":t="goodsGroups";var u,f;s.find(".comGroupLeft").length>0?(u=s.find(".comGroupLeft ul li"),f=s.find(".comGroupRight")):s.find(".comGroupTop").length>0&&(u=s.find(".comGroupTop ul li"),f=s.find(".comGroupDown")),$(".goodsGroup_main").empty(),u.each(function(e,t){var a=$(this).text();if("分组名称"!=a&&"这里显示名称"!=f.find(".goods_name").text()){$(".addGoodsSort_goodsGroup").click();var i=$(".goodsGroup_main>li:eq("+e+")");i.find(".rightImgTitle input").val(a),f.find("ul:eq("+e+") li").each(function(){var e=$(this),t="<li dataid='"+e.attr("dataId")+"'><img src='"+e.find("img").attr("src")+"'><p class='p-list name' title='"+e.find(".goods_name").text()+"'>"+e.find(".goods_name").text()+"</p><span class='selected-delete'>×</span></li>";$(t).insertBefore(i.find(".selectGoodsExitLi_goodsGroup"))})}}),s.find(".comGroupLeft").length>0?($(".goodsGroups_TopSel,.goodsGroups_TopSelNote").addClass("nonedisplay"),$("input[type='radio'][name='goodsGroup-show-style'][value='left']").attr("checked","checked")):s.find(".comGroupTop").length>0&&($(".goodsGroups_TopSel,.goodsGroups_TopSelNote").removeClass("nonedisplay"),$("input[type='radio'][name='goodsGroup-show-style'][value='top']").attr("checked","checked"),s.find(".com_smallGoods").length>0?$("input[type='radio'][name='goodsGroups_TopSel'][value='small']").attr("checked","checked"):s.find(".com_detailGoods").length>0&&$("input[type='radio'][name='goodsGroups_TopSel'][value='detail']").attr("checked","checked"));break;case"richText":t="richText",$(".richText .wangEditor-container").length<1&&cfm.creatEditer_rich("textarea1"),$(".richText input[type='color']").val("#ffffff"),$(".richText input[type='checkbox']").removeAttr("checked"),$(".richText .wangEditor-txt").empty();var h=s.find(".richTextMain").html();h.indexOf("leftEditTime_no")<=-1&&$(".richText .wangEditor-txt").html(h),s.hasClass("padding0f")&&$(".richText input[type='checkbox']").attr("checked","checked"),$(".richText input[type='color']").val(cFunYdj.RGBToHex(s.css("backgroundColor")));break;case"video":t="video";var g="";""!=s.find(".videoMain").html()&&(g=s.find(".videoMain").html()),$("#video_upload").val(g);break;case"audio":t="audio";var m=s.find(".audioMain");$(".audio audio").remove(),$(".deleteAudio").hide(),$(".fileUpload_audio span").text("上传音频");var v=m.find("audio").attr("src");""!=v&&void 0!=v&&($("<audio src='"+v+"' controls='controls' style='width:300px;'></audio>").insertBefore($(".audio .audio_con_fun")),$(".deleteAudio").show(),$(".fileUpload_audio span").text("修改音频")),$(".audio_layer_main").hide(),$(".audio input[type='text']").val(""),m.find(".audio_style1").length>0?($(".audio_layer2 .audio_layer_main").show(),$("input[name='video_ys'][value='1']").attr("checked","checked"),$(".audio_layer_main input[type='text']").val(m.find(".audio_des").html())):m.find(".audio_style2").length>0&&($(".audio_layer1 .audio_layer_main").show(),$("input[name='video_ys'][value='0']").attr("checked","checked"),$(".audio_layer_main_img img").attr("src",m.find(".img_logo").attr("src")),m.find(".left").length>0?$("input[name='video_qpys'][value='0']").attr("checked","checked"):m.find(".right").length>0&&$("input[name='video_qpys'][value='1']").attr("checked","checked"));break;case"search_all":t="search_all";break;case"goods_rec":t="goods_rec",$("#ul-selected-goods li").each(function(){$(this).hasClass("selectGoodsExitLi")||$(this).remove()}),s.find(".goodsRec ul>li:first").hasClass("default")||s.find(".goodsRec ul>li").each(function(){var e=$(this);$("<li dataid='"+e.attr("dataId")+"' dataurl='javascript:void(0);' dataprice='"+e.attr("dataPrice")+"' dataname='"+e.find(".name").text()+"' datades='"+e.attr("dataDes")+"' datagg='"+e.attr("dataGg")+"'><img src='"+e.find("img").attr("src")+"'><p class='p-list name' title='"+e.find(".name").text()+"'>"+e.find(".name").text()+"</p><span class='selected-delete'>×</span></li>").insertBefore($("#ul-selected-goods .selectGoodsExitLi"))});break;case"goods_rec_jff":t="goods_rec_jff",$("#ul-selected-goods li").each(function(){$(this).hasClass("selectGoodsExitLi")||$(this).remove()}),s.find(".goods_rec_jf ul>li:first").hasClass("default")||s.find(".goods_rec_jf ul>li").each(function(){var e=$(this);$("<li dataid='"+e.attr("dataId")+"' dataurl='javascript:void(0);' dataprice='"+e.attr("dataPrice")+"' dataname='"+e.find(".name").text()+"' datades='"+e.attr("dataDes")+"' datagg='"+e.attr("dataGg")+"' data_code='"+e.attr("data_code")+"'><img src='"+e.find("img").attr("src")+"'><p class='p-list name' title='"+e.find(".name").text()+"'>"+e.find(".name").text()+"</p><span class='selected-delete'>×</span></li>").insertBefore($("#ul-selected-goods .selectGoodsExitLi"))});break;case"jfcoupon":t="jfcoupon";break;case"door_near":t="door_near";break;case"banner_l":t="banner_l";var y=s.find("img:first").attr("src");if($(".banner_l .rightImg .uploadImg").remove(),$(".banner_l .rightImg .lblfile-square-max").show(),$(".banner_l .sel_imgList_ul").show(),y!=s.find("img:first").attr("defaultSrc"))s.find(".swiper-slide").each(function(){var e=$(this),t=e.find("a").attr("href");"javascript:;"==t&&(t=""),$("<div class='uploadImg urls'><div class='imgPD'><img src='"+e.find("img").attr("src")+"'></div><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='3'>编辑</label><label class='editImgimgDelete'>删除</label></div><div class='right_upi'><div class='inputName'>设置链接</div><input type='text' class='weiChatBlurs' forC='banner' value='"+t+"'><div class='sel_urls cursorPointer'>定制页面链接</div><div class='sel_gurls cursorPointer'>商品链接</div></div></div>").insertBefore($(".banner_l .rightImg .lblfile-square-max"))}),s.find(".swiper-slide").length>=3&&$(".banner_l .rightImg .lblfile-square-max,.banner_l .sel_imgList_ul").hide();else new Swiper(s.find(".swiper-container-imgAd"),{pagination:s.find(".swiper-pagination"),paginationClickable:!0,autoplay:"3000",autoplayDisableOnInteraction:!1,spaceBetween:0});break;case"nav_a":t="nav_a";var b=s.find(".nav_main"),w="divName",_="imgCenter";$(".nav_a input[name='nav_show_style'][value='0']").attr("checked","checked"),$(".nav_a .nav_edit_subhead").hide(),b.hasClass("nav_main1")&&(w="name",_="left",$(".nav_a input[name='nav_show_style'][value='1']").attr("checked","checked"),$(".nav_a .nav_edit_subhead").show()),$(".nav_a input[type='text']").val(""),$(".nav_a .uploadImg").remove(),$(".nav_a .lblfile-square-max").show(),s.find(".nav_main li").each(function(e){var t=$(this),a=t.find("a").attr("href");"javascript:;"!=a&&"javascript:void(0)"!=a||(a="");var i=t.find("."+w).text(),n=t.find(".con").text();t.find("."+w).length<1&&(i="");var s=t.find("."+_),o="<img src='"+t.find("img").attr("src")+"'>";if(s.find(".tb").length>0){var r=parseInt(s.find(".tb").attr("hx")),l=parseInt(s.find(".tb").attr("ht"));o="<div class='flaotleft uploadImg'><div class='tb' style='background-position: -"+90*r+"px -"+90*l+"px;' hx="+r+" ht="+l+"></div><div class='editImg'><label><input type='file' class='fileUpload edit_copy' limit='1'>上传</label><label class='editImgimgDelete'>删除</label></div></div>"}o="<div class='flaotleft uploadImg'>"+o+"<div class='editImg'><label><input type='file' class='fileUpload edit_copy' limit='1'>上传</label><label class='editImgimgDelete'>删除</label></div></div>";var d=$(".nav_a .nav_edit>li:eq("+e+")");d.find(".nav_edit_head input").val(i),d.find(".nav_edit_subhead input").val(n),t.hasClass("default")||(d.find(".rightImg").prepend(o),d.find(".lblfile-square-max").hide()),d.find(".nav_edit_url input").val(a)});break;case"goodsGroups_hp":t="goodsGroups_hp";var x=s.find(".goodsGroups_hpm");$(".goodsGroups_hp .goodsGroup_hp_sr").hide(),$(".goodsGroups_hp .ul-contain-info-bt input,.goodsGroups_hp .ul-contain-info-fbt input").val(""),$(".goodsGroups_hp .ul-contain-info-url .goodsGroupTl[value=1]").attr("checked","checked"),$(".goodsGroups_hp .ul-contain-info-url input[type=text]").val("").attr("disabled",!0),$(".goodsGroups_hp .ul-contain-file-gg .uploadImg").remove(),$(".goodsGroups_hp .ul-contain-file-gg .lblfile-square-max").show();var C=x.attr("data_bt"),k=x.attr("data_color"),S=x.attr("data_fbt"),T=x.attr("data_src"),I=x.attr("data_url"),j="1";x.hasClass("s1")?$(".goodsGroups_hp .goodsGroup_hp_sr.s1").show():x.hasClass("s2")&&($(".goodsGroups_hp .goodsGroup_hp_sr.s2").show(),j="2"),$(".goodsGroups_hp .goodsGroupR[value="+j+"]").attr("checked","checked"),void 0!=C&&""!=C&&"标题"!=C&&$(".goodsGroups_hp .ul-contain-info-bt input").val(C);var D="#FC4646";void 0!=k&&""!=k&&(D=k),$(".goodsGroups_hp .inputcolor").css("backgroundColor",D).attr("value",D),$(".goodsGroups_hp .inputcolor_i").attr("value",D);var L="inputColor"+$(".li-goodsGroups-hp-wrappers").length;$(".goodsGroups_hp .inputcolor_i").attr("id",L),$(".goodsGroups_hp .inputcolor").colorSelect({colorArray:["#FC4646","#5fcad9","#5ed3a0","#C876C2","#C697C3","#A6A3CE","#6469A9","#333333","#ECA29F","#76C08D","#E3A335","#B47941"],inputHiddenId:L,conNameC:".userDefin-liLayer.on .goodsGroup_name .sl_con",resFun:cfm.resetGoodsG_data}),void 0!=S&&""!=S&&"副标题"!=S&&$(".goodsGroups_hp .ul-contain-info-fbt input").val(S),void 0!=T&&""!=T&&($("<div class='flaotleft uploadImg'><img src='"+T+"'><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='1'>编辑</label><label class='editImgimgDelete'>删除</label></div></div>").insertBefore($(".goodsGroups_hp .ul-contain-file-gg .lblfile-square-max")),$(".goodsGroups_hp .ul-contain-file-gg .lblfile-square-max").hide()),void 0!=I&&""!=I&&"javascript:;"!=I&&($(".goodsGroups_hp .ul-contain-info-url .goodsGroupTl[value=2]").attr("checked","checked"),$(".goodsGroups_hp .ul-contain-info-url input[type=text]").val(I).removeAttr("disabled")),$(".goodsGroups_hp .ul-selected-goods li").each(function(){$(this).hasClass("selectGoodsExitLi")||$(this).remove()}),s.find(".goodsGroup_list ul>li:first").hasClass("default")||s.find(".goodsGroup_list ul>li").each(function(){var e=$(this);$("<li dataid='"+e.attr("dataId")+"' dataurl='javascript:void(0);' dataprice='"+e.attr("dataPrice")+"' dataname='"+e.find(".name").text()+"' datades='"+e.attr("dataDes")+"' datagg='"+e.attr("dataGg")+"'><img src='"+e.find("img").attr("src")+"'><p class='p-list name' title='"+e.find(".name").text()+"'>"+e.find(".name").text()+"</p><span class='selected-delete'>×</span></li>").insertBefore($(".goodsGroups_hp .ul-selected-goods .selectGoodsExitLi"))})}$(".newWeiChatITRight").hide(),$("."+t).css({left:s.offset().left-$(".newWeiChatITs").offset().left+337,top:s.offset().top-$(".newWeiChatITs").offset().top-135}).show()}),$("body").delegate("#guideLineColor","change",function(e){cFunYdj.stopProp(e);var t=$(this).attr("value"),a=s.find(".guideLine-cc");a.attr("lineColor",t),a.css("borderColor",t)}),$("body").delegate("#guideLineCheck","change",function(e){cFunYdj.stopProp(e);$(this).attr("value");var t=$(this).attr("checked"),a=s.find(".guideLine-cc").parent();"checked"==t?(a.removeClass().addClass("guideLine-cc-wrapper"),a.attr("marginState","")):(a.removeClass().addClass("guideLine-cc-wrapper marginLR10px"),a.attr("marginState","marginLR10px"));var i=s.index()-2;s=$(".userDefin-liLayer:eq("+i+")")}),$("body").delegate("input[name=line-show-style]","click",function(e){cFunYdj.stopProp(e);var t=$(this).attr("value"),a=s.find(".guideLine-cc");switch(a.removeClass().addClass("guideLine-cc"),t){case"solidLine":a.addClass("solidLine"),a.attr("lineStyle","solidLine");break;case"dashedLine":a.addClass("dashedLine"),a.attr("lineStyle","dashedLine");break;case"dottedLine":a.addClass("dottedLine"),a.attr("lineStyle","dottedLine")}var i=s.index()-2;s=$(".userDefin-liLayer:eq("+i+")")}),$("body").delegate("input[name=title-show-style]","click",function(e){cFunYdj.stopProp(e);var t=$(this).attr("value"),a=s.find("p.pDefineTitle");switch(a.removeClass().addClass("pDefineTitle"),t){case"tleft":a.addClass("tleft"),a.attr("pTextStyle","tleft");break;case"tcenter":a.addClass("tcenter"),a.attr("pTextStyle","tcenter");break;case"tright":a.addClass("tright"),a.attr("pTextStyle","tright")}var i=s.index()-2;s=$(".userDefin-liLayer:eq("+i+")")}),$("body").delegate("input[name=goods-show-style]","click",function(e){cFunYdj.stopProp(e);var t,a=$(this).attr("value");t="<li class='userDefin-liLayer li-goods-wrappers on' dataclass='goods'><ul class='ul-goods-list'>";var i="<span class='del'><i>￥</i><del>200.00</del></span>";$(".goodsAdRight .ul-selected-goods li").length>1&&$(".goodsAdRight .ul-selected-goods li:first").attr("dataPrice").indexOf("del")>0&&(i="");var n=!1;switch($(".container_homeUserD_jf").length>0&&(i="",n=!0),a){case"big-map":if($(".goodsAdRight .ul-selected-goods li").length>1)$(".ul-selected-goods li").each(function(){var e=$(this),a=e.attr("dataPrice");n&&(a=e.attr("dataDes")+"<span>积分</span>"),void 0!=e.attr("dataId")&&(t=t+"<li class='big-map' dataId='"+e.attr("dataId")+"' title='"+e.find(".p-list").text()+"' dataDes='"+e.attr("dataDes")+"' dataGg='"+e.attr("dataGg")+"' data_code='"+e.attr("data_code")+"'><a href='"+e.attr("dataUrl")+"'><img class='zero-img' src='"+e.find("img").attr("src")+"'><div><span class='name overflowDian'>"+e.attr("dataName")+"</span><span class='price'>"+i+a+"</span></div></a></li>")});else{o="<span class='del'><i>￥</i><del>200.00</del></span><em>￥</em>99.9";n&&(o="000<span>积分</span>"),t=t+"<li class='big-map'><div class='zero-img'></div><div><span class='name'>这里是名称</span><span class='price'>"+o+"</span></div></li>"}t+="</ul><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"small-map":if($(".goodsAdRight .ul-selected-goods li").length>1)$(".ul-selected-goods li").each(function(){var e=$(this),a=e.attr("dataPrice");n&&(a=e.attr("dataDes")+"<span>积分</span>"),void 0!=e.attr("dataId")&&(t=t+"<li class='small-map' dataId='"+e.attr("dataId")+"' title='"+e.find(".p-list").text()+"' dataDes='"+e.attr("dataDes")+"' dataGg='"+e.attr("dataGg")+"' data_code='"+e.attr("data_code")+"'><a href='"+e.attr("dataUrl")+"'><img class='first-img' src='"+e.find("img").attr("src")+"'><div><span class='name overflowDian'>"+e.attr("dataName")+"</span><span class='price'>"+a+i+"</span></div></a></li>")});else{o="￥99.9<span class='del'><i>￥</i><del>200.00</del></span>";n&&(o="000<span>积分</span>"),t=t+"<li class='small-map'><div class='first-img'></div><div><span class='name'>这里是名称</span><span class='price'>"+o+"</span></div></li><li class='small-map'><div class='first-img'></div><div><span class='name'>这里是名称</span><span class='price'>"+o+"</span></div></li>"}t+="<div class='clear'> </div></ul><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"detail-map":if($(".goodsAdRight .ul-selected-goods li").length>1)$(".ul-selected-goods li").each(function(){var e=$(this),a=e.attr("dataPrice"),s="<span class='des'>"+e.attr("dataDes")+"</span>";n&&(a=e.attr("dataDes")+"<span>积分</span>",s="<span class='des'></span>"),void 0!=e.attr("dataId")&&(t=t+"<li class='detail-map' dataId='"+e.attr("dataId")+"' title='"+e.find(".p-list").text()+"' dataDes='"+e.attr("dataDes")+"' dataGg='"+e.attr("dataGg")+"' data_code='"+e.attr("data_code")+"'><a href='"+e.attr("dataUrl")+"'><img class='second-img' src='"+e.find("img").attr("src")+"'><div><span class='name overflowDian'>"+e.attr("dataName")+"</span>"+s+"<span class='price'>"+a+i+"</span><span class='gg overflowDian'>"+e.attr("dataGg")+"</span></div><div class='clear'> </div></a></li>")});else{var o="<em>￥</em>99.9<span class='del'><i>￥</i><del>200.00</del></span>",r="<span class='des'>这里是描述</span>";n&&(o="000<span>积分</span>",r="<span class='des'></span>"),t=t+"<li class='detail-map'><div class='zero-img'></div><div><span class='name'>这里是名称</span><span class='des'>这里是描述</span><span class='price'>"+o+"<span class='gg'>这里是规格</span></div><div class='clear'> </div></li><li class='detail-map'><div class='first-img'></div><div><span class='name'>这里是名称</span>"+r+"<span class='price'>"+o+"</span><span class='gg'>这里是规格</span></div><div class='clear'> </div></li><li class='detail-map'><div class='second-img'></div><div><span class='name'>这里是名称</span>"+r+"<span class='price'>"+o+"</span><span class='gg'>这里是规格</span></div><div class='clear'> </div></li>"}t+="</ul><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>"}var l=s.index()-2;$(".container_homeUserD_jf").length>0&&(l=s.index()-3),s.replaceWith(t),s=$(".userDefin-liLayer:eq("+l+")"),$(".ul-goods-list").each(function(){var e=$(this);e.find(".small-map").length>0&&e.find(".small-map:last").css("marginBottom","0")})}),$("body").delegate("input[name=goodsGroup-show-style]","click",function(e){var t=$(".goodsGroup_main>li"),a=$(this).attr("value");$(".goodsGroups_TopSel,.goodsGroups_TopSelNote").addClass("nonedisplay"),t.addClass("nonedisplay");var i="",n="";switch(a){case"left":n="<li class='userDefin-liLayer li-comGroup-wrappers on' dataclass='goodsGroups'><div class='comGroupShow'><div class='comGroupLeft flaotleft'><ul><li class='on'><a href='javascript:;'><span>分组名称</span></a></li><li><a href='javascript:;'><span>分组名称</span></a></li></ul></div><div class='comGroupRight flaotleft'><div class='comGroup_head'>分组名称</div><ul><li><div class='comGroupRight_left flaotleft'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''/></div><div class='comGroupRight_right flaotleft'><p class='goods_name'>这里显示名称</p><div class='price'><span class='priceDetail'>￥22.2</span><span class='buy-btn flaotright'></span><div class='clear'> </div></div></div><div class='clear'> </div></li></ul><div class='comGroup_head'>分组名称</div><ul><li><div class='comGroupRight_left flaotleft'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''/></div><div class='comGroupRight_right flaotleft'><p class='goods_name'>这里显示名称</p><div class='price'><span class='priceDetail'>￥22.2</span><span class='buy-btn flaotright'></span><div class='clear'> </div></div></div><div class='clear'> </div></li></ul></div><div class='clear'> </div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"top":n="<li class='userDefin-liLayer li-comGroup-wrappers on' dataclass='goodsGroups'><div class='comGroupShow'><div class='comGroupTop'><ul class='four'><li class='on'>分组名称</li><li>分组名称</li><li>分组名称</li><li>分组名称</li><div class='clear'> </div></ul></div><div class='comGroupDown'><ul class='com_bigGoods'><li><div class='img'><img src='"+cfm.baseUrl_t+"img/goodstb.jpg' alt=''/></div><div class='con'><p class='name nonedisplayf goods_name'>这里是名称</p><p class='price'>￥99.9</p><span class='buy-btn nonedisplayf'></span></div></li><li><div class='img'><img src='"+cfm.baseUrl_t+"img/goodstb.jpg' alt=''/></div><div class='con'><p class='name nonedisplayf goods_name'>这里是名称</p><p class='price'>￥99.9</p><span class='buy-btn nonedisplayf'></span></div></li><div class='clear'> </div></ul></div></div><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>"}var o=s.index()-2;switch(s.replaceWith(n),s=$(".userDefin-liLayer:eq("+o+")"),a){case"left":t.length>0&&(t.removeClass("nonedisplay"),s.find(".comGroupLeft ul,.comGroupRight").empty(),t.each(function(e,t){var a=$(this),n=a.find(".rightImgTitle input").val();""==n&&(n="分组名称");var o="",r="<li><a href='javascript:;'><span>"+n+"</span></a></li>";0==e&&(r="<li class='on'><a href='javascript:;'><span>"+n+"</span></a></li>"),s.find(".comGroupLeft ul").append(r),a.find(".ul-selected-goods li").each(function(){var e=$(this);e.hasClass("selectGoodsExitLi_goodsGroup")||(o=o+"<li dataId='"+e.attr("dataId")+"'><div class='comGroupRight_left flaotleft'><img src='"+e.find("img").attr("src")+"'></div><div class='comGroupRight_right flaotleft'><p class='goods_name'>"+e.find(".name").text()+"</p><div class='price'><span class='priceDetail'>￥99.9</span><span class='buy-btn flaotright'></span><div class='clear'> </div></div></div><div class='clear'> </div></li>")}),i=i+"<div class='comGroup_head'>"+n+"</div><ul>"+o+"</ul>"}),s.find(".comGroupRight").html(i));break;case"top":$(".goodsGroups_TopSel,.goodsGroups_TopSelNote").removeClass("nonedisplay"),t.each(function(e,t){e<4&&$(".goodsGroup_main>li:eq("+e+")").removeClass("nonedisplay")}),$("input[name=goodsGroups_TopSel]").each(function(){"checked"==$(this).attr("checked")&&$(this).click()})}cfm.resetGoodsGroupHeight()}),$("body").delegate("input[name=goodsGroups_TopSel]","click",function(e){var t=$(this),a="four",i=$(".goodsGroup_main>li"),n=i.length;1==n&&(a="one"),2==n&&(a="two"),3==n&&(a="three"),s.find(".comGroupTop,.comGroupDown").empty(),s.find(".comGroupTop").append("<ul class='"+a+"'></ul>");var o=t.attr("value");if(i.each(function(e,t){var a="<ul class='com_"+o+"Goods'>";0!=e&&(a="<ul class='com_"+o+"Goods nonedisplayf'>");var i=$(this),n=i.find(".rightImgTitle input").val();""==n&&(n="分组名称");var r="<li>"+n+"</li>";switch(0==e&&(r="<li class='on'>"+n+"</li>"),e<4&&s.find(".comGroupTop ul").append(r),o){case"big":i.find(".ul-selected-goods li").each(function(){var e=$(this);e.hasClass("selectGoodsExitLi_goodsGroup")||(a=a+"<li dataId='"+e.attr("dataId")+"'><a href='javascript:;'><div class='img'><img src='"+e.find("img").attr("src")+"'></div><div class='con'><p class='name nonedisplayf goods_name'>"+e.find(".name").text()+"</p><p class='price'>￥99.9</p></div></a></li>")});break;case"small":i.find(".ul-selected-goods li").each(function(){var e=$(this);e.hasClass("selectGoodsExitLi_goodsGroup")||(a=a+"<li dataId='"+e.attr("dataId")+"'><a href='javascript:;'><div class='img'><img src='"+e.find("img").attr("src")+"' alt=''/></div><div class='con'><p class='name nonedisplayf goods_name'>"+e.find(".name").text()+"</p><p class='price'>￥99.9</p><span class='buy-btn nonedisplayf'></span></div></a></li>")});break;case"detail":i.find(".ul-selected-goods li").each(function(){var e=$(this);e.hasClass("selectGoodsExitLi_goodsGroup")||(a=a+"<li dataId='"+e.attr("dataId")+"'><a href='javascript:;'><div class='img'><img src='"+e.find("img").attr("src")+"' alt=''/></div><div class='con'><p class='name goods_name'>"+e.find(".name").text()+"</p><p class='price'>￥99.9</p><span class='buy-btn'></span></div></a></li>")})}s.find(".comGroupDown").append(a+"<div class='clear'> </div></ul>")}),0==n){s.find(".comGroupTop ul").append("<li class='on'>分组名称</li><li>分组名称</li><li>分组名称</li><li>分组名称</li><div class='clear'> </div>");var r="<ul class='com_"+o+"Goods'>";switch(o){case"big":r=r+"<li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodstb.jpg' alt=''></div><div class='con'><p class='name nonedisplayf goods_name'>这里是名称</p><p class='price'>￥99.9</p><span class='buy-btn nonedisplayf'></span></div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodstb.jpg' alt=''></div><div class='con'><p class='name nonedisplayf goods_name'>这里是名称</p><p class='price'>￥99.9</p><span class='buy-btn nonedisplayf'></span></div></a></li>";break;case"small":r=r+"<li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodstb.jpg' alt=''/></div><div class='con'><p class='name nonedisplayf'>这里是名称</p><p class='price'>￥99.9</p><span class='buy-btn nonedisplayf'></span></div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodstb.jpg' alt=''/></div><div class='con'><p class='name nonedisplayf goods_name'>这里是名称</p><p class='price'>￥99.9</p><span class='buy-btn nonedisplayf'></span></div></a></li>";break;case"detail":r=r+"<li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodstb.jpg' alt=''/></div><div class='con'><p class='name goods_name'>这里是名称</p><p class='price'>￥99.9</p><span class='buy-btn'></span></div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodstb.jpg' alt=''/></div><div class='con'><p class='name goods_name'>这里是名称</p><p class='price'>￥99.9</p><span class='buy-btn'></span></div></a></li>"}s.find(".comGroupDown").append(r+"<div class='clear'> </div></ul>")}else s.find(".comGroupTop ul").append("<div class='clear'> </div>");cfm.resetGoodsGroupHeight()}),$("body").delegate(".userDefin-liLayer .userDefin-liLayerFun .delete","click",function(e){cFunYdj.stopProp(e),cFunYdj.confirmy("您是否确认删除？",$(this),function(e){e.parent().parent().parent().remove(),$(".newWeiChatITRight").hide(),$(".userDefin-liLayer").length>0&&$(".userDefin-liLayer:last .userDefin-liLayerBorder").click()},function(){})}),$(".weiChatBlurs").blur(function(){if($(this).hasClass("nowDom")){var e=$(this).attr("dataFor"),t=$(this).val();"error"==cFunYdj.judgeNull(t)&&($(this).hasClass("url")?s.find("."+e).attr("href",$(this).val()):$(this).hasClass("word"))}else{var e=$(this).attr("dataFor"),t=$(this).val();"error"==cFunYdj.judgeNull(t)&&$("."+e).text($(this).val())}}),$(".pDefineTitleBlur").keyup(function(){var e=$(this).val();"right"==cFunYdj.judgeNull(e)&&(e=cfm.titleNote),s.find(".pDefineTitle").text(e)}),$(".notice input").keyup(function(){var e=$(this).val();"right"==cFunYdj.judgeNull(e)&&(e=cfm.noticeNote),s.find(".noticeMains").text(e)}),$("body").delegate(".imgAdRight .weiChatBlurs,.banner_l .weiChatBlurs","keyup",function(){var e=$(this),t=e.val();"error"==cFunYdj.judgeNull(t)&&s.find(".swiper-slide:eq("+e.parent().parent().index()+") a").attr("href",t)});var o;$("body").delegate(".selectGoodsExit","click",function(e){cFunYdj.stopProp(e),o=$(this).parent(),$(".chooseAdv-bg,.goods-main").show()}),$("body").delegate(".ul-goods-items span","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent();if($(this).hasClass("on"))$(".selectedGoods li[dataId='"+t.attr("dataId")+"'] .close").click(),$(this).removeClass("on"),$(this).text("选取");else{var a=t.find("p.price").text();""!=a&&void 0!=a&&null!=a||(a="<em>￥</em>99.9");var i="<li dataId='"+t.attr("dataId")+"' dataUrl='"+t.attr("dataUrl")+"' dataSrc='"+t.find("img").attr("src")+"' dataPrice='"+a+"' dataName='"+t.find(".name").text()+"' dataDes='"+t.find(".headerDes").text()+"' dataGg='"+t.find(".headerGg").text()+"' data_code='"+t.attr("data_code")+"'><span class='name'>"+t.find("p.p-list").text()+"</span><span class='close'>×</span></li>";$(i).insertBefore($(".selectedGoods ul .clear")),$(this).addClass("on"),$(this).text("已选")}}),$("body").delegate(".selectedGoods li .close","click",function(e){cFunYdj.stopProp(e),$(this).parent().remove()}),$("body").delegate(".goods-main .forSure","click",function(e){cFunYdj.stopProp(e),$(".selectedGoods li").each(function(){var e=$(this),t=e.attr("dataSrc");t.indexOf("/60/")>-1&&(t=t.replace("/60/","/800/")),t.indexOf("/120/")>-1&&(t=t.replace("/120/","/800/")),t.indexOf("/180/")>-1&&(t=t.replace("/180/","/800/"));var a=e.attr("dataDes");void 0!=a&&""!=a||(a="暂无描述");var i=e.attr("dataGg");void 0!=i&&""!=i||(i="暂无规格");var n="<li dataId='"+e.attr("dataId")+"' dataUrl='"+e.attr("dataUrl")+"' dataPrice='"+e.attr("dataPrice")+"' dataName='"+e.attr("dataName")+"' dataDes='"+a+"' dataGg='"+i+"' data_code='"+e.attr("data_code")+"'><img src='"+t+"'><p class='p-list name' title='"+e.find(".name").text()+"'>"+e.find(".name").text()+"</p><span class='selected-delete'>×</span></li>";$(n).insertBefore(o),e.remove()});var t;"block"==$(".goodsAdRight").css("display")&&(t="goods-show-style"),"block"==$(".goodsGroups").css("display")&&(t="goodsGroup-show-style"),$("input[name="+t+"]").each(function(){"checked"==$(this).attr("checked")&&$(this).click()}),$(".ul-goods-items span").removeClass("on"),$(".ul-goods-items span").text("选取"),$(".chooseAdv-bg,.goods-main").hide(),s.hasClass("li-goodsRec-wrappers")&&cfm.resetGoodsRecList(),s.hasClass("goodsRecPli_jf")&&cfm.resetGoodsRecList_jf(),s.hasClass("li-goodsGroups-hp-wrappers")&&cfm.resetGoodsRecList_gg()}),$("body").delegate(".goods-main .cancel","click",function(e){cFunYdj.stopProp(e),$(".ul-goods-items span").removeClass("on"),$(".ul-goods-items span").text("选取"),$(".chooseAdv-bg,.goods-main").hide()}),$("body").delegate(".li-adv-img","click",function(e){cFunYdj.stopProp(e),$(".adv-main .li-adv-img").removeClass("on"),$(this).addClass("on")}),$("body").delegate(".selectImgExit","click",function(e){cFunYdj.stopProp(e),$(".chooseAdv-bg,.adv-main").show()}),$("body").delegate(".adv-main .forSure","click",function(e){cFunYdj.stopProp(e);var t=$(".adv-main .li-adv-img.on img").attr("src");$(".imgAdRight .rightImg .uploadImg").remove(),$(".imgAdRight .rightImg .lblfile-square-max").show(),$(".imgAdRight .rightImg").prepend("<div class='flaotleft uploadImg'><img src='"+t+"'><div class='editImg'><label><input type='file' class='fileUpload editImging' limit='1'>编辑</label><label class='editImgimgDelete'>删除</label></div></div>"),s.find("img").attr("src",t),$(".imgAdRight .rightImg .lblfile-square-max").hide(),$(".adv-main .li-adv-img").removeClass("on"),$(".chooseAdv-bg,.adv-main").hide()}),$("body").delegate(".adv-main .cancel","click",function(e){cFunYdj.stopProp(e),$(".adv-main .li-adv-img").removeClass("on"),$(".chooseAdv-bg,.adv-main").hide()}),$("body").delegate(".ul-selected-goods .selected-delete","click",function(e){cFunYdj.stopProp(e),$(this).parent().remove();var t;"block"==$(".goodsAdRight").css("display")&&(t="goods-show-style"),"block"==$(".goodsGroups").css("display")&&(t="goodsGroup-show-style"),$("input[name="+t+"]").each(function(){"checked"==$(this).attr("checked")&&$(this).click()}),"block"==$(".goods_rec").css("display")&&(cfm.resetGoodsRecList(),0==s.find(".goodsRec ul>li").length&&s.find(".goodsRec ul").empty().append("<li class='default'><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9</div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9</div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9</div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9</div></a></li><li><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg' alt=''></div><div class='name'>这里是名称</div><div class='price'>￥99.9</div></a></li><div class='clear'> </div>"),cfm.resetNHomePageHeight()),"block"==$(".goods_rec_jff").css("display")&&(cfm.resetGoodsRecList_jf(),0==s.find(".goods_rec_jf ul>li").length&&s.find(".goods_rec_jf ul").empty().append("<li class='default'><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'></div><div class='name'>这里是赠品名称这里是赠品名称这里是赠品名称</div><div class='fun'><span class='left'>000<span>积分</span></span><span class='right'></span></div></a></li><li class='default'><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'></div><div class='name'>这里是赠品名称这里是赠品名称这里是赠品名称</div><div class='fun'><span class='left'>000<span>积分</span></span><span class='right'></span></div></a></li><li class='default'><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'></div><div class='name'>这里是赠品名称这里是赠品名称这里是赠品名称</div><div class='fun'><span class='left'>000<span>积分</span></span><span class='right'></span></div></a></li><li class='default'><a href='javascript:;'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'></div><div class='name'>这里是赠品名称这里是赠品名称这里是赠品名称</div><div class='fun'><span class='left'>000<span>积分</span></span><span class='right'></span></div></a></li><div class='clear'> </div>"),cfm.resetNHomePageHeight_jf()),"block"==$(".goodsGroups_hp").css("display")&&(cfm.resetGoodsRecList_gg(),0==s.find(".goodsGroup_list ul>li").length&&s.find(".goodsGroup_list ul").empty().append("<li class='default'><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'/></div><div class='name'>商品名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></li><li><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'/></div><div class='name'>商品名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></li><li><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'/></div><div class='name'>商品名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></li><li><div class='img'><img src='"+cfm.baseUrl_t+"img/goodst.jpg'/></div><div class='name'>商品名称</div><div class='price'>￥99.9<span class='del'><i>￥</i><del>200.00</del></span></div></li><div class='clear'> </div>"),cfm.resetNHomePageHeight_gg())}),$("body").delegate(".selectCouponExit","click",function(e){cFunYdj.stopProp(e),$(".chooseAdv-bg,.coupon-main").show()}),$("body").delegate(".coupon-main .cancel","click",function(e){cFunYdj.stopProp(e),$(".ul-coupon-items span").removeClass("on"),$(".ul-coupon-items span").text("选取"),$(".chooseAdv-bg,.coupon-main").hide()}),$("body").delegate(".ul-coupon-items span","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent();if($(this).hasClass("on"))$(".selectedCoupon li[dataId='"+t.attr("dataId")+"'] .close").click(),$(this).removeClass("on"),$(this).text("选取");else{var a="<li dataId='"+t.attr("dataId")+"' dataType='"+t.attr("data-type")+"' dataUrl='"+t.attr("dataUrl")+"' dataName='"+t.find(".p-list.name").text()+"' dataVal='"+t.find(".p-list.val").text()+"' dataDeadline='"+t.find(".p-list.deadline").text()+"' dataUsage='"+t.find(".p-list.usage").text()+"'><span class='name' title='"+t.find(".p-list.name").text()+"'>"+t.find(".p-list.name").text()+"</span><span class='close'>×</span></li>";$(a).insertBefore($(".selectedCoupon ul .clear")),$(this).addClass("on"),$(this).text("已选")}}),$("body").delegate(".ul-selected-coupon .coupon-selected-delete","click",function(e){cFunYdj.stopProp(e),$(this).parent().remove(),$("input[name=coupon-show-style]").each(function(){"checked"==$(this).attr("checked")&&$(this).click()})}),$("body").delegate(".selectedCoupon li .close","click",function(e){cFunYdj.stopProp(e),$(this).parent().remove()}),$("body").delegate(".coupon-main .forSure","click",function(e){cFunYdj.stopProp(e),$(".selectedCoupon li").each(function(){var e=$(this),t=e.attr("dataName"),a=e.attr("dataVal"),i=e.attr("dataUsage"),n=e.attr("dataDeadline"),s="<li dataId='"+e.attr("dataId")+"' dataType='"+e.attr("dataType")+"' dataUrl='"+e.attr("dataUrl")+"' dataName='"+t+"' dataVal='"+a+"' dataDeadline='"+n+"' dataUsage='"+i+"' dataColor='#FA4A54'><p class='p-list name' title='"+t+"'>"+t+"</p><p title='"+a+"'>"+a+"</p><p title='"+i+"'>"+i+"</p><p title='"+n+"'>"+n+"</p><div><div class='flaotleft'>选择颜色：</div><div value='#FA4A54' class='inputcolor floatLeft' style='background-color:#FA4A54'></div><input type='hidden' name='colorSelect' value='#FA4A54' id='inputColor'><div class='clear'> </div></div><span class='coupon-selected-delete'>×</span></li>";$(s).insertBefore($(".couponAdRight .ul-selected-coupon .selectCouponExitLi")),e.remove()}),$("input[name=coupon-show-style]").each(function(){"checked"==$(this).attr("checked")&&$(this).click()}),$(".ul-coupon-items span").removeClass("on"),$(".ul-coupon-items span").text("选取"),$(".chooseAdv-bg,.coupon-main").hide()}),$("body").delegate("input[name=coupon-show-style]","click",function(e){cFunYdj.stopProp(e);var t,a=$(this).attr("value");switch(t="<li class='userDefin-liLayer li-coupon-wrappers on' dataclass='coupon'><ul class='ul-coupon'>",a){case"c1":$(".ul-selected-coupon li").length>1?$(".ul-selected-coupon li").each(function(){var e=$(this);if(void 0!=e.attr("dataId")){var a=e.attr("dataVal"),i="折扣券",n="";switch(e.attr("dataType")){case"1":i="折扣券",n=a.split("折")[0]+"<span>"+"折"+"</span>";break;case"2":i="抵价券",n="<span>"+"￥"+"</span>"+a.split("元")[0];break;case"3":"",i="礼品券",n="<img src='"+cfm.baseUrl_t+"img/lipin_white.png'>";break;case"4":i="现金券",n="<span>"+"￥"+"</span>"+a.split("元")[0]}var s=e.attr("dataColor");t=t+"<li class='coupon coupon1' dataId='"+e.attr("dataId")+"' dataType='"+e.attr("dataType")+"' dataUrl='"+e.attr("dataUrl")+"' dataVal='"+e.attr("dataVal")+"' dataName='"+e.attr("dataName")+"' dataUsage='"+e.attr("dataUsage")+"' dataDeadline='"+e.attr("dataDeadline")+"' dataColor='"+s+"'><div class='left' style='background:"+s+"'><div class='leftLine'></div><div class='price_l'>"+n+"</div><div class='limit'>"+e.attr("dataUsage")+"</div></div><div class='right'><div class='name_s' style='color:"+s+"'>"+i+"</div><a href='"+e.attr("dataUrl")+"' class='lingqu' style='background:"+s+"'>点击领取</a></div><div class='clear'> </div></li>"}}):t+="<li class='coupon coupon1 coupon_no'><div class='left'><div class='leftLine'></div><div class='price_l'><span>￥</span>0</div><div class='limit'>这里是限制条件</div></div><div class='right'><div class='name_s'>折扣券</div><a href='javascript:;' class='lingqu'>点击领取</a></div><div class='clear'> </div></li>",t+="</ul><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>";break;case"c2":$(".ul-selected-coupon li").length>1?$(".ul-selected-coupon li").each(function(){var e=$(this);if(void 0!=e.attr("dataId")){var a=e.attr("dataVal"),i="";switch(e.attr("dataType")){case"1":i="<div class='price_l l'><span>折</span>"+a.split("折")[0]+"</div><div class='name'>折扣券</div>";break;case"2":i="<div class='price_l l'><span>￥</span>"+a.split("元")[0]+"</div><div class='name'>抵价券</div>";break;case"3":i="<div class='price_l'></div><div class='name lp'>礼品券</div>";break;case"4":i="<div class='price_l l'><span>￥</span>"+a.split("元")[0]+"</div><div class='name'>现金券</div>"}t=t+"<li class='coupon coupon2' dataId='"+e.attr("dataId")+"' dataType='"+e.attr("dataType")+"' dataUrl='"+e.attr("dataUrl")+"' dataVal='"+e.attr("dataVal")+"' dataName='"+e.attr("dataName")+"' dataUsage='"+e.attr("dataUsage")+"' dataDeadline='"+e.attr("dataDeadline")+"' dataColor='"+e.attr("dataColor")+"'><div class='top' style='background:"+e.attr("dataColor")+"'>"+i+"<a href='"+e.attr("dataUrl")+"' class='lingqu'>点击领取</a><div class='bottomLine'></div><div class='clear'> </div></div><div class='down'><div class='limit'>使用门槛："+e.attr("dataUsage")+"</div><div class='time'>有效期限："+e.attr("dataDeadline")+"</div></div></li>"}}):t+="<li class='coupon coupon2 coupon_no'><div class='top'><div class='price_l l'><span>￥</span>0</div><div class='name'>现金券</div><a href='javascript:;' class='lingqu'>点击领取</a><div class='bottomLine'></div><div class='clear'> </div></div><div class='down'><div class='limit'>使用门槛：这里是限制条件</div><div class='time'>有效期限：这里是使用时间</div></div></li>",t+="</ul><div class='userDefin-liLayerBorder'><div class='userDefin-liLayerFun'><span class='action edit'>编辑</span><span class='action delete'>删除</span></div><div class='liLayerMove'></div></div></li>"}cfm.resetZYdate(),cfm.coupon_color_getJq();var i=s.index()-2;s.replaceWith(t),s=$(".userDefin-liLayer:eq("+i+")")}),$("body").delegate(".liLayerUp","click",function(e){cFunYdj.stopProp(e),$(this).parent().click();var t=$(this).parent().parent(),a=t.index()-2,i=a-1;0!=a&&$(t).after($(".userDefin-liLayer:eq("+i+")")),$(this).parent().click()}),$("body").delegate(".liLayerDown","click",function(e){cFunYdj.stopProp(e),$(this).parent().click();var t=$(this).parent().parent(),a=t.index()-2,i=a+1;a!=$(".userDefin-liLayer").length&&$(t).before($(".userDefin-liLayer:eq("+i+")")),$(this).parent().click()}),setTimeout(function(){cfm.resetZYdate(),$(".newWeiChatITLeftMain input[type='hidden']").remove(),$(".liLayerUp").length>0&&$(".userDefin-liLayerBorder").each(function(){$(this).find(".liLayerUp").length>0&&($(this).find(".liLayerUp").remove(),$(this).find(".liLayerDown").remove(),$(this).append("<div class='liLayerMove'></div>"))})},300);var r=!1,l=$(".userDefinHtmlModel_main").offset().top,d=0,c=0;$("body").delegate(".userDefin-liLayerBorder","mousedown",function(e){s=$(this).parent(),r=!0,$(this).hasClass("move_limit")&&(r=!1),d=e.clientY,$("body").addClass("selNoneI")});var p,u=!0,f=parseFloat($(window).height());$("html,body").on("mousemove",function(t){if(r){var a=t.clientY,i=a-d,n=parseFloat(s.css("top"))+i,o=$(window).scrollTop(),m=o;if(m>150&&(m=150),(a<2&&0!=o||f-a<8)&&u){var v=o-150;n=parseFloat(s.css("top"))-m,a>f/2&&(v=o+150,n=parseFloat(s.css("top"))+m),$("html,body").animate({scrollTop:v},"fast"),u=!1,clearTimeout(p),p=setTimeout(function(){u=!0},300)}s.css({top:n+"px"}),d=a,c=s.offset().top-l;var y=s.height()+s.outerHeight()-parseFloat(s.css("height"));if($(".userDefin-liLayerBlank").length<1&&$("<li class='userDefin-liLayerBlank' style='width:320px;height:"+y+"px;background-color:#f2f2f2;'></li>").insertBefore(s),"relative"==s.css("position")&&s.css({position:"absolute",left:0,top:c+"px","z-index":"999"}),i>0){var b=s.next("li");if(b.length>0){var w=b.offset().top-l;parseFloat(s.css("top"))>w&&$(".userDefin-liLayerBlank").before(b)}}else if(i<0){var _=s.prev("li").prev("li");if(_.length>0&&_.find(".move_limit").length<1){var x=_.offset().top-l;parseFloat(s.css("top"))<x&&($(".userDefin-liLayerBlank").after(_),s.after(_))}}}g&&e(t.clientX,h)}),document.addEventListener("mouseup",function(){r&&(r=!1,$(".userDefin-liLayerBlank").remove(),s.css({position:"relative",left:0,top:0,"z-index":"1"}),$("body").removeClass("selNoneI")),g=!1},!0);var h=0;$(".gapAssMainR").click(function(t){cFunYdj.stopProp(t),h=$(".gapAssMainR").offset().left,e(t.clientX,h)});var g=!1;$("body").delegate(".gapAssMove","mousedown",function(e){g=!0,h=$(".gapAssMainR").offset().left});var m,v=0,y=0;$("body").delegate(".magicCube_controls td","click",function(){var e=$(this);m=e,v=parseInt(e.attr("data-x")),y=parseInt(e.attr("data-y"));var i=parseInt(e.attr("colspan")),s=parseInt(e.attr("rowspan")),o=e.attr("dataUrl"),r=parseInt(e.attr("data-index")),l=!1;e.hasClass("not-empty")&&($(".magicCube_controls .not-empty").removeClass("current"),e.addClass("current"),n(),l=!0);var d=4;$(".selectMagicCube li").addClass("hidden"),$(".magicCube_controls tr").each(function(){var e=$(this);if(e.index()>=y){var t=v-1;e.find("td").each(function(){var e=$(this),a=e.attr("data-x");if(a>=v&&a<d&&a-t==1)if(t=a,e.hasClass("not-empty"))d=a;else{var i=parseInt(e.attr("data-x")),n=parseInt(e.attr("data-y"));$(".selectMagicCube ul:eq("+i+") li:eq("+n+")").removeClass("hidden")}})}}),$(".selectMagicCube li").removeClass("selected"),l&&a(i,s,r,o),e.hasClass("not-empty")?t():$(".chooseAdv-bg,.selectMagicCube").show()}),$("body").delegate(".magicCube .bFunction select","change",function(){var e=$(this).find("option:selected"),i=parseInt(e.attr("dataC")),s=parseInt(e.attr("dataR")),o=parseInt(m.attr("data-index")),r=m.attr("dataUrl"),l="noImg";m.find("img").length>0&&(l=m.find("img").attr("src")),n(),a(i,s,o,r),m=$(".magicCube_controls .current"),"noImg"!=l&&m.empty().append("<img src='"+l+"'>"),cfm.resetMagicCubeImg(),t()}),$(".close_magicCube").click(function(){$(".chooseAdv-bg,.selectMagicCube").hide(),w=0,_=0,b=!1,$(".magicCube_controls .current").click()}),$(".selectMagicCube li").click(function(){var e=$(this);a(e.attr("data_cols")-$(".selectMagicCube .main .selected:first").attr("data_cols")+1,e.attr("data_rows")-$(".selectMagicCube .main .selected:first").attr("data_rows")+1),$(".bFunction").show(),t(),cfm.resetMagicCubeImg(),$(".chooseAdv-bg,.selectMagicCube").hide(),w=0,_=0,b=!1});var b=!1,w=0,_=0;$("body").delegate(".selectMagicCube li","mousemove",function(){var e=$(this),t=e.attr("data_cols"),a=e.attr("data_rows");if(t==w&&a==_||(b=!0),b){$(".selectMagicCube li").removeClass("selected");for(var i=0;i<t;i++)for(var n=0;n<a;n++){var s=$(".selectMagicCube ul:eq("+i+") li:eq("+n+")");s.hasClass("hidden")||s.addClass("selected")}w=t,_=a,b=!1}});var x;$("body").delegate(".selectUrl_self_page","click",function(e){cFunYdj.stopProp(e),x=$(this),$(".chooseMagicUrl-bg,.selectBasicUrl").show()}),$("body").delegate(".selectUrl_self li","click",function(e){cFunYdj.stopProp(e);var t=$(this);if(t.hasClass("selectUrl_self_page"))return!1;var a=t.attr("dataUrl");"block"==$(".magicCube").css("display")?i(a):"block"==$(".nav_a").css("display")&&(t.parent().parent().parent().find("input").val(a),cfm.reset_nav_main())}),$("body").delegate(".selectedImgText","click",function(e){cFunYdj.stopProp(e);var t=$(this).parent().parent().find("li:eq(1)").text();"block"==$(".magicCube").css("display")?i(t):"block"==$(".nav_a").css("display")?(x.parent().parent().parent().find("input[type='text']").val(t),cfm.reset_nav_main()):"block"==$(".goodsGroups_hp").css("display")&&($(".goodsGroups_hp .goodsGroupTl[value=2]").attr("checked","checked").parent().parent().find("input[type=text]").removeAttr("disabled"),$(".goodsGroups_hp .ul-contain-info-url input[type=text]").val(t),s.find(".goodsGroup_name>a").attr("href",t),s.find(".goodsGroups_hpm").attr("data_url",t)),$(".chooseMagicUrl-bg,.selectBasicUrl").hide()}),$(".closeBFun").click(function(){var e=parseInt(m.attr("data-index"));$(".magicCube_controls .not-empty").each(function(){var t=$(this),a=parseInt(t.attr("data-index"));if(a>e){var i=a-1;t.removeClass("index-"+a).addClass("index-"+i).attr("data-index",i)}}),n(),cfm.resetMagicCubeImg(),$(".bFunction").hide()}),$(".magicCube_inputUrl").keyup(function(){var e=$(this).val();"error"==cFunYdj.judgeNull(e)&&($(".magicCube_controls .current").attr("dataUrl",e),cfm.resetMagicCubeImg())}),$("body").delegate(".goodsGroups .rightImgTitle input","keyup",function(){var e=$(this).val();""!=e&&(s.find(".comGroupLeft li:eq("+$(this).parent().parent().index()+") span").text(e),$("input[name=goodsGroup-show-style]").each(function(){"checked"==$(this).attr("checked")&&$(this).click()}))}),$(".addGoodsSort_goodsGroup").click(function(){"top"==$("input[type='radio'][name='goodsGroup-show-style']:checked").attr("value")&&$(".goodsGroup_main>li").length>3?cFunYdj.alertMoni("‘顶部菜单’分组最多为4个"):$(".goodsGroup_main").append("<li><div class='rightImgTitle'><span>分组名称：</span><input type='text' placeholder='名称限制4个字以内'></div><ul class='ul-contain-info heightauto'><li class='li-container-left tleft width70'>选择商品：</li><li class='li-container-right right-spacing-shi'><ul class='ul-selected-goods'><li class='selectGoodsExitLi selectGoodsExitLi_goodsGroup'><a class=' font-color-skeyblue selectGoodsExit' href='javascript:void(0);'>+</a></li><div class='clear'></div></ul></li><div class='clear'></div></ul><div class='closeGoodsLayer'>×</div></li>")}),$("body").delegate(".goodsGroup_main .closeGoodsLayer","click",function(){$(this).parent().remove(),$("input[name=goodsGroup-show-style]").each(function(){"checked"==$(this).attr("checked")&&$(this).click()})}),$(".richText .resetColorValue").click(function(){$(this).parent().find("input[name='color']").val("#ffffff"),s.css("background",$(".richText input[type='color']").val())}),$("body").delegate(".wangEditor-modal-container input[type='checkbox']","click",function(e){cFunYdj.stopProp(e);var t=$(this);"checked"==t.attr("checked")?t.removeAttr("checked"):t.attr("checked","checked")}),$(".richText input[type='color']").change(function(){s.css("background",$(this).val())}),$(".richText input[type='checkbox']").change(function(){var e=$(this);setTimeout(function(){"checked"==e.attr("checked")?s.addClass("padding0f"):s.removeClass("padding0f")},50)}),$("#video_upload").keyup(function(){s.find(".videoMain").html($("#video_upload").val())}),$(".deleteAudio").click(function(){var e=$(this);e.parent().parent().find("audio").remove(),e.parent().parent().parent().find(".fileUpload_audio span").text("上传音频"),e.hide(),cfm.audioReset()}),$(".audio_layer_logoDefaule").click(function(){$(".audio_layer_main_img img").attr("src",$("#logoAttr").val()),cfm.audioReset()}),$("input[name='video_ys']").click(function(){$(".audio_layer_main").hide(),$(this).parent().parent().find(".audio_layer_main").show(),cfm.audioReset()}),$("input[name='video_qpys']").click(function(){cfm.audioReset()}),$(".audio_layer_main input[type='text']").keyup(function(){s.find(".audio_style1 .audio_des").html($(this).val())}),$("input[name='nav_show_style']").click(function(){var e=$(this).val();$(".nav_a .nav_edit_subhead,.nav_a .imgUpload_note").hide(),"1"==e&&$(".nav_a .nav_edit_subhead").show(),$(".nav_a .imgUpload_note"+e).show(),cfm.reset_nav_main()}),$(".nav_a .nav_edit_head input,.nav_a .nav_edit_subhead input,.nav_a .nav_edit_url input").keyup(function(){cfm.reset_nav_main()});var C;$(".select_tubiaoku").click(function(){C=$(this).parent().parent().find(".rightImg");for(var e="",t=0,a=0,i=0;i<102;i++)18!=i&&38!=i&&55!=i&&75!=i&&92!=i||(t++,a=0),18!=i&&55!=i&&92!=i||(e+="<div class='clear'> </div><div class='btl'></div>"),e=e+"<li class='tb' style='background-position: -"+50*a+"px -"+50*t+"px;' hx="+a+" ht="+t+"></li>",a++;$(".yijian_sel_tubiao .sel_tubiao").html(e+"<div class='clear'> </div>"),$(".yijian_sel_tubiao .tubiao_sel").remove();var n=C.find(".tb");if(n.length>0){var s=parseInt(n.attr("hx")),o=parseInt(n.attr("ht")),e="<div class='tubiao_sel' style='background-position: -"+80*s+"px -"+80*o+"px;' hx="+s+" ht="+o+">当前所选图标</div>";$(".yijian_sel_tubiao .sel_tubiao .tb[hx='"+s+"'][ht='"+o+"']").addClass("on"),$(".yijian_sel_tubiao .left").html(e)}$(".yijian_sel_tubiao,.inputBg").show()}),$("body").delegate(".yijian_sel_tubiao .sel_tubiao .tb","click",function(){var e=$(this);if(e.hasClass("on"))e.removeClass("on"),$(".yijian_sel_tubiao .tubiao_sel").remove();else{$(".yijian_sel_tubiao .sel_tubiao .tb").removeClass("on"),e.addClass("on");var t=parseInt(e.attr("hx")),a=parseInt(e.attr("ht")),i="<div class='tubiao_sel' style='background-position: -"+80*t+"px -"+80*a+"px;' hx="+t+" ht="+a+"'>当前所选图标</div>";$(".yijian_sel_tubiao .left").html(i)}}),$(".yijian_sel_tubiao .yijian_edit_close").click(function(){$(".yijian_sel_tubiao,.inputBg").hide()}),$(".yijian_sel_tubiao .sure").click(function(){var e=$(".yijian_sel_tubiao .tubiao_sel");if(e.length>0){var t=parseInt(e.attr("ht")),a=parseInt(e.attr("hx")),i="<div class='flaotleft uploadImg'><div class='tb' style='background-position: -"+90*a+"px -"+90*t+"px;' hx="+a+" ht="+t+"></div><div class='editImg'><label><input type='file' class='fileUpload edit_copy' limit='1'>上传</label><label class='editImgimgDelete'>删除</label></div></div>";C.find(".uploadImg").remove(),C.prepend(i).find(".lblfile-square-max").hide(),C.find("input[type='file']").fileUpload(),cfm.reset_nav_main()}$(".yijian_sel_tubiao,.inputBg").hide()}),$(".goodsGroups_hp .ul-contain-info-bt input").keyup(function(){var e=$(this),t=e.val();if("right"==cFunYdj.judgeNull(t))t="标题",s.find(".goodsGroups_hpm").hasClass("s1")?s.find(".goodsGroup_name .sl_con").html(t):s.find(".goodsGroups_hpm").hasClass("s2")&&s.find(".goodsGroup_name .bt").html(t),s.find(".goodsGroups_hpm").attr("data_bt",t);else if(t.length<=8)s.find(".goodsGroups_hpm").hasClass("s1")?s.find(".goodsGroup_name .sl_con").html(t):s.find(".goodsGroups_hpm").hasClass("s2")&&s.find(".goodsGroup_name .bt").html(t),s.find(".goodsGroups_hpm").attr("data_bt",t);else if(t.length>8){cFunYdj.alertMoni("标题不超过8个字");for(var a=t.split(""),i="",n=0;n<a.length;n++)n<=7&&(i+=a[n]);e.val(i)}}),$(".goodsGroups_hp .goodsGroupR").click(function(){var e=$(this).val();s.find(".goodsGroups_hpm").removeClass("s1").removeClass("s2").addClass("s"+e),$(".goodsGroups_hp .goodsGroup_hp_sr").hide();var t=$(".goodsGroups_hp .ul-contain-info-bt input").val();if("right"==cFunYdj.judgeNull(t)&&(t="标题"),"1"==e){$(".goodsGroups_hp .goodsGroup_hp_sr.s1").show();var a=$(".goodsGroups_hp .inputcolor_i").val();s.find(".goodsGroup_name").html("<div class='con'><span class='s1_img_l'></span><span class='sl_con' style='color:"+a+"'>"+t+"</span><span class='s1_img_r'></span></div><a href='javascript:;' class='right'>查看更多<span></span></a>")}else if("2"==e){$(".goodsGroups_hp .goodsGroup_hp_sr.s2").show();var i=$(".goodsGroups_hp .ul-contain-info-fbt input").val();""==i&&(i="副标题");var n="<span class='img no_img'><span class='name_note'>图片</span><img src=''/></span>";$(".goodsGroups_hp .ul-contain-file-gg .uploadImg").length>0&&(n="<span class='img'><span class='name_note'>图片</span><img src='"+$(".goodsGroups_hp .ul-contain-file-gg .uploadImg img").attr("src")+"'/></span>");var o="javascript:;",r="m";"2"==$(".goodsGroups_hp .ul-contain-info-url .goodsGroupTl:checked").val()&&(o=$(".goodsGroups_hp .ul-contain-info-url input[type=text]").val(),r="z"),s.find(".goodsGroup_name").html("<a href='"+o+"' class='"+r+"'>"+n+"<span class='con'><span><i class='bt'>"+t+"</i><br /><i class='fbt'>"+i+"</i></span></span><span class='arb'><span class='arbM'><i class='al'></i><i class='alj'></i><i class='ar'></i><i class='arj'></i></span></span></a>")}}),$(".goodsGroups_hp .ul-contain-info-fbt input").keyup(function(){var e=$(this),t=e.val();if("error"==cFunYdj.judgeNull(t)&&t.length<=12)s.find(".goodsGroup_name .fbt").html(t),s.find(".goodsGroups_hpm").attr("data_fbt",t);else if(t.length>12){cFunYdj.alertMoni("副标题不超过12个字");for(var a=t.split(""),i="",n=0;n<a.length;n++)n<=11&&(i+=a[n]);e.val(i)}}),$(".goodsGroups_hp .goodsGroupTl").click(function(){var e=$(this),t=e.val(),a="javascript:;",i=e.parent().parent().find("input[type=text]"),n=s.find(".goodsGroup_name>a");"1"==t?(i.attr("disabled",!0),n.removeClass("z").addClass("m")):"2"==t&&(i.removeAttr("disabled"),n.removeClass("m").addClass("z"),""==(a=i.val())&&(a="javascript:;")),n.attr("href",a),s.find(".goodsGroups_hpm").attr("data_url",a)}),$(".goodsGroups_hp .ul-contain-info-url input[type=text]").keyup(function(){var e=$(this).val();"error"==cFunYdj.judgeNull(e)&&(s.find(".goodsGroup_name>a").attr("href",e),s.find(".goodsGroups_hpm").attr("data_url",e))}),$(".goodsGroup_hp_url_sel").click(function(){$(".selectBasicUrl,.inputBg").show()})}),function(e){"function"==typeof window.define?window.define.amd?window.define("wangEditor",["jquery"],e):window.define.cmd?window.define(function(t,a,i){return e}):e(window.jQuery):"object"==typeof module&&"object"==typeof module.exports?(window.wangEditorCssPath?require(window.wangEditorCssPath):require("../css/wangEditor.css"),module.exports=e(window.wangEditorJQueryPath?require(window.wangEditorJQueryPath):require("jquery"))):e(window.jQuery)}(function(e){if(e&&e.fn&&e.fn.jquery){var t=function(t){var a=window.wangEditor;a&&t(a,e)};return function(e,t){if(e.wangEditor)cFunYdj.alertMoni("一个页面不能重复引用 wangEditor.js 或 wangEditor.min.js ！！！");else{var a=function(e){"string"==typeof e&&(e="#"+e);var a=t(e);if(1===a.length){var i=a[0].nodeName;"TEXTAREA"!==i&&"DIV"!==i||(this.valueNodeName=i.toLowerCase(),this.$valueContainer=a,this.$prev=a.prev(),this.$parent=a.parent(),this.init())}};a.fn=a.prototype,a.$body=t("body"),a.$document=t(document),a.$window=t(e),a.userAgent=navigator.userAgent,a.getComputedStyle=e.getComputedStyle,a.w3cRange="function"==typeof document.createRange,a.hostname=location.hostname.toLowerCase(),a.websiteHost="wangeditor.github.io|www.wangeditor.com|wangeditor.coding.me",a.isOnWebsite=a.websiteHost.indexOf(a.hostname)>=0,a.docsite="http://www.kancloud.cn/wangfupeng/wangeditor2/113961",e.wangEditor=a,a.plugin=function(e){a._plugins||(a._plugins=[]),"function"==typeof e&&a._plugins.push(e)}}}(window,e),t(function(e,t){e.fn.init=function(){this.initDefaultConfig(),this.addEditorContainer(),this.addTxt(),this.addMenuContainer(),this.menus={},this.commandHooks()}}),t(function(e,t){e.fn.ready=function(e){this.readyFns||(this.readyFns=[]),this.readyFns.push(e)},e.fn.readyHeadler=function(){for(var e=this.readyFns;e.length;)e.shift().call(this)},e.fn.updateValue=function(){var e=this,t=e.$valueContainer,a=e.txt.$txt;if(t!==a){var i=a.html();t.val(i)}},e.fn.getInitValue=function(){var e=this,t=e.$valueContainer,a="",i=e.valueNodeName;return"div"===i?a=t.html():"textarea"===i&&(a=t.val()),a},e.fn.updateMenuStyle=function(){var e=this.menus;t.each(e,function(e,t){t.updateSelected()})},e.fn.enableMenusExcept=function(e){this._disabled||("string"==typeof(e=e||[])&&(e=[e]),t.each(this.menus,function(t,a){e.indexOf(t)>=0||a.disabled(!1)}))},e.fn.disableMenusExcept=function(e){this._disabled||("string"==typeof(e=e||[])&&(e=[e]),t.each(this.menus,function(t,a){e.indexOf(t)>=0||a.disabled(!0)}))},e.fn.hideDropPanelAndModal=function(){var e=this.menus;t.each(e,function(e,t){var a=t.dropPanel||t.dropList||t.modal;a&&a.hide&&a.hide()})}}),t(function(e,t){function a(){}var i=!e.w3cRange;e.fn.currentRange=function(e){return e?void(this._rangeData=e):this._rangeData},e.fn.collapseRange=function(e,t){t="start"===(t=t||"end"),(e=e||this.currentRange())&&(e.collapse(t),this.currentRange(e))},e.fn.getRangeText=i?a:function(e){if(e=e||this.currentRange())return e.toString()},e.fn.getRangeElem=i?a:function(e){var t=(e=e||this.currentRange()).commonAncestorContainer;return 1===t.nodeType?t:t.parentNode},e.fn.isRangeEmpty=i?a:function(e){return!(!(e=e||this.currentRange())||!e.startContainer||e.startContainer!==e.endContainer||e.startOffset!==e.endOffset)},e.fn.saveSelection=i?a:function(e){var a,i,n=this,s=n.txt.$txt.get(0);e?a=e.commonAncestorContainer:(i=document.getSelection()).getRangeAt&&i.rangeCount&&(e=document.getSelection().getRangeAt(0),a=e.commonAncestorContainer),a&&(t.contains(s,a)||s===a)&&n.currentRange(e)},e.fn.restoreSelection=i?a:function(t){var a;if(t=t||this.currentRange())try{(a=document.getSelection()).removeAllRanges(),a.addRange(t)}catch(t){e.error("执行 editor.restoreSelection 时，IE可能会有异常，不影响使用")}},e.fn.restoreSelectionByElem=i?a:function(e,t){e&&(t=t||"end",this.setRangeByElem(e),"start"===t&&this.collapseRange(this.currentRange(),"start"),"end"===t&&this.collapseRange(this.currentRange(),"end"),this.restoreSelection())},e.fn.initSelection=i?a:function(){var e=this;if(!e.currentRange()){var t=e.txt.$txt.children().first();t.length&&e.restoreSelectionByElem(t.get(0))}},e.fn.setRangeByElem=i?a:function(e){var a=this,i=a.txt.$txt.get(0);if(e&&t.contains(i,e)){for(var n=e.firstChild;n&&3!==n.nodeType;)n=n.firstChild;for(var s=e.lastChild;s&&3!==s.nodeType;)s=s.lastChild;var o=document.createRange();n&&s?(o.setStart(n,0),o.setEnd(s,s.textContent.length)):(o.setStart(e,0),o.setEnd(e,0)),a.saveSelection(o)}}}),t(function(e,t){e.w3cRange||(e.fn.getRangeText=function(e){if(e=e||this.currentRange())return e.text},e.fn.getRangeElem=function(e){if(e=e||this.currentRange()){var t=e.parentElement();return 1===t.nodeType?t:t.parentNode}},e.fn.isRangeEmpty=function(e){return!(e=e||this.currentRange())||!e.text},e.fn.saveSelection=function(e){var a,i=this,n=i.txt.$txt.get(0);e?a=e.parentElement():(e=document.selection.createRange(),a=void 0===e.parentElement?null:e.parentElement()),a&&(t.contains(n,a)||n===a)&&i.currentRange(e)},e.fn.restoreSelection=function(e){var t,a=this;if(e=e||a.currentRange()){t=document.selection.createRange();try{t.setEndPoint("EndToEnd",e)}catch(e){}if(0===e.text.length)try{t.collapse(!1)}catch(e){}else t.setEndPoint("StartToStart",e);t.select()}})}),t(function(e,t){e.fn.commandHooks=function(){var e=this,a={};a.insertHtml=function(a){var i,n=t(a),s=e.getRangeElem();(i=e.getLegalTags(s))&&t(i).after(n)},e.commandHooks=a}}),t(function(e,t){e.fn.command=function(e,t,a,i){var n,s=this;this.customCommand(e,function(){t&&(s.queryCommandSupported(t)?document.execCommand(t,!1,a):(n=s.commandHooks,t in n&&n[t](a)))},i)},e.fn.commandForElem=function(e,t,a,i,n){var s,o;"string"==typeof e?s=e:(s=e.selector,o=e.check);var r=this.getRangeElem();(r=this.getSelfOrParentByName(r,s,o))&&this.setRangeByElem(r),this.command(t,a,i,n)},e.fn.customCommand=function(e,t,a){var i=this,n=i.currentRange();return n?(i.undoRecord(),this.restoreSelection(n),t.call(i),this.saveSelection(),this.restoreSelection(),a&&"function"==typeof a&&a.call(i),i.txt.insertEmptyP(),i.txt.wrapImgAndText(),i.updateValue(),i.updateMenuStyle(),setTimeout(function(){i.hideDropPanelAndModal()},200),void(e&&e.preventDefault())):void(e&&e.preventDefault())},e.fn.queryCommandValue=function(e){var t="";try{t=document.queryCommandValue(e)}catch(e){}return t},e.fn.queryCommandState=function(e){var t=!1;try{t=document.queryCommandState(e)}catch(e){}return t},e.fn.queryCommandSupported=function(e){var t=!1;try{t=document.queryCommandSupported(e)}catch(e){}return t}}),t(function(e,t){function a(e){var a=this,i=!1;return t(e).each(function(){if(this===a)return i=!0,!1}),i}var i;e.fn.getLegalTags=function(t){var a=this.config.legalTags;return a?this.getSelfOrParentByName(t,a):void e.error("配置项中缺少 legalTags 的配置")},e.fn.getSelfOrParentByName=function(e,n,s){if(e&&n){i||(i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector),i||(i=a);for(var o=this.txt.$txt.get(0);e&&o!==e&&t.contains(o,e);){if(i.call(e,n)){if(!s)return e;if(s(e))return e}e=e.parentNode}}}}),t(function(e,t){function a(e){return null==e._redoList&&(e._redoList=[]),e._redoList}function i(e){return null==e._undoList&&(e._undoList=[]),e._undoList}function n(e,t,a){var i=t.val,n=e.txt.$txt.html();if(null!=i){if(i===n)return"redo"===a?void e.redo():"undo"===a?void e.undo():void 0;e.txt.$txt.html(i),e.updateValue(),e.onchange&&"function"==typeof e.onchange&&e.onchange.call(e)}}e.fn.undoRecord=function(){var e=this,t=e.txt.$txt.html(),n=i(e),s=a(e);t!==(n.length?n[0]:"").val&&(s.length&&(s=[]),n.unshift({range:e.currentRange(),val:t}),n.length>20&&n.pop())},e.fn.undo=function(){var e=this,t=i(e),s=a(e);if(t.length){var o=t.shift();s.unshift(o),n(this,o,"undo")}},e.fn.redo=function(){var e=this,t=i(e),s=a(e);if(s.length){var o=s.shift();t.unshift(o),n(this,o,"redo")}}}),t(function(e,t){e.fn.create=function(){var a=this;e.$body&&0!==e.$body.length||(e.$body=t("body"),e.$document=t(document),e.$window=t(window)),a.addMenus(),a.renderMenus(),a.renderMenuContainer(),a.renderTxt(),a.renderEditorContainer(),a.eventMenus(),a.eventMenuContainer(),a.eventTxt(),a.readyHeadler(),a.initSelection(),a.$txt=a.txt.$txt;var i=e._plugins;i&&i.length&&t.each(i,function(e,t){t.call(a)})},e.fn.disable=function(){this.txt.$txt.removeAttr("contenteditable"),this.disableMenusExcept(),this._disabled=!0},e.fn.enable=function(){this._disabled=!1,this.txt.$txt.attr("contenteditable","true"),this.enableMenusExcept()},e.fn.destroy=function(){var e=this,t=e.$valueContainer,a=e.$editorContainer;"div"===e.valueNodeName?(t.removeAttr("contenteditable"),a.after(t),a.hide()):(t.show(),a.hide())},e.fn.undestroy=function(){var e=this,t=e.$valueContainer,a=e.$editorContainer,i=e.menuContainer.$menuContainer;"div"===e.valueNodeName?(t.attr("contenteditable","true"),i.after(t),a.show()):(t.hide(),a.show())},e.fn.clear=function(){var e=this,t=e.txt.$txt;t.html("<p><br></p>"),e.restoreSelectionByElem(t.find("p").get(0))}}),t(function(e,t){var a=function(e){this.editor=e,this.init()};a.fn=a.prototype,e.MenuContainer=a}),t(function(e,t){var a=e.MenuContainer;a.fn.init=function(){var e=this,a=t('<div class="wangEditor-menu-container clearfix"></div>');e.$menuContainer=a,e.changeShadow()},a.fn.changeShadow=function(){var e=this.$menuContainer,t=this.editor.txt.$txt;t.on("scroll",function(){t.scrollTop()>10?e.addClass("wangEditor-menu-shadow"):e.removeClass("wangEditor-menu-shadow")})}}),t(function(e,t){var a=e.MenuContainer;a.fn.render=function(){var e=this.$menuContainer;this.editor.$editorContainer.append(e)},a.fn.height=function(){return this.$menuContainer.height()},a.fn.appendMenu=function(e,t){return this._addGroup(e),this._addOneMenu(t)},a.fn._addGroup=function(e){var a,i=this.$menuContainer;this.$currentGroup&&this.currentGroupIdx===e||(a=t('<div class="menu-group clearfix"></div>'),i.append(a),this.$currentGroup=a,this.currentGroupIdx=e)},a.fn._addOneMenu=function(e){var a=e.$domNormal,i=e.$domSelected,n=this.$currentGroup,s=t('<div class="menu-item clearfix"></div>');return i.hide(),s.append(a).append(i),n.append(s),s}}),t(function(e,t){var a=function(e){this.editor=e.editor,this.id=e.id,this.title=e.title,this.$domNormal=e.$domNormal,this.$domSelected=e.$domSelected||e.$domNormal,this.commandName=e.commandName,this.commandValue=e.commandValue,this.commandNameSelected=e.commandNameSelected||e.commandName,this.commandValueSelected=e.commandValueSelected||e.commandValue};a.fn=a.prototype,e.Menu=a}),t(function(e,t){e.Menu.fn.initUI=function(){var a=this.editor.UI.menus,i=this.id,n=a[i];this.$domNormal&&this.$domSelected||(null==n&&(e.warn('editor.UI配置中，没有菜单 "'+i+'" 的UI配置，只能取默认值'),n=a.default),this.$domNormal=t(n.normal),/^\./.test(n.selected)?this.$domSelected=this.$domNormal.clone().addClass(n.selected.slice(1)):this.$domSelected=t(n.selected))}}),t(function(e,t){var a=e.Menu;a.fn.render=function(e){this.initUI();var t=this.editor.menuContainer.appendMenu(e,this),a=this.onRender;this._renderTip(t),a&&"function"==typeof a&&a.call(this)},a.fn._renderTip=function(a){function i(){d.show()}function n(){d.hide()}var s,o=this,r=o.editor,l=o.title,d=t('<div class="menu-tip"></div>');o.tipWidth||(s=t('<p style="opacity:0; filter:Alpha(opacity=0); position:absolute;top:-10000px;">'+l+"</p>"),e.$body.append(s),r.ready(function(){var e=s.outerWidth()+5,t=d.outerWidth(),a=parseFloat(d.css("margin-left"),10);s.remove(),s=null,d.css({width:e,"margin-left":a+(t-e)/2}),o.tipWidth=e})),d.append(l),a.append(d);var c;a.find("a").on("mouseenter",function(e){o.active()||o.disabled()||(c=setTimeout(i,200))}).on("mouseleave",function(e){c&&clearTimeout(c),n()}).on("click",n)},a.fn.bindEvent=function(){var t=this,a=t.$domNormal,i=t.$domSelected,n=t.clickEvent;n||(n=function(a){var i=t.dropPanel||t.dropList||t.modal;if(i&&i.show)i.isShowing?i.hide():i.show();else{var n,s,o=t.editor;t.selected?(n=t.commandNameSelected,s=t.commandValueSelected):(n=t.commandName,s=t.commandValue),n?o.command(a,n,s):(e.warn('菜单 "'+t.id+'" 未定义click事件'),a.preventDefault())}});var s=t.clickEventSelected||n;a.click(function(e){t.disabled()||(n.call(t,e),t.updateSelected()),e.preventDefault()}),i.click(function(e){t.disabled()||(s.call(t,e),t.updateSelected()),e.preventDefault()})},a.fn.updateSelected=function(){var e=this,t=(e.editor,e.updateSelectedEvent);t||(t=function(){var e=this,t=e.editor,a=e.commandName,i=e.commandValue;if(i){if(t.queryCommandValue(a).toLowerCase()===i.toLowerCase())return!0}else if(t.queryCommandState(a))return!0;return!1});var a=t.call(e);a=!!a,e.changeSelectedState(a)},a.fn.changeSelectedState=function(e){var t=this,a=t.selected;if(null!=e&&"boolean"==typeof e){if(a===e)return;t.selected=e,e?(t.$domNormal.hide(),t.$domSelected.show()):(t.$domNormal.show(),t.$domSelected.hide())}},a.fn.active=function(e){return null==e?this._activeState:void(this._activeState=e)},a.fn.activeStyle=function(e){var t=(this.selected,this.$domNormal),a=this.$domSelected;e?(t.addClass("active"),a.addClass("active")):(t.removeClass("active"),a.removeClass("active")),this.active(e)},a.fn.disabled=function(e){if(null==e)return!!this._disabled;if(this._disabled!==e){var t=this.$domNormal,a=this.$domSelected;e?(t.addClass("disable"),a.addClass("disable")):(t.removeClass("disable"),a.removeClass("disable")),this._disabled=e}}}),t(function(e,t){var a=function(e,t,a){this.editor=e,this.menu=t,this.data=a.data,this.tpl=a.tpl,this.selectorForELemCommand=a.selectorForELemCommand,this.beforeEvent=a.beforeEvent,this.afterEvent=a.afterEvent,this.init()};a.fn=a.prototype,e.DropList=a}),t(function(e,t){var a=e.DropList;a.fn.init=function(){var e=this;e.initDOM(),e.bindEvent(),e.initHideEvent()},a.fn.initDOM=function(){var e,a,i=this,n=i.data,s=i.tpl||"<span>{#title}</span>",o=t('<div class="wangEditor-drop-list clearfix"></div>');t.each(n,function(i,n){e=s.replace(/{#commandValue}/gi,i).replace(/{#title}/gi,n),(a=t('<a href="#" commandValue="'+i+'"></a>')).append(e),o.append(a)}),i.$list=o},a.fn.bindEvent=function(){var e=this,a=e.editor,i=e.menu,n=i.commandName,s=e.selectorForELemCommand,o=e.$list,r=e.beforeEvent,l=e.afterEvent;o.on("click","a[commandValue]",function(e){r&&"function"==typeof r&&r.call(e);var o=t(e.currentTarget).attr("commandValue");i.selected&&a.isRangeEmpty()&&s?a.commandForElem(s,e,n,o):a.command(e,n,o),l&&"function"==typeof l&&l.call(e)})},a.fn.initHideEvent=function(){var a=this,i=a.$list.get(0);e.$body.on("click",function(e){if(a.isShowing){var n,s=e.target,o=a.menu;(n=o.selected?o.$domSelected.get(0):o.$domNormal.get(0))===s||t.contains(n,s)||i===s||t.contains(i,s)||a.hide()}}),e.$window.scroll(function(){a.hide()}),e.$window.on("resize",function(){a.hide()})}}),t(function(e,t){var a=e.DropList;a.fn._render=function(){var e=this,t=e.editor,a=e.$list;t.$editorContainer.append(a),e.rendered=!0},a.fn._position=function(){var e=this,t=e.$list,a=e.editor,i=e.menu,n=a.menuContainer.$menuContainer,s=i.selected?i.$domSelected:i.$domNormal,o=s.offsetParent().position(),r=o.top,l=o.left,d=s.offsetParent().height(),c=s.offsetParent().width(),p=r+d,u=l+c/2,f=0-c/2,h=u+t.outerWidth()-a.txt.$txt.outerWidth();h>-10&&(f=f-h-10),t.css({top:p,left:u,"margin-left":f}),a._isMenufixed&&(p+=n.offset().top+n.outerHeight()-t.offset().top,t.css({top:p}))},a.fn.show=function(){var e=this,t=e.menu;e.rendered||e._render(),e.isShowing||(e.$list.show(),e._position(),e.isShowing=!0,t.activeStyle(!0))},a.fn.hide=function(){var e=this,t=e.menu;e.isShowing&&(e.$list.hide(),e.isShowing=!1,t.activeStyle(!1))}}),t(function(e,t){var a=function(e,t,a){this.editor=e,this.menu=t,this.$content=a.$content,this.width=a.width||200,this.height=a.height,this.onRender=a.onRender,this.init()};a.fn=a.prototype,e.DropPanel=a}),t(function(e,t){var a=e.DropPanel;a.fn.init=function(){var e=this;e.initDOM(),e.initHideEvent()},a.fn.initDOM=function(){var e=this,a=e.$content,i=e.width,n=e.height,s=t('<div class="wangEditor-drop-panel clearfix"></div>'),o=t('<div class="tip-triangle"></div>');s.css({width:i,height:n||"auto"}),s.append(o),s.append(a),e.$panel=s,e.$triangle=o},a.fn.initHideEvent=function(){var a=this,i=a.$panel.get(0);e.$body.on("click",function(e){if(a.isShowing){var n,s=e.target,o=a.menu;(n=o.selected?o.$domSelected.get(0):o.$domNormal.get(0))===s||t.contains(n,s)||i===s||t.contains(i,s)||a.hide()}}),e.$window.scroll(function(e){a.hide()}),e.$window.on("resize",function(){a.hide()})}}),t(function(e,t){var a=e.DropPanel;a.fn._render=function(){var e=this,t=e.onRender,a=e.editor,i=e.$panel;a.$editorContainer.append(i),t&&t.call(e),e.rendered=!0},a.fn._position=function(){var e=this,t=e.$panel,a=e.$triangle,i=e.editor,n=i.menuContainer.$menuContainer,s=e.menu,o=s.selected?s.$domSelected:s.$domNormal,r=o.offsetParent().position(),l=r.top,d=r.left,c=o.offsetParent().height(),p=o.offsetParent().width(),u=t.outerWidth(),f=i.txt.$txt.outerWidth(),h=l+c,g=d+p/2,m=0-u/2,v=m;0-m>g-10&&(m=0-(g-10));var $=g+u+m-f;$>-10&&(m=m-$-10),t.css({top:h,left:g,"margin-left":m}),i._isMenufixed&&(h+=n.offset().top+n.outerHeight()-t.offset().top,t.css({top:h})),a.css({"margin-left":v-m-5})},a.fn.focusFirstInput=function(){this.$panel.find("input[type=text],textarea").each(function(){var e=t(this);if(null==e.attr("disabled"))return e.focus(),!1})},a.fn.show=function(){var t=this,a=t.menu;if(t.rendered||t._render(),!t.isShowing){var i=t.$panel;i.show(),t._position(),t.isShowing=!0,a.activeStyle(!0),e.w3cRange?t.focusFirstInput():e.placeholderForIE8(i)}},a.fn.hide=function(){var e=this,t=e.menu;e.isShowing&&(e.$panel.hide(),e.isShowing=!1,t.activeStyle(!1))}}),t(function(e,t){var a=function(e,t,a){this.editor=e,this.menu=t,this.$content=a.$content,this.init()};a.fn=a.prototype,e.Modal=a}),t(function(e,t){var a=e.Modal;a.fn.init=function(){var e=this;e.initDom(),e.initHideEvent()},a.fn.initDom=function(){var e=this,a=e.$content,i=t('<div class="wangEditor-modal"></div>'),n=t('<div class="wangEditor-modal-close"><i class="wangeditor-menu-img-cancel-circle"></i></div>');i.append(n),i.append(a),e.$modal=i,e.$close=n},a.fn.initHideEvent=function(){var a=this,i=a.$close,n=a.$modal.get(0);i.click(function(){a.hide()}),e.$body.on("click",function(e){if(a.isShowing){var i,s=e.target,o=a.menu;o&&((i=o.selected?o.$domSelected.get(0):o.$domNormal.get(0))===s||t.contains(i,s))||n===s||t.contains(n,s)||a.hide()}})}}),t(function(e,t){var a=e.Modal;a.fn._render=function(){var t=this,a=t.editor,i=t.$modal;i.css("z-index",a.config.zindex+10+""),e.$body.append(i),t.rendered=!0},a.fn._position=function(){var t=this.$modal,a=t.offset().top,i=t.outerWidth(),n=t.outerHeight(),s=0-i/2,o=0-n/2,r=e.$window.scrollTop();n/2>a&&(o=0-a),t.css({"margin-left":s+"px","margin-top":o+r+"px"})},a.fn.show=function(){var e=this,t=e.menu;e.rendered||e._render(),e.isShowing||(e.isShowing=!0,e.$modal.show(),e._position(),t&&t.activeStyle(!0))},a.fn.hide=function(){var e=this,t=e.menu;e.isShowing&&(e.isShowing=!1,e.$modal.hide(),t&&t.activeStyle(!1))}}),t(function(e,t){var a=function(e){this.editor=e,this.init()};a.fn=a.prototype,e.Txt=a}),t(function(e,t){var a=e.Txt;a.fn.init=function(){var e,a=this,i=a.editor,n=i.$valueContainer,s=i.getInitValue();"DIV"===n.get(0).nodeName?((e=n).addClass("wangEditor-txt"),e.attr("contentEditable","true")):e=t('<div class="wangEditor-txt" contentEditable="true">'+s+"</div>"),i.ready(function(){a.insertEmptyP()}),a.$txt=e,a.contentEmptyHandle(),a.bindEnterForDiv(),a.bindEnterForText(),a.bindTabEvent(),a.bindPasteFilter(),a.bindFormatText(),a.bindHtml()},a.fn.contentEmptyHandle=function(){var e,a=this,i=a.editor,n=a.$txt;n.on("keydown",function(e){if(8===e.keyCode)return"<p><br></p>"===t.trim(n.html().toLowerCase())?void e.preventDefault():void 0}),n.on("keyup",function(a){if(8===a.keyCode){var s=t.trim(n.html().toLowerCase());s&&"<br>"!==s||(e=t("<p><br/></p>"),n.html(""),n.append(e),i.restoreSelectionByElem(e.get(0)))}})},a.fn.bindEnterForDiv=function(){function a(){if(i){var e=t("<p>"+i.html()+"</p>");i.after(e),i.remove()}}var i,n=(e.config.legalTags,this),s=n.editor;n.$txt.on("keydown keyup",function(e){if(13===e.keyCode){var n,o,r=s.getRangeElem(),l=s.getLegalTags(r);if(!l){if(!(l=s.getSelfOrParentByName(r,"div")))return;n=t(l),"keydown"===e.type&&(i=n,setTimeout(a,0)),"keyup"===e.type&&(o=t("<p>"+n.html()+"</p>"),n.after(o),n.remove(),s.restoreSelectionByElem(o.get(0),"start"))}}})},a.fn.bindEnterForText=function(){var e,t=this;t.$txt.on("keyup",function(a){13===a.keyCode&&(e||(e=function(){t.wrapImgAndText()}),setTimeout(e))})},a.fn.bindTabEvent=function(){var e=this,t=e.editor;e.$txt.on("keydown",function(e){9===e.keyCode&&t.queryCommandSupported("insertHtml")&&t.command(e,"insertHtml","&nbsp;&nbsp;&nbsp;&nbsp;")})},a.fn.bindPasteFilter=function(){function e(n){if(n&&n.nodeType&&n.nodeName){var s,r,d=n.nodeName.toLowerCase(),c=n.nodeType;if(3===c||1===c){if(s=t(n),"div"===d)return r=[],t.each(n.childNodes,function(e,t){r.push(t)}),void t.each(r,function(){e(this)});if(l.indexOf(d)>=0)o+=a(n);else if(3===c)o+="<p>"+n.textContent+"</p>";else if("br"===d)o+="<br/>";else{if(["meta","style","script","object","form","iframe","hr"].indexOf(d)>=0)return;s=t(i(n)),o+=t("<div>").append(s.clone()).html()}}}}function a(e){var a,n=e.nodeName.toLowerCase(),s="",o="";return["blockquote"].indexOf(n)>=0?(a=t(e),"<"+n+">"+a.text()+"</"+n+">"):["p","h1","h2","h3","h4","h5"].indexOf(n)>=0?(e=i(e),a=t(e),s=a.html(),s=s.replace(/<.*?>/gi,function(e){return"</a>"===e||0===e.indexOf("<a ")||0===e.indexOf("<img ")?e:""}),"<"+n+">"+s+"</"+n+">"):["ul","ol"].indexOf(n)>=0?((a=t(e)).children().each(function(){var e=t(i(this)).html();e=e.replace(/<.*?>/gi,function(e){return"</a>"===e||0===e.indexOf("<a ")||0===e.indexOf("<img ")?e:""}),o+="<li>"+e+"</li>"}),"<"+n+">"+o+"</"+n+">"):(a=t(i(e)),t("<div>").append(a).html())}function i(e){var a=e.attributes||[],n=[],s=["href","target","src","alt","rowspan","colspan"];t.each(a,function(e,t){t&&2===t.nodeType&&n.push(t.nodeName)}),t.each(n,function(t,a){s.indexOf(a)<0&&e.removeAttribute(a)});var o=e.childNodes;return o.length&&t.each(o,function(e,t){i(t)}),e}var n=this,s=n.editor,o="",r=n.$txt,l=s.config.legalTags.split(",");r.on("paste",function(a){if(s.config.pasteFilter){var i=s.getRangeElem().nodeName;if("TD"!==i&&"TH"!==i){o="";var r,l,d=a.clipboardData||a.originalEvent.clipboardData,c=window.clipboardData;if(s.config.pasteText){if(d&&d.getData)r=d.getData("text/plain");else{if(!c||!c.getData)return;r=c.getData("text")}r&&(o="<p>"+r+"</p>")}else if(d&&d.getData)(r=d.getData("text/html"))?(l=t("<div>"+r+"</div>"),e(l.get(0))):(r=d.getData("text/plain"))&&(r=r.replace(/[ ]/g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>"),o="<p>"+r+"</p>",o=o.replace(/<p>(https?:\/\/.*?)<\/p>/gi,function(e,t){return'<p><a href="'+t+'" target="_blank">'+t+"</p>"}));else{if(!c||!c.getData)return;if(!(o=c.getData("text")))return;o=(o="<p>"+o+"</p>").replace(new RegExp("\n","g"),"</p><p>")}o&&(s.command(a,"insertHtml",o),n.clearEmptyOrNestP())}}})},a.fn.bindFormatText=function(){var a=this,i=(a.editor,a.$txt),n=e.config.legalTags.split(","),s=(n.length,[]);t.each(n,function(e,t){var a=">\\s*<("+t+")>";s.push(new RegExp(a,"ig"))}),s.push(new RegExp(">\\s*<(li)>","ig")),s.push(new RegExp(">\\s*<(tr)>","ig")),s.push(new RegExp(">\\s*<(code)>","ig")),i.formatText=function(){var e=t("<div>"),a=i.html();return a=a.replace(/\s*</gi,"<"),t.each(s,function(e,t){t.test(a)&&(a=a.replace(t,function(e,t){return">\n<"+t+">"}))}),e.html(a),e.text()}},a.fn.bindHtml=function(){var e=this,a=e.editor,i=e.$txt,n=a.$valueContainer,s=a.valueNodeName;i.html=function(e){var a;return"div"===s&&(a=t.fn.html.call(i,e)),void 0===e?(a=t.fn.html.call(i),a=a.replace(/(href|src)\=\"(.*)\"/gim,function(e,t,a){return t+'="'+a.replace("&amp;","&")+'"'})):(a=t.fn.html.call(i,e),n.val(e)),void 0===e?a:void i.change()}}}),t(function(e,t){var a=e.Txt,i="propertychange change click keyup input paste";a.fn.render=function(){var e=this.$txt;this.editor.$editorContainer.append(e)},a.fn.initHeight=function(){var e=this.editor,t=this.$txt,a=e.$valueContainer.height(),i=e.menuContainer.height(),n=a-i;n=n<50?50:n,t.height(n),e.valueContainerHeight=a,this.initMaxHeight(n,i)},a.fn.initMaxHeight=function(a,i){var n=this.editor,s=n.menuContainer.$menuContainer,o=this.$txt,r=t("<div>");if(window.getComputedStyle&&"max-height"in window.getComputedStyle(o.get(0))){var l=parseInt(n.$valueContainer.css("max-height"));if(isNaN(l))return;if(n.menus.fullscreen)return void e.warn("max-height和『全屏』菜单一起使用时，会有一些问题尚未解决，请暂时不要两个同时使用");n.useMaxHeight=!0,r.css({"max-height":l-i+"px","overflow-y":"auto"}),o.css({height:"auto","overflow-y":"visible","min-height":a+"px"}),r.on("scroll",function(){o.parent().scrollTop()>10?s.addClass("wangEditor-menu-shadow"):s.removeClass("wangEditor-menu-shadow")}),o.wrap(r)}},a.fn.saveSelectionEvent=function(){function e(){o.saveSelection()}function t(){Date.now()-r<100||(r=Date.now(),e())}function a(){n&&clearTimeout(n),n=setTimeout(e,300)}var n,s=this.$txt,o=this.editor,r=Date.now();s.on(i+" focus blur",function(e){t(),a()}),s.on("mousedown",function(){s.on("mouseleave.saveSelection",function(e){t(),a(),o.updateMenuStyle()})}).on("mouseup",function(){s.off("mouseleave.saveSelection")})},a.fn.updateValueEvent=function(){function e(){var e=n.html();a!==e&&(s.onchange&&"function"==typeof s.onchange&&s.onchange.call(s),s.updateValue(),a=e)}var t,a,n=this.$txt,s=this.editor;n.on(i,function(i){null==a&&(a=n.html()),t&&clearTimeout(t),t=setTimeout(e,100)})},a.fn.updateMenuStyleEvent=function(){var e=this.$txt,t=this.editor;e.on(i,function(e){t.updateMenuStyle()})},a.fn.insertEmptyP=function(){var e=this.$txt,a=e.children();return 0===a.length?void e.append(t("<p><br></p>")):void("<br>"!==t.trim(a.last().html()).toLowerCase()&&e.append(t("<p><br></p>")))},a.fn.wrapImgAndText=function(){var e,a,i=this.$txt,n=i.children("img"),s=i[0].childNodes,o=s.length;for(n.length&&n.each(function(){t(this).wrap("<p>")}),e=0;e<o;e++)3===(a=s[e]).nodeType&&a.textContent&&t.trim(a.textContent)&&t(a).wrap("<p>")},a.fn.clearEmptyOrNestP=function(){this.$txt.find("p").each(function(){var e,a=t(this),i=a.children(),n=i.length;return t.trim(a.html())?void(1===n&&(e=i.first()).get(0)&&"P"===e.get(0).nodeName&&a.html(e.html())):void a.remove()})},a.fn.scrollTop=function(e){var t=this,a=t.editor,i=t.$txt;return a.useMaxHeight?i.parent().scrollTop(e):i.scrollTop(e)},a.fn.showHeightOnHover=function(){function e(e){l||(n.append(r),l=!0);var t=(o.position().top,o.outerHeight(),e.height()),a=e.position().top,i=parseInt(e.css("margin-top"),10),d=parseInt(e.css("padding-top"),10),c=parseInt(e.css("margin-bottom"),10),p=parseInt(e.css("padding-bottom"),10);s.height(),r.css({height:t+d+i+p+c,top:a+s.height()})}function a(){l&&(r.remove(),l=!1)}var i=this.editor,n=i.$editorContainer,s=i.menuContainer,o=this.$txt,r=t('<i class="height-tip"><i>'),l=!1;o.on("mouseenter","ul,ol,blockquote,p,h1,h2,h3,h4,h5,table,pre",function(a){e(t(a.currentTarget))}).on("mouseleave",function(){a()})}}),t(function(e,t){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0,a=this.length;t<a;t++)if(this[t]===e)return t;return-1},Array.prototype.lastIndexOf=function(e){var t=this.length;for(t-=1;t>=0;t--)if(this[t]===e)return t;return-1}),Date.now||(Date.now=function(){return(new Date).valueOf()});var a=window.console,i=function(){};t.each(["info","log","warn","error"],function(t,n){e[n]=null==a?i:function(t){e.config&&e.config.printLog&&a[n]("wangEditor提示: "+t)}}),e.random=function(){return Math.random().toString().slice(2)},e.placeholder="placeholder"in document.createElement("input"),e.placeholderForIE8=function(a){e.placeholder||a.find("input[placeholder]").each(function(){var e=t(this),a=e.attr("placeholder");""===e.val()&&(e.css("color","#666"),e.val(a),e.on("focus.placeholder click.placeholder",function(){e.val(""),e.css("color","#333"),e.off("focus.placeholder click.placeholder")}))})}}),t(function(e,t){e.langs={},e.langs["zh-cn"]={bold:"粗体",underline:"下划线",italic:"斜体",forecolor:"文字颜色",bgcolor:"背景色",strikethrough:"删除线",eraser:"清空格式",source:"源码",quote:"引用",fontfamily:"字体",fontsize:"字号",head:"标题",orderlist:"有序列表",unorderlist:"无序列表",alignleft:"左对齐",aligncenter:"居中",alignright:"右对齐",link:"链接",text:"文本",submit:"提交",cancel:"取消",unlink:"取消链接",table:"表格",emotion:"表情",img:"图片",video:"视频",width:"宽",height:"高",location:"位置",loading:"加载中",searchlocation:"搜索位置",dynamicMap:"动态地图",clearLocation:"清除位置",langDynamicOneLocation:"动态地图只能显示一个位置",insertcode:"插入代码",undo:"撤销",redo:"重复",fullscreen:"全屏",openLink:"打开链接"},e.langs.en={bold:"Bold",underline:"Underline",italic:"Italic",forecolor:"Color",bgcolor:"Backcolor",strikethrough:"Strikethrough",eraser:"Eraser",source:"Codeview",quote:"Quote",fontfamily:"Font family",fontsize:"Font size",head:"Head",orderlist:"Ordered list",unorderlist:"Unordered list",alignleft:"Align left",aligncenter:"Align center",alignright:"Align right",link:"Insert link",text:"Text",submit:"Submit",cancel:"Cancel",unlink:"Unlink",table:"Table",emotion:"Emotions",img:"Image",video:"Video",width:"width",height:"height",location:"Location",loading:"Loading",searchlocation:"search",dynamicMap:"Dynamic",clearLocation:"Clear",langDynamicOneLocation:"Only one location in dynamic map",insertcode:"Insert Code",undo:"Undo",redo:"Redo",fullscreen:"Full screnn",openLink:"open link"}}),t(function(e,t){e.config={},e.config.zindex=1e4,e.config.printLog=!0,e.config.menuFixed=0,e.config.jsFilter=!0,e.config.legalTags="p,h1,h2,h3,h4,h5,h6,blockquote,table,ul,ol,pre",e.config.lang=e.langs["zh-cn"],e.config.menus=["source","|","bold","underline","italic","strikethrough","eraser","forecolor","bgcolor","|","quote","fontfamily","fontsize","head","unorderlist","orderlist","alignleft","aligncenter","alignright","|","link","unlink","table","emotion","|","img","video","location","insertcode","|","undo","redo","fullscreen"],e.config.colors={"#880000":"暗红色","#800080":"紫色","#ff0000":"红色","#ff00ff":"鲜粉色","#000080":"深蓝色","#0000ff":"蓝色","#00ffff":"湖蓝色","#008080":"蓝绿色","#008000":"绿色","#808000":"橄榄色","#00ff00":"浅绿色","#ffcc00":"橙黄色","#808080":"灰色","#c0c0c0":"银色","#000000":"黑色","#ffffff":"白色"},e.config.familys=["宋体","黑体","楷体","微软雅黑","Arial","Verdana","Georgia","Times New Roman","Microsoft JhengHei","Trebuchet MS","Courier New","Impact","Comic Sans MS","Consolas"],e.config.fontsizes={1:"12px",2:"13px",3:"16px",4:"18px",5:"24px",6:"32px",7:"48px"},e.config.emotionsShow="icon",e.config.emotions={weibo:{title:"微博表情",data:[{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",value:"[草泥马]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/60/horse2_thumb.gif",value:"[神马]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/fuyun_thumb.gif",value:"[浮云]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c9/geili_thumb.gif",value:"[给力]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/f2/wg_thumb.gif",value:"[围观]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/70/vw_thumb.gif",value:"[威武]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/6e/panda_thumb.gif",value:"[熊猫]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/81/rabbit_thumb.gif",value:"[兔子]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/bc/otm_thumb.gif",value:"[奥特曼]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/15/j_thumb.gif",value:"[囧]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/89/hufen_thumb.gif",value:"[互粉]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/c4/liwu_thumb.gif",value:"[礼物]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/ac/smilea_thumb.gif",value:"[呵呵]"},{icon:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/0b/tootha_thumb.gif",value:"[哈哈]"}]}},e.config.mapAk="TVhjYjq1ICT2qqL5LdS8mwas",e.config.uploadImgUrl="",e.config.uploadTimeout=2e4,e.config.uploadImgFns={},e.config.customUpload=!1,e.config.uploadParams={},e.config.uploadHeaders={},e.config.hideLinkImg=!1,e.config.pasteFilter=!0,e.config.pasteText=!1,e.config.codeDefaultLang="javascript"}),t(function(e,t){e.UI={},e.UI.menus={default:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-command"></i></a>',selected:".selected"},bold:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-bold"></i></a>',selected:".selected"},underline:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-underline"></i></a>',selected:".selected"},italic:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-italic"></i></a>',selected:".selected"},forecolor:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-pencil"></i></a>',selected:".selected"},bgcolor:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-brush"></i></a>',selected:".selected"},strikethrough:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-strikethrough"></i></a>',selected:".selected"},eraser:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-eraser"></i></a>',selected:".selected"},quote:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-quotes-left"></i></a>',selected:".selected"},source:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-code"></i></a>',selected:".selected"},fontfamily:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-font2"></i></a>',selected:".selected"},fontsize:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-text-height"></i></a>',selected:".selected"},head:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-header"></i></a>',selected:".selected"},orderlist:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-list-numbered"></i></a>',selected:".selected"},unorderlist:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-list-bullet"></i></a>',selected:".selected"},alignleft:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-left"></i></a>',selected:".selected"},aligncenter:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-center"></i></a>',selected:".selected"},alignright:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-align-right"></i></a>',selected:".selected"},link:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-link"></i></a>',selected:".selected"},unlink:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-unlink"></i></a>',selected:".selected"},table:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-table"></i></a>',selected:".selected"},emotion:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-happy"></i></a>',selected:".selected"},img:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-picture"></i></a>',selected:".selected"},video:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-play"></i></a>',selected:".selected"},location:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-location"></i></a>',selected:".selected"},insertcode:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-terminal"></i></a>',selected:".selected"},undo:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-ccw"></i></a>',selected:".selected"},redo:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-cw"></i></a>',selected:".selected"},fullscreen:{normal:'<a href="#" tabindex="-1"><i class="wangeditor-menu-img-enlarge2"></i></a>',selected:'<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-shrink2"></i></a>'}}}),t(function(e,t){e.fn.initDefaultConfig=function(){var a=this;a.config=t.extend({},e.config),a.UI=t.extend({},e.UI)}}),t(function(e,t){e.fn.addEditorContainer=function(){this.$editorContainer=t('<div class="wangEditor-container"></div>')}}),t(function(e,t){e.fn.addTxt=function(){var t=this,a=new e.Txt(t);t.txt=a}}),t(function(e,t){e.fn.addMenuContainer=function(){var t=this;t.menuContainer=new e.MenuContainer(t)}}),t(function(e,t){e.createMenuFns=[],e.createMenu=function(t){e.createMenuFns.push(t)},e.fn.addMenus=function(){function a(e){return n.indexOf(e)>=0}var i=this,n=i.config.menus;t.each(e.createMenuFns,function(e,t){t.call(i,a)})}}),t(function(e,t){e.createMenu(function(t){var a="bold";if(t(a)){var i=this,n=i.config.lang,s=new e.Menu({editor:i,id:a,title:n.bold,commandName:"Bold"});s.clickEventSelected=function(e){i.isRangeEmpty()?i.commandForElem("b,strong,h1,h2,h3,h4,h5",e,"Bold"):i.command(e,"Bold")},i.menus[a]=s}})}),t(function(e,t){e.createMenu(function(t){var a="underline";if(t(a)){var i=this,n=i.config.lang,s=new e.Menu({editor:i,id:a,title:n.underline,commandName:"Underline"});s.clickEventSelected=function(e){i.isRangeEmpty()?i.commandForElem("u,a",e,"Underline"):i.command(e,"Underline")},i.menus[a]=s}})}),t(function(e,t){e.createMenu(function(t){var a="italic";if(t(a)){var i=this,n=i.config.lang,s=new e.Menu({editor:i,id:a,title:n.italic,commandName:"Italic"});s.clickEventSelected=function(e){i.isRangeEmpty()?i.commandForElem("i",e,"Italic"):i.command(e,"Italic")},i.menus[a]=s}})}),t(function(e,t){e.createMenu(function(a){var i="forecolor";if(a(i)){var n=this,s=n.config.lang,o=n.config.colors,r=new e.Menu({editor:n,id:i,title:s.forecolor}),l=t("<div></div>");t.each(o,function(e,t){l.append(['<a href="#" class="color-item"','    title="'+t+'" commandValue="'+e+'" ','    style="color: '+e+'" ','><i class="wangeditor-menu-img-pencil"></i></a>'].join(""))}),l.on("click","a[commandValue]",function(e){var a=t(this).attr("commandValue");r.selected&&n.isRangeEmpty()?n.commandForElem("font[color]",e,"forecolor",a):n.command(e,"forecolor",a)}),r.dropPanel=new e.DropPanel(n,r,{$content:l,width:125}),r.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"font[color]"))},n.menus[i]=r}})}),t(function(e,t){e.createMenu(function(a){function i(e){var t;return!!(e&&e.style&&null!=e.style.cssText&&(t=e.style.cssText)&&t.indexOf("background-color:")>=0)}var n="bgcolor";if(a(n)){var s=this,o=s.config.lang,r=s.config.colors,l=new e.Menu({editor:s,id:n,title:o.bgcolor}),d=t("<div></div>");t.each(r,function(e,t){d.append(['<a href="#" class="color-item"','    title="'+t+'" commandValue="'+e+'" ','    style="color: '+e+'" ','><i class="wangeditor-menu-img-brush"></i></a>'].join(""))}),d.on("click","a[commandValue]",function(e){var a=t(this).attr("commandValue");l.selected&&s.isRangeEmpty()?s.commandForElem({selector:"span,font",check:i},e,"BackColor",a):s.command(e,"BackColor",a)}),l.dropPanel=new e.DropPanel(s,l,{$content:d,width:125}),l.updateSelectedEvent=function(){var e=s.getRangeElem();return!!(e=s.getSelfOrParentByName(e,"span,font",i))},s.menus[n]=l}})}),t(function(e,t){e.createMenu(function(t){var a="strikethrough";if(t(a)){var i=this,n=i.config.lang,s=new e.Menu({editor:i,id:a,title:n.strikethrough,commandName:"StrikeThrough"});s.clickEventSelected=function(e){i.isRangeEmpty()?i.commandForElem("strike",e,"StrikeThrough"):i.command(e,"StrikeThrough")},i.menus[a]=s}})}),t(function(e,t){e.createMenu(function(a){var i="eraser";if(a(i)){var n=this,s=n.config.lang,o=new e.Menu({editor:n,id:i,title:s.eraser,commandName:"RemoveFormat"});o.clickEvent=function(e){if(n.isRangeEmpty()){var a;n.customCommand(e,function(){var e,i,n,s,o,r,l,d=this;e=d.getRangeElem(),(s=d.getSelfOrParentByName(e,"blockquote"))&&(o=t(s),a=t("<p>"+o.text()+"</p>"),o.after(a).remove()),(i=d.getSelfOrParentByName(e,"p,h1,h2,h3,h4,h5"))&&(n=t(i),a=t("<p>"+n.text()+"</p>"),n.after(a).remove()),(r=d.getSelfOrParentByName(e,"ul,ol"))&&(l=t(r),a=t("<p>"+l.text()+"</p>"),l.after(a).remove())},function(){var e=this;a&&e.restoreSelectionByElem(a.get(0))})}else n.command(e,"RemoveFormat")},n.menus[i]=o}})}),t(function(e,t){e.createMenu(function(a){function i(){var e=l.$codeTextarea,a=o.txt.$txt,i=t.trim(e.val());i||(i="<p><br></p>"),o.config.jsFilter&&(i=i.replace(/<script[\s\S]*?<\/script>/gi,""));try{a.html(i)}catch(e){}}var n="source";if(a(n)){var s,o=this,r=o.config.lang,l=new e.Menu({editor:o,id:n,title:r.source});l.isShowCode=!1,l.clickEvent=function(e){var a=this,n=a.editor,o=n.txt.$txt,r=o.outerHeight(),d=o.height();a.$codeTextarea||(a.$codeTextarea=t('<textarea class="code-textarea"></textarea>'));var c=a.$codeTextarea;c.css({height:d,"margin-top":r-d}),c.val(o.html()),c.on("change",function(e){i()}),o.after(c).hide(),c.show(),l.isShowCode=!0,this.updateSelected(),n.disableMenusExcept("source"),s=o.html()},l.clickEventSelected=function(e){var t=this,a=t.editor,n=a.txt.$txt,o=t.$codeTextarea;o&&(i(),o.after(n).hide(),n.show(),l.isShowCode=!1,this.updateSelected(),a.enableMenusExcept("source"),n.html()!==s&&a.onchange&&"function"==typeof a.onchange&&a.onchange.call(a))},l.updateSelectedEvent=function(){return this.isShowCode},o.menus[n]=l}})}),t(function(e,t){e.createMenu(function(a){var i="quote";if(a(i)){var n=this,s=n.config.lang,o=new e.Menu({editor:n,id:i,title:s.quote,commandName:"formatBlock",commandValue:"blockquote"});o.clickEvent=function(e){var a,i=n.getRangeElem();{if(i){var s;return n.getSelfOrParentByName(i,"blockquote")?void e.preventDefault():(i=n.getLegalTags(i),(a=t(i)).text()?i?void n.customCommand(e,function(){s=t("<p>"+a.text()+"</p>"),a.after(s).remove(),s.wrap("<blockquote>")},function(){var e=this;s&&e.restoreSelectionByElem(s.get(0))}):void n.command(e,"formatBlock","blockquote"):void 0)}e.preventDefault()}},o.clickEventSelected=function(e){var a,i,s;return a=n.getRangeElem(),(i=n.getSelfOrParentByName(a,"blockquote"))?void n.customCommand(e,function(){var e,a;if(e=t(i),(a=e.children()).length)return a.each(function(a){var i=t(this);"P"===i.get(0).nodeName?e.after(i):e.after("<p>"+i.text()+"</p>"),s=i}),void e.remove()},function(){var e=this;s&&e.restoreSelectionByElem(s.get(0))}):void e.preventDefault()},o.updateSelectedEvent=function(){var e,t=this.editor;return e=t.getRangeElem(),!!(e=t.getSelfOrParentByName(e,"blockquote"))},n.menus[i]=o,n.ready(function(){var e=this,a=!1;e.txt.$txt.on("keydown",function(i){if(13===i.keyCode){var n=e.getRangeElem();if(n=e.getSelfOrParentByName(n,"blockquote"))if(a){var s=e.getRangeElem(),o=t(s);o.length&&o.parent().after(o),e.restoreSelectionByElem(s,"start"),a=!1,i.preventDefault()}else a=!0;else a=!1}else a=!1})}),n.ready(function(){function e(){i&&i.remove()}function a(){if(i){var e=i.prev();e.length?n.restoreSelectionByElem(e.get(0)):n.initSelection()}}var i,n=this;n.txt.$txt.on("keydown",function(s){if(8===s.keyCode){var o=n.getRangeElem();(o=n.getSelfOrParentByName(o,"blockquote"))&&((i=t(o)).text()||n.customCommand(s,e,a))}})})}})}),t(function(e,t){e.createMenu(function(a){var i="fontfamily";if(a(i)){var n=this,s=n.config.lang,o=n.config.familys,r=new e.Menu({editor:n,id:i,title:s.fontfamily,commandName:"fontName"}),l={};t.each(o,function(e,t){l[t]=t});r.dropList=new e.DropList(n,r,{data:l,tpl:'<span style="font-family:{#commandValue};">{#title}</span>',selectorForELemCommand:"font[face]"}),r.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"font[face]"))},n.menus[i]=r}})}),t(function(e,t){e.createMenu(function(t){var a="fontsize";if(t(a)){var i=this,n=i.config.lang,s=i.config.fontsizes,o=new e.Menu({editor:i,id:a,title:n.fontsize,commandName:"fontSize"}),r=s;o.dropList=new e.DropList(i,o,{data:r,tpl:'<span style="font-size:{#title};">{#title}</span>',selectorForELemCommand:"font[size]"}),o.updateSelectedEvent=function(){var e=i.getRangeElem();return!!(e=i.getSelfOrParentByName(e,"font[size]"))},i.menus[a]=o}})}),t(function(e,t){e.createMenu(function(t){var a="head";if(t(a)){var i,n=this,s=n.config.lang,o=new e.Menu({editor:n,id:a,title:s.head,commandName:"formatBlock"}),r={"<h1>":"标题1","<h2>":"标题2","<h3>":"标题3","<h4>":"标题4","<h5>":"标题5"};o.dropList=new e.DropList(n,o,{data:r,tpl:"{#commandValue}{#title}",beforeEvent:function(e){n.queryCommandState("InsertOrderedList")?(i=!0,n.command(e,"InsertOrderedList")):i=!1},afterEvent:function(e){i&&n.command(e,"InsertOrderedList")}}),o.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"h1,h2,h3,h4,h5"))},n.menus[a]=o}})}),t(function(e,t){e.createMenu(function(t){var a="unorderlist";if(t(a)){var i=this,n=i.config.lang,s=new e.Menu({editor:i,id:a,title:n.unorderlist,commandName:"InsertUnorderedList"});i.menus[a]=s}})}),t(function(e,t){e.createMenu(function(t){var a="orderlist";if(t(a)){var i=this,n=i.config.lang,s=new e.Menu({editor:i,id:a,title:n.orderlist,commandName:"InsertOrderedList"});i.menus[a]=s}})}),t(function(e,t){e.createMenu(function(a){var i="alignleft";if(a(i)){var n=this,s=n.config.lang,o=new e.Menu({editor:n,id:i,title:s.alignleft,commandName:"JustifyLeft"});o.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"p,h1,h2,h3,h4,h5,li",function(e){var a;return!!(e&&e.style&&null!=e.style.cssText&&(a=e.style.cssText)&&/text-align:\s*left;/.test(a))||"left"===t(e).attr("align")}))},n.menus[i]=o}})}),t(function(e,t){e.createMenu(function(a){var i="aligncenter";if(a(i)){var n=this,s=n.config.lang,o=new e.Menu({editor:n,id:i,title:s.aligncenter,commandName:"JustifyCenter"});o.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"p,h1,h2,h3,h4,h5,li",function(e){var a;return!!(e&&e.style&&null!=e.style.cssText&&(a=e.style.cssText)&&/text-align:\s*center;/.test(a))||"center"===t(e).attr("align")}))},n.menus[i]=o}})}),t(function(e,t){e.createMenu(function(a){var i="alignright";if(a(i)){var n=this,s=n.config.lang,o=new e.Menu({editor:n,id:i,title:s.alignright,commandName:"JustifyRight"});o.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"p,h1,h2,h3,h4,h5,li",function(e){var a;return!!(e&&e.style&&null!=e.style.cssText&&(a=e.style.cssText)&&/text-align:\s*right;/.test(a))||"right"===t(e).attr("align")}))},n.menus[i]=o}})}),t(function(e,t){e.createMenu(function(a){var i="link";if(a(i)){var n=this,s=n.config.lang,o=new e.Menu({editor:n,id:i,title:s.link}),r=t("<div></div>"),l=t('<div style="margin:20px 10px;" class="clearfix"></div>'),d=l.clone(),c=l.clone().css("margin","0 10px"),p=t('<input type="text" class="block" placeholder="'+s.text+'"/>'),u=t('<input type="text" class="block" placeholder="'+s.link+'"/>'),f=t('<button class="right">'+s.submit+"</button>"),h=t('<button class="right gray">'+s.cancel+"</button>");l.append(p),d.append(u),c.append(f).append(h),r.append(l).append(d).append(c),o.dropPanel=new e.DropPanel(n,o,{$content:r,width:300}),o.clickEvent=function(e){var t=this.dropPanel;if(t.isShowing)t.hide();else{p.val(""),u.val("http://");var a="",i=n.getRangeElem();(i=n.getSelfOrParentByName(i,"a"))&&(a=i.href||"");var s="",o=n.isRangeEmpty();o?i&&(s=i.textContent||i.innerHTML):s=n.getRangeText()||"",a&&u.val(a),s&&p.val(s),o?p.removeAttr("disabled"):p.attr("disabled",!0),t.show()}},o.updateSelectedEvent=function(){var e=n.getRangeElem();return!!(e=n.getSelfOrParentByName(e,"a"))},h.click(function(e){e.preventDefault(),o.dropPanel.hide()}),f.click(function(a){a.preventDefault();var i,s,r,l,d,c=n.getRangeElem(),f=n.getSelfOrParentByName(c,"a"),h=n.isRangeEmpty(),g=n.txt.$txt,m="link"+e.random(),v=t.trim(u.val()),$=t.trim(p.val());return v?($||($=v),void(h?f?(i=t(f),r=function(){i.attr("href",v),i.text($)},l=function(){this.restoreSelectionByElem(f)},n.customCommand(a,r,l)):(s='<a href="'+v+'" target="_blank">'+$+"</a>",e.userAgent.indexOf("Firefox")>0&&(s+="<span>&nbsp;</span>"),n.command(a,"insertHtml",s)):((d=g.find("a")).attr(m,"1"),n.command(a,"createLink",v),g.find("a").not("["+m+"]"),d.removeAttr(m)))):void o.dropPanel.focusFirstInput()}),n.menus[i]=o}})}),t(function(e,t){e.createMenu(function(a){var i="unlink";if(a(i)){var n=this,s=n.config.lang,o=new e.Menu({editor:n,id:i,title:s.unlink,commandName:"unLink"});o.clickEvent=function(e){if(n.isRangeEmpty()){var a=n.getRangeElem(),i=n.getSelfOrParentByName(a,"a");if(i){var s=t(i),o=t("<span>"+s.text()+"</span>");n.customCommand(e,function(){s.after(o).remove()},function(){n.restoreSelectionByElem(o.get(0))})}else e.preventDefault()}else n.command(e,"unLink")},n.menus[i]=o}})}),t(function(e,t){e.createMenu(function(a){var i="table";if(a(i)){var n,s,o,r=this,l=r.config.lang,d=new e.Menu({editor:r,id:i,title:l.table}),c=t('<div style="font-size: 14px; color: #666; text-align:right;"></div>'),p=t('<table class="choose-table" style="margin-bottom:10px;margin-top:5px;">'),u=t("<span>0</span>"),f=t("<span> 行 </span>"),h=t("<span>0</span>"),g=t("<span> 列</span>");for(s=0;s<10;s++){for(n=t('<tr index="'+(s+1)+'">'),o=0;o<10;o++)n.append(t('<td index="'+(o+1)+'">'));p.append(n)}c.append(p),c.append(u).append(f).append(h).append(g),p.on("mouseenter","td",function(e){var a=t(e.currentTarget),i=a.attr("index"),n=a.parent().attr("index");u.text(n),h.text(i),p.find("tr").each(function(){var e=t(this),a=e.attr("index");parseInt(a,10)<=parseInt(n,10)?e.find("td").each(function(){var e=t(this),a=e.attr("index");parseInt(a,10)<=parseInt(i,10)?e.addClass("active"):e.removeClass("active")}):e.find("td").removeClass("active")})}).on("mouseleave",function(e){p.find("td").removeClass("active"),u.text(0),h.text(0)}),p.on("click","td",function(e){var a,i,n=t(e.currentTarget),s=n.attr("index"),o=n.parent().attr("index"),l=parseInt(o,10),d=parseInt(s,10),c="<table>",p=(parseInt($(window).width())-20)/s;for(a=0;a<l;a++){for(c+="<tr>",i=0;i<d;i++)c+="<td width='"+p+"' valign='top'><span>&nbsp;</span></td>";c+="</tr>"}c+="</table>",r.command(e,"insertHtml",c)}),d.dropPanel=new e.DropPanel(r,d,{$content:c,width:262}),r.menus[i]=d}})}),t(function(e,t){e.createMenu(function(a){function i(e,a){t.each(e,function(e,i){var n=i.icon||i.url,o=i.value||i.title,r=t('<a href="#" commandValue="'+("icon"===d?n:o)+'"></a>'),l=t("<img>");l.attr("_src",n),r.append(l),a.append(r),s.emotionUrls.push(n)})}var n="emotion";if(a(n)){var s=this,o=s.config,r=o.lang,l=o.emotions,d=o.emotionsShow;s.emotionUrls=[];var c=new e.Menu({editor:s,id:n,title:r.emotion}),p=t('<div class="panel-tab"></div>'),u=t('<div class="tab-container"></div>'),f=t('<div class="content-container emotion-content-container"></div>');t.each(l,function(a,n){var s=n.title,o=n.data;e.log("正在处理 "+s+" 表情的数据...");var r=t('<a href="#">'+s+" </a>");u.append(r);var l=t('<div class="content"></div>');if(f.append(l),r.click(function(e){u.children().removeClass("selected"),f.children().removeClass("selected"),l.addClass("selected"),r.addClass("selected"),e.preventDefault()}),"string"==typeof o)e.log("将通过 "+o+" 地址ajax下载表情包"),t.get(o,function(a){a=t.parseJSON(a),e.log("下载完毕，得到 "+a.length+" 个表情"),i(a,l)});else{if(!(Object.prototype.toString.call(o).toLowerCase().indexOf("array")>0))return void e.error("data 数据格式错误，请修改为正确格式，参考文档："+e.docsite);i(o,l)}}),p.append(u).append(f),u.children().first().addClass("selected"),f.children().first().addClass("selected"),f.on("click","a[commandValue]",function(e){var a=t(e.currentTarget).attr("commandValue");"icon"===d?s.command(e,"InsertImage",a):s.command(e,"insertHtml","<span>"+a+"</span>"),e.preventDefault()}),c.dropPanel=new e.DropPanel(s,c,{$content:p,width:350}),c.clickEvent=function(a){var i=this,n=i.dropPanel;return n.isShowing?void n.hide():(n.show(),void(i.imgLoaded||(f.find("img").each(function(){var a=t(this),i=a.attr("_src");a.on("error",function(){e.error("加载不出表情图片 "+i)}),a.attr("src",i),a.removeAttr("_src")}),i.imgLoaded=!0)))},s.menus[n]=c}})}),t(function(e,t){function a(e,a,i){function n(){r.val("")}var s=e.config.lang,o=t('<div style="margin:20px 10px 10px 10px;"></div>'),r=t('<input type="text" class="block" placeholder="http://"/>');o.append(r);var l=t('<button class="right">'+s.submit+"</button>"),d=t('<button class="right gray">'+s.cancel+"</button>");i.append(o).append(l).append(d),d.click(function(e){e.preventDefault(),a.dropPanel.hide()}),l.click(function(a){a.preventDefault();var i=t.trim(r.val());if(i){var s='<img style="max-width:100%;" src="'+i+'"/>';e.command(a,"insertHtml",s,n)}else r.focus()})}e.createMenu(function(i){function n(){h.click(function(e){u.children().removeClass("selected"),f.children().removeClass("selected"),m.addClass("selected"),h.addClass("selected"),e.preventDefault()}),g.click(function(t){u.children().removeClass("selected"),f.children().removeClass("selected"),v.addClass("selected"),g.addClass("selected"),t.preventDefault(),e.placeholder&&v.find("input[type=text]").focus()}),h.click()}function s(){u.remove(),m.remove(),v.addClass("selected")}function o(){u.remove(),v.remove(),m.addClass("selected")}var r="img";if(i(r)){var l=this,d=l.config.lang,c=new e.Menu({editor:l,id:r,title:d.img}),p=t('<div class="panel-tab"></div>'),u=t('<div class="tab-container"></div>'),f=t('<div class="content-container"></div>');p.append(u).append(f);var h=t('<a href="#">上传图片</a>'),g=t('<a href="#">网络图片</a>');u.append(h);var m=t('<div class="content"></div>');f.append(m);var v=t('<div class="content"></div>');f.append(v),a(l,c,v),c.dropPanel=new e.DropPanel(l,c,{$content:p,width:400,onRender:function(){var e=l.config.customUploadInit;e&&e.call(l)}}),l.menus[r]=c,l.ready(function(){function e(){c.dropPanel.hide()}var t=this,a=t.config,i=a.uploadImgUrl,r=a.customUpload,l=a.hideLinkImg;i||r?(t.$uploadContent=m,n(),l&&o()):s(),m.click(function(){setTimeout(e)})})}})}),t(function(e,t){e.createMenu(function(a){var i="video";if(a(i)){var n=this,s=n.config.lang,o=/^<(iframe)|(embed)/i,r=new e.Menu({editor:n,id:i,title:s.video}),l=t("<div></div>"),d=t('<div style="margin:20px 10px;"></div>'),c=t('<input type="text" class="block" placeholder=\'格式如：<iframe src="..." frameborder=0 allowfullscreen></iframe>\'/>');d.append(c);var p=t('<div style="margin:20px 10px;"></div>'),u=t('<input type="text" value="375" style="width:50px;text-align:center;" disabled/>'),f=t('<input type="text" value="375" style="width:50px;text-align:center;" disabled/>');p.append("<span> "+s.width+" </span>").append(u).append("<span> &nbsp;&nbsp;&nbsp;</span>").append("<span> "+s.height+" </span>").append(f).append("<span> </span>");var h=t("<div></div>"),g=t('<a href="http://www.kancloud.cn/wangfupeng/wangeditor2/134973" target="_blank" style="display:inline-block;margin-top:10px;margin-left:10px;color:#999;">如何复制视频链接？</a>'),m=t('<button class="right">'+s.submit+"</button>"),v=t('<button class="right gray">'+s.cancel+"</button>");h.append(g).append(m).append(v),l.append(d).append(p).append(h),v.click(function(e){e.preventDefault(),c.val(""),r.dropPanel.hide()}),m.click(function(e){e.preventDefault();var a,i=t.trim(c.val()),s=parseInt(u.val()),l=parseInt(f.val()),d=t("<div>"),p="<p>{content}</p>";return i?o.test(i)?isNaN(s)||isNaN(l)?void cFunYdj.alertMoni("宽度或高度不是数字！"):((a=t(i)).attr("width",s).attr("height",l),p=p.replace("{content}",d.append(a).html()),n.command(e,"insertHtml",p),void c.val("")):(cFunYdj.alertMoni("视频链接格式错误！"),void r.dropPanel.focusFirstInput()):void r.dropPanel.focusFirstInput()}),r.dropPanel=new e.DropPanel(n,r,{$content:l,width:400}),n.menus[i]=r}})}),t(function(e,t){var a="onkeyup"in document.createElement("input");e.baiduMapAk="TVhjYjq1ICT2qqL5LdS8mwas",e.numberOfLocation=0,e.createMenu(function(i){function n(){m.val("")}var s="location";if(i(s)){if(++e.numberOfLocation>1)return void e.error("目前不支持在一个页面多个编辑器上同时使用地图，可通过自定义菜单配置去掉地图菜单");var o=this,r=o.config,l=r.lang,d=r.mapAk;o.mapData={};var c=o.mapData;c.markers=[],c.mapContainerId="map"+e.random(),c.clearLocations=function(){var e=c.map;e&&(e.clearOverlays(),c.markers=[])},c.searchMap=function(){var e=c.map;if(e){var t,a=window.BMap,i=g.val(),n=m.val();""!==i&&(n&&""!==n||e.centerAndZoom(i,11),n&&""!==n&&(new a.Geocoder).getPoint(n,function(n){n?(e.centerAndZoom(n,13),t=new a.Marker(n),e.addOverlay(t),t.enableDragging(),c.markers.push(t)):e.centerAndZoom(i,11)},i))}};var p=!1;window.baiduMapCallBack=function(){if(!p){p=!0;var t=window.BMap;c.map||(c.map=new t.Map(c.mapContainerId));var i=c.map;i.centerAndZoom(new t.Point(116.404,39.915),11),i.addControl(new t.MapTypeControl),i.setCurrentCity("北京"),i.enableScrollWheelZoom(!0),(new t.LocalCity).get(function(t){var n=t.name;i.setCenter(n),g.val(n),e.placeholder&&m.focus();var s,o;a?(o=function(e){"keyup"===e.type&&13===e.keyCode&&e.preventDefault(),s&&clearTimeout(s),s=setTimeout(c.searchMap,500)},g.on("keyup change paste",o),m.on("keyup change paste",o)):(o=function(){if(f.is(":visible")){var e="",t="",a=g.val(),i=m.val();a===e&&i===t||(c.searchMap(),e=a,t=i),s&&clearTimeout(s),s=setTimeout(o,1e3)}else clearTimeout(s)},s=setTimeout(o,1e3))}),i.addEventListener("click",function(e){var a=new t.Marker(new t.Point(e.point.lng,e.point.lat));i.addOverlay(a),a.enableDragging(),c.markers.push(a)},!1)}},c.loadMapScript=function(){var t=document.createElement("script");t.type="text/javascript",t.src="https://api.map.baidu.com/api?v=2.0&ak="+d+"&s=1&callback=baiduMapCallBack";try{document.body.appendChild(t)}catch(t){e.error("加载地图过程中发生错误")}},c.initMap=function(){window.BMap?window.baiduMapCallBack():c.loadMapScript()};var u=new e.Menu({editor:o,id:s,title:l.location});o.menus[s]=u;var f=t("<div></div>"),h=t('<div style="margin:10px 0;"></div>'),g=t('<input type="text"/>');g.css({width:"80px","text-align":"center"});var m=t('<input type="text"/>');m.css({width:"300px","margin-left":"10px"}).attr("placeholder",l.searchlocation);var v=t('<button class="right link">'+l.clearLocation+"</button>");h.append(v).append(g).append(m),f.append(h),v.click(function(e){m.val(""),m.focus(),c.clearLocations(),e.preventDefault()});var $=t('<div id="'+c.mapContainerId+'"></div>');$.css({height:"260px",width:"100%",position:"relative","margin-top":"10px",border:"1px solid #f1f1f1"});var y=t("<span>"+l.loading+"</span>");y.css({position:"absolute",width:"100px","text-align":"center",top:"45%",left:"50%","margin-left":"-50px"}),$.append(y),f.append($);var b=t('<div style="margin:10px 0;"></div>'),w=t('<button class="right">'+l.submit+"</button>"),_=t('<button class="right gray">'+l.cancel+"</button>"),x=t('<label style="display:inline-block;margin-top:10px;color:#666;"></label>'),C=t('<input type="checkbox" onclick="cFunYdj.checkbox_reset($(this),event)">');x.append(C).append('<span style="display:inline-block;margin-left:5px;">  '+l.dynamicMap+"</span>"),b.append(x).append(w).append(_),f.append(b),_.click(function(e){e.preventDefault(),n(),u.dropPanel.hide()}),w.click(function(e){e.preventDefault();var a,i,s,r=c.map,d=C.is(":checked"),p=c.markers,u=r.getCenter(),f=u.lng,h=u.lat,g=r.getZoom(),m=r.getSize(),v=m.width,$=m.height;if(i=d?"http://ueditor.baidu.com/ueditor/dialogs/map/show.html#":"http://api.map.baidu.com/staticimage?",i=i+"center="+f+","+h+"&zoom="+g+"&width="+v+"&height="+$,p.length>0&&(i+="&markers=",t.each(p,function(e,t){a=t.getPosition(),e>0&&(i+="|"),i=i+a.lng+","+a.lat})),d){if(p.length>1)return void cFunYdj.alertMoni(l.langDynamicOneLocation);i+="&markerStyles=l,A",s=(s='<iframe class="ueditor_baidumap" src="{src}" frameborder="0" width="'+v+'" height="'+$+'"></iframe>').replace("{src}",i),o.command(e,"insertHtml",s,n)}else o.command(e,"insertHtml",'<img style="max-width:100%;" src="'+i+'"/>',n)}),u.dropPanel=new e.DropPanel(o,u,{$content:f,width:500}),u.onRender=function(){d===e.baiduMapAk&&e.warn("建议在配置中自定义百度地图的mapAk，否则可能影响地图功能，文档："+e.docsite)},u.clickEvent=function(e){var t=this.dropPanel,a=!1;return t.isShowing?void t.hide():(c.map||(a=!0),t.show(),c.initMap(),void(a||m.focus()))}}})}),t(function(e,t){function a(){if(!(e.userAgent.indexOf("MSIE 8")>0||window.hljs)){var t=document.createElement("script");t.type="text/javascript",t.src="http://cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js",document.body.appendChild(t)}}e.createMenu(function(i){function n(){var e=o.getRangeElem();o.getSelfOrParentByName(e,"code")?o.disableMenusExcept("insertcode"):o.enableMenusExcept("insertcode")}var s="insertcode";if(i(s)){setTimeout(a,0);var o=this,r=o.config,l=r.lang,d=o.txt.$txt,c=new e.Menu({editor:o,id:s,title:l.insertcode});c.clickEvent=function(e){var a=this.dropPanel;if(a.isShowing)a.hide();else{u.val(""),a.show();var i=window.hljs;if(i&&i.listLanguages){if(0!==f.children().length)return;f.css({"margin-top":"9px","margin-left":"5px"}),t.each(i.listLanguages(),function(e,t){"xml"===t&&(t="html"),t===r.codeDefaultLang?f.append('<option value="'+t+'" selected="selected">'+t+"</option>"):f.append('<option value="'+t+'">'+t+"</option>")})}else f.hide()}},c.clickEventSelected=function(e){var a=this.dropPanel;if(a.isShowing)a.hide();else{a.show();var i,n,s=o.getRangeElem(),r=o.getSelfOrParentByName(s,"pre");r&&(r=o.getSelfOrParentByName(s,"code")),r&&(i=t(r),u.val(i.text()),f&&(n=i.attr("class"))&&f.val(n.split(" ")[0]))}},c.updateSelectedEvent=function(){var e,t=this.editor;return e=t.getRangeElem(),!!(e=t.getSelfOrParentByName(e,"pre"))};var p=t("<div></div>"),u=t("<textarea></textarea>"),f=t("<select></select>");(function(e){var a=t("<div></div>");a.css({margin:"15px 5px 5px 5px",height:"160px","text-align":"center"}),u.css({width:"100%",height:"100%",padding:"10px"}),u.on("keydown",function(e){9===e.keyCode&&e.preventDefault()}),a.append(u),e.append(a);var i=t("<div></div>"),n=t('<button class="right">'+l.submit+"</button>"),s=t('<button class="right gray">'+l.cancel+"</button>");i.append(n).append(s).append(f),e.append(i),s.click(function(e){e.preventDefault(),c.dropPanel.hide()});var r='<pre style="max-width:100%;overflow-x:auto;"><code{#langClass}>{#content}</code></pre>';n.click(function(e){e.preventDefault();var a=u.val();if(a){var i=o.getRangeElem();t.trim(t(i).text())&&0!==r.indexOf("<p><br></p>")&&(r="<p><br></p>"+r);var n=f?f.val():"",s="",l=function(){d.find("pre code").each(function(e,a){var i=t(a);i.attr("codemark")||window.hljs&&(window.hljs.highlightBlock(a),i.attr("codemark","1"))})};if(n&&(s=' class="'+n+' hljs"'),a=a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;"),c.selected){var p,h=o.getSelfOrParentByName(i,"pre");h&&(h=o.getSelfOrParentByName(i,"code")),h&&(p=t(h),o.customCommand(e,function(){n&&p.attr("class")!==n+" hljs"&&p.attr("class",n+" hljs"),p.html(a)},function(){o.restoreSelectionByElem(h),l()}))}else{var g=r.replace("{#langClass}",s).replace("{#content}",a);o.command(e,"insertHtml",g,l)}}else u.focus()})})(p),c.dropPanel=new e.DropPanel(o,c,{$content:p,width:500}),o.menus[s]=c,d.on("keydown",function(e){if(13===e.keyCode){var t=o.getRangeElem();o.getSelfOrParentByName(t,"code")&&o.command(e,"insertHtml","\n")}}),d.on("keydown click",function(e){setTimeout(n)})}})}),t(function(e,t){e.createMenu(function(t){var a="undo";if(t(a)){var i=this,n=i.config.lang,s=new e.Menu({editor:i,id:a,title:n.undo});s.clickEvent=function(e){i.undo()},i.menus[a]=s,i.ready(function(){function e(){a.undoRecord()}var t,a=this;a.txt.$txt.on("keydown",function(i){var n=i.keyCode;return i.ctrlKey&&90===n?void a.undo():void(13===n?e():(t&&clearTimeout(t),t=setTimeout(e,1e3)))}),a.undoRecord()})}})}),t(function(e,t){e.createMenu(function(t){var a="redo";if(t(a)){var i=this,n=i.config.lang,s=new e.Menu({editor:i,id:a,title:n.redo});s.clickEvent=function(e){i.redo()},i.menus[a]=s}})}),t(function(e,t){var a;e.createMenu(function(t){var i="fullscreen";if(t(i)){var n,s,o=this,r=o.txt.$txt,l=o.config,d=l.zindex||1e4,c=l.lang,p=!1,u=new e.Menu({editor:o,id:i,title:c.fullscreen});u.clickEvent=function(t){var i=o.$editorContainer;i.addClass("wangEditor-fullscreen"),n=i.css("z-index"),i.css("z-index",d);var l,c=r.height(),u=r.outerHeight();o.useMaxHeight&&(s=r.css("max-height"),r.css("max-height","none"),(l=r.parent()).after(r),l.remove(),r.css("overflow-y","auto"));var f=o.menuContainer;r.height(e.$window.height()-f.height()-(u-c)),o.menuContainer.$menuContainer.attr("style",""),p=!0,o.isFullScreen=!0,a=e.$window.scrollTop()},u.clickEventSelected=function(t){var i=o.$editorContainer;i.removeClass("wangEditor-fullscreen"),i.css("z-index",n),o.useMaxHeight?r.css("max-height",s):o.$valueContainer.css("height",o.valueContainerHeight),o.txt.initHeight(),p=!1,o.isFullScreen=!1,null!=a&&e.$window.scrollTop(a)},u.updateSelectedEvent=function(e){return p},o.menus[i]=u}})}),t(function(e,t){e.fn.renderMenus=function(){var e,a=this,i=a.menus,n=a.config.menus,s=(a.menuContainer,0);t.each(n,function(t,a){return"|"===a?void s++:void((e=i[a])&&e.render(s))})}}),t(function(e,t){e.fn.renderMenuContainer=function(){var e=this,t=e.menuContainer;e.$editorContainer,t.render()}}),t(function(e,t){e.fn.renderTxt=function(){var e=this,t=e.txt;t.render(),e.ready(function(){t.initHeight()})}}),t(function(e,t){e.fn.renderEditorContainer=function(){var e,t,a=this,i=a.$valueContainer,n=a.$editorContainer;i===a.txt.$txt?(e=a.$prev,t=a.$parent,e&&e.length?e.after(n):t.prepend(n)):(i.after(n),i.hide())}}),t(function(e,t){e.fn.eventMenus=function(){var e=this.menus;t.each(e,function(e,t){t.bindEvent()})}}),t(function(e,t){e.fn.eventMenuContainer=function(){}}),t(function(e,t){e.fn.eventTxt=function(){var e=this.txt;e.saveSelectionEvent(),e.updateValueEvent(),e.updateMenuStyleEvent()}}),t(function(e,t){e.plugin(function(){var t=this.config.uploadImgFns;t.onload||(t.onload=function(t,a){e.log("上传结束，返回结果为 "+t);var i,n=this,s=n.uploadImgOriginalName||"";0===t.indexOf("error|")?(e.warn("上传失败："+t.split("|")[1]),cFunYdj.alertMoni(t.split("|")[1])):(e.log("上传成功，即将插入编辑区域，结果为："+t),i=document.createElement("img"),i.onload=function(){var a='<img src="'+t+'" alt="'+s+'" style="max-width:100%;"/>';n.command(null,"insertHtml",a),e.log("已插入图片，地址 "+t),i=null},i.onerror=function(){e.error("使用返回的结果获取图片，发生错误。请确认以下结果是否正确："+t),i=null},i.src=t)}),t.ontimeout||(t.ontimeout=function(t){e.error("上传图片超时"),cFunYdj.alertMoni("上传图片超时")}),t.onerror||(t.onerror=function(e){var t=this,a='<img src="'+img_base64+'" style="max-width:100%;"/>';t.command(null,"insertHtml",a)})})}),t(function(e,t){window.FileReader&&window.FormData&&e.plugin(function(){function a(e,t){var a,i=window.atob(e.split(",")[1]),n=new ArrayBuffer(i.length),s=new Uint8Array(n);for(a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return new Blob([n],{type:t})}function i(t,a){var i=document.createElement("img");i.onload=function(){var n='<img src="'+t+'" style="max-width:100%;width:100%;"/>';s.command(a,"insertHtml",n),e.log("已插入图片，地址 "+t),i=null},i.onerror=function(){e.error("使用返回的结果获取图片，发生错误。请确认以下结果是否正确："+t),i=null},i.src=t}function n(e){if(e.lengthComputable){var t=e.loaded/e.total;s.showUploadProgress(100*t)}}var s=this,o=s.config,r=o.uploadImgUrl,l=o.uploadTimeout,d=o.uploadImgFns,c=d.onload,p=d.ontimeout,u=d.onerror;r&&(s.xhrUploadImg=function(o){var d=o.event,f=o.filename||"",h=o.base64,g=o.fileType||"image/png",m=o.name||"wangEditor_upload_file",v=o.loadfn||c,$=o.errorfn||u,y=o.timeoutfn||p,b=s.config.uploadParams||{},w=s.config.uploadHeaders||{},_="png";if(window.img_base64=h,f.indexOf(".")>0?_=f.slice(f.lastIndexOf(".")-f.length+1):g.indexOf("/")>0&&g.split("/")[1]&&(_=g.split("/")[1]),e.isOnWebsite)return e.log("预览模拟上传"),void i(h,d);var x,C=new XMLHttpRequest,k=new FormData;C.onload=function(){x&&clearTimeout(x),s.uploadImgOriginalName=f,f.indexOf(".")>0&&(s.uploadImgOriginalName=f.split(".")[0]),v&&v.call(s,C.responseText,C),s.hideUploadProgress()},C.onerror=function(){x&&clearTimeout(x),d.preventDefault(),$&&$.call(s,C),s.hideUploadProgress()},C.upload.onprogress=n,k.append(m,a(h,g),e.random()+"."+_),t.each(b,function(e,t){k.append(e,t)}),C.open("POST",r,!0),t.each(w,function(e,t){C.setRequestHeader(e,t)}),C.withCredentials=!0,C.send(k),x=setTimeout(function(){x&&clearTimeout(x),C&&C.abort&&C.abort(),d.preventDefault(),y&&y.call(s,C),s.hideUploadProgress()},l),e.log("开始上传...并开始超时计算")})})}),t(function(e,t){e.plugin(function(){function e(){l||(l=!0,r.css({top:n+"px"}),s.append(r))}function a(){r.hide(),d=null}var i=this,n=i.menuContainer.height(),s=i.$editorContainer,o=s.width(),r=t('<div class="wangEditor-upload-progress"></div>'),l=!1;i.showUploadProgress=function(t){d&&clearTimeout(d),e(),r.show(),r.width(t*o/100)};var d;i.hideUploadProgress=function(e){d&&clearTimeout(d),e=e||750,d=setTimeout(a,e)}})}),t(function(e,t){e.plugin(function(){var a,i=this,n=i.config,s=n.uploadImgUrl,o=n.uploadTimeout;if(s){var r=i.$uploadContent;if(r){var l=t('<div class="upload-icon-container"><i class="wangeditor-menu-img-upload"></i></div>');r.append(l);var d=new e.UploadFile({editor:i,uploadUrl:s,timeout:o,fileAccept:"image/jpg,image/jpeg,image/png,image/gif,image/bmp"});l.click(function(e){a=e,d.selectFiles()})}}})}),t(function(e,t){if(window.FileReader&&window.FormData){var a=function(e){this.editor=e.editor,this.uploadUrl=e.uploadUrl,this.timeout=e.timeout,this.fileAccept=e.fileAccept,this.multiple=!0};(a.fn=a.prototype).clear=function(){this.$input.val(""),e.log("input value 已清空")},a.fn.render=function(){var a=this;if(!a._hasRender){e.log("渲染dom");var i=a.fileAccept,n=i?'accept="'+i+'"':"",s=a.multiple,o=t('<input type="file" '+n+" "+(s?'multiple="multiple"':"")+"/>"),r=t('<div style="visibility:hidden;"></div>');r.append(o),e.$body.append(r),o.on("change",function(e){var t=$(this).prop("files")[0],i=new FormData;i.append("img",t),i.append("filetype",t.type),$.ajax({type:"post",url:cFunYdj.imgUploadUrl,data:i,contentType:!1,processData:!1,dataType:"json",success:function(e){if(""!=e){var t="<img src='"+e.imgartwork+"' class='imgKZ'>";a.editor.command(null,"insertHtml",t)}},fail:function(){cFunYdj.alertMoni("图片上传失败")}})}),a.$input=o,a._hasRender=!0}},a.fn.selectFiles=function(){var t=this;e.log("使用 html5 方式上传"),t.render(),e.log("选择文件"),t.$input.click()},a.fn.selected=function(a,i){var n=this,s=i.files||[];0!==s.length&&(e.log("选中 "+s.length+" 个文件"),t.each(s,function(e,t){n.upload(t)}))},a.fn.upload=function(t){function a(){i.clear()}var i=this,n=i.editor,s=t.name||"",o=t.type||"",r=n.config.uploadImgFns,l=n.config.uploadImgFileName||"wangEditorH5File",d=r.onload,c=r.ontimeout,p=r.onerror,u=new FileReader;return d&&c&&p?(e.log("开始执行 "+s+" 文件的上传"),u.onload=function(t){e.log("已读取"+s+"文件");var i=t.target.result||this.result;n.xhrUploadImg({event:t,filename:s,base64:i,fileType:o,name:l,loadfn:function(e,t){a();var i=this;d.call(i,e,t)},errorfn:function(t){a(),e.isOnWebsite&&cFunYdj.alertMoni("wangEditor官网暂时没有服务端，因此报错。实际项目中不会发生");var i=this;p.call(i,t)},timeoutfn:function(t){a(),e.isOnWebsite&&cFunYdj.alertMoni("wangEditor官网暂时没有服务端，因此超时。实际项目中不会发生"),c(this,t)}})},void u.readAsDataURL(t)):void e.error("请为编辑器配置上传图片的 onload ontimeout onerror 回调事件")},e.UploadFile=a}}),t(function(e,t){if(!window.FileReader||!window.FormData){var a=function(e){this.editor=e.editor,this.uploadUrl=e.uploadUrl,this.timeout=e.timeout,this.fileAccept=e.fileAccept,this.multiple=!1};(a.fn=a.prototype).clear=function(){this.$input.val(""),e.log("input value 已清空")},a.fn.hideModal=function(){this.modal.hide()},a.fn.render=function(){var a=this,i=a.editor,n=i.config.uploadImgFileName||"wangEditorFormFile";if(!a._hasRender){var s=a.uploadUrl;e.log("渲染dom");var o="iframe"+e.random(),r=t('<iframe name="'+o+'" id="'+o+'" frameborder="0" width="0" height="0"></iframe>'),l=a.multiple?'multiple="multiple"':"",d=t("<p>选择图片并上传</p>"),c=t('<input type="file" '+l+' name="'+n+'"/>'),p=t('<input type="submit" value="上传"/>'),u=t('<form enctype="multipart/form-data" method="post" action="'+s+'" target="'+o+'"></form>'),f=t('<div style="margin:10px 20px;"></div>');u.append(d).append(c).append(p),t.each(i.config.uploadParams,function(e,a){u.append(t('<input type="hidden" name="'+e+'" value="'+a+'"/>'))}),f.append(u),f.append(r),a.$input=c,a.$iframe=r;var h=new e.Modal(i,void 0,{$content:f});a.modal=h,a._hasRender=!0}},a.fn.bindLoadEvent=function(){function e(){var e=t.trim(s.document.body.innerHTML);if(e){var n=a.$input.val(),r=n;n.lastIndexOf("\\")>=0&&(r=n.slice(n.lastIndexOf("\\")+1)).indexOf(".")>0&&(r=r.split(".")[0]),i.uploadImgOriginalName=r,o.call(i,e),a.clear(),a.hideModal()}}var a=this;if(!a._hasBindLoad){var i=a.editor,n=a.$iframe.get(0),s=n.contentWindow,o=i.config.uploadImgFns.onload;n.attachEvent?n.attachEvent("onload",e):n.onload=e,a._hasBindLoad=!0}},a.fn.show=function(){var e=this,t=e.modal;setTimeout(function(){t.show(),e.bindLoadEvent()})},a.fn.selectFiles=function(){var t=this;e.log("使用 form 方式上传"),t.render(),t.clear(),t.show()},e.UploadFile=a}}),t(function(e,t){e.plugin(function(){function a(){var a=/^data:(image\/\w+);base64/,r=o.find("img");e.log("粘贴后，检查到编辑器有"+r.length+"个图片。开始遍历图片，试图找到刚刚粘贴过来的图片"),t.each(r,function(){var o,r,l=this,c=t(l),p=c.attr("src");n.each(function(){if(l===this)return o=!0,!1}),o||(e.log("找到一个粘贴过来的图片"),a.test(p)?(e.log("src 是 base64 格式，可以上传"),r=p.match(a)[1],s.xhrUploadImg({event:i,base64:p,fileType:r,name:d})):e.log("src 为 "+p+" ，不是 base64 格式，暂时不支持上传"),c.remove())}),e.log("遍历结束")}var i,n,s=this,o=s.txt.$txt,r=s.config,l=r.uploadImgUrl,d=r.uploadImgFileName||"wangEditorPasteFile";l&&o.on("paste",function(r){var l,c=(i=r).clipboardData||i.originalEvent.clipboardData;(null==c?window.clipboardData&&window.clipboardData.getData("text"):c.getData("text/plain")||c.getData("text/html"))||((l=c&&c.items)?(e.log("通过 data.items 得到了数据"),t.each(l,function(t,a){var n=a.type||"";if(!(n.indexOf("image")<0)){var o=a.getAsFile(),r=new FileReader;e.log("得到一个粘贴图片"),r.onload=function(t){e.log("读取到粘贴的图片");var a=t.target.result||this.result;s.xhrUploadImg({event:i,base64:a,fileType:n,name:d})},r.readAsDataURL(o)}})):(e.log("未从 data.items 得到数据，使用检测粘贴图片的方式"),n=o.find("img"),e.log("粘贴前，检查到编辑器有"+n.length+"个图片"),setTimeout(a,0)))})})}),t(function(e,t){e.plugin(function(){var a=this,i=a.txt.$txt,n=a.config,s=n.uploadImgUrl,o=n.uploadImgFileName||"wangEditorDragFile";s&&(e.$document.on("dragleave drop dragenter dragover",function(e){e.preventDefault()}),i.on("drop",function(i){i.preventDefault();var n=i.originalEvent,s=n.dataTransfer&&n.dataTransfer.files;s&&s.length&&t.each(s,function(t,n){var s=n.type,r=n.name;if(!(s.indexOf("image/")<0)){e.log("得到图片 "+r);var l=new FileReader;l.onload=function(t){e.log("读取到图片 "+r);var n=t.target.result||this.result;a.xhrUploadImg({event:i,base64:n,fileType:s,name:o})},l.readAsDataURL(n)}})}))})}),t(function(e,t){e.plugin(function(){function a(){p||(i(),u.append(f).append(h).append(g).append(m),r.$editorContainer.append(u),p=!0)}function i(){function e(e,a){d=l.html();t&&r.customCommand(e,t,function(){a&&a(),d!==l.html()&&l.change()})}var t;h.click(function(a){t=function(){o.remove()},e(a,function(){setTimeout(s,100)})}),m.click(function(a){t=function(){o.css({width:"100%"})},e(a,function(){setTimeout(n)})}),g.click(function(a){t=function(){o.css({width:"auto"})},e(a,function(){setTimeout(n)})})}function n(){if(!r._disabled&&null!=o){o.addClass("clicked");var e=o.position(),t=e.top,a=e.left,i=o.outerHeight(),n=o.outerWidth(),s=t+i,l=a,d=0,p=c.position().top,h=c.outerHeight();s>p+h&&(s=p+h),u.show(),d=n/2-u.outerWidth()/2,u.css({top:s+5,left:l,"margin-left":d}),d<0?(u.css("margin-left","0"),f.hide()):f.show()}}function s(){null!=o&&(o.removeClass("clicked"),o=null,u.hide())}var o,r=this,l=r.txt.$txt,d="",c=r.useMaxHeight?l.parent():l,p=!1,u=t('<div class="txt-toolbar"></div>'),f=t('<div class="tip-triangle"></div>'),h=t('<a href="#"><i class="wangeditor-menu-img-trash-o"></i></a>'),g=t('<a href="#"><i class="wangeditor-menu-img-search-minus"></i></a>'),m=t('<a href="#"><i class="wangeditor-menu-img-search-plus"></i></a>');c.on("click","table",function(e){var i=t(e.currentTarget);return a(),o&&o.get(0)===i.get(0)?void setTimeout(s,100):(o=i,n(),e.preventDefault(),void e.stopPropagation())}).on("click keydown scroll",function(e){setTimeout(s,100)}),e.$body.on("click keydown scroll",function(e){setTimeout(s,100)})})}),t(function(e,t){e.userAgent.indexOf("MSIE 8")>0||e.plugin(function(){function a(e,a){if(d){var i,n,s=!1,o=d.parent();if("a"===o.get(0).nodeName.toLowerCase()?(n=o,s=!0):n=t('<a target="_blank"></a>'),null==a)return n.attr("href")||"";if(""===a)s&&(i=function(){d.unwrap()});else{if(a===g)return;i=function(){n.attr("href",a),s||d.wrap(n)}}i&&(f=u.html(),c.customCommand(e,i,function(){null!=a&&(g=a),f!==u.html()&&u.change()}))}}function i(){m||(n(),s(),b.append(w).append(_).append(x).append(C).append(k).append(S).append(T).append(I),j.append(D).append(G).append(L),$.append(y).append(b).append(j),c.$editorContainer.append($).append(v),m=!0)}function n(){function e(e,t){var a;f=u.html(),a=function(){t&&t(),f!==u.html()&&u.change()},i&&c.customCommand(e,i,a)}var i;w.click(function(t){a(t,""),i=function(){d.remove()},e(t,function(){setTimeout(r,100)})}),x.click(function(t){i=function(){var e=d.get(0),t=e.width,a=e.height;t*=1.1,a*=1.1,d.css({width:t+"px",height:a+"px"})},e(t,function(){setTimeout(o)})}),_.click(function(t){i=function(){var e=d.get(0),t=e.width,a=e.height;t*=.9,a*=.9,d.css({width:t+"px",height:a+"px"})},e(t,function(){setTimeout(o)})}),C.click(function(t){i=function(){d.parents("p").css({"text-align":"left"}).attr("align","left")},e(t,function(){setTimeout(r,100)})}),S.click(function(t){i=function(){d.parents("p").css({"text-align":"right"}).attr("align","right")},e(t,function(){setTimeout(r,100)})}),k.click(function(t){i=function(){d.parents("p").css({"text-align":"center"}).attr("align","center")},e(t,function(){setTimeout(r,100)})}),T.click(function(e){e.preventDefault(),g=a(e),D.val(g),b.hide(),j.show()}),L.click(function(e){e.preventDefault();var i=t.trim(D.val());i&&a(e,i),setTimeout(r)}),G.click(function(e){e.preventDefault(),D.val(g),b.show(),j.hide()}),I.click(function(e){e.preventDefault(),a(e,""),setTimeout(r)})}function s(){function t(e){var t,r;t=e.pageX-a,r=e.pageY-i;var c=n+t,p=s+r;v.css({"margin-left":c,"margin-top":p});var u=o+t,f=l+r;d&&d.css({width:u,height:f})}var a,i,n,s,o,l;v.on("mousedown",function(c){d&&(a=c.pageX,i=c.pageY,n=parseFloat(v.css("margin-left"),10),s=parseFloat(v.css("margin-top"),10),o=d.width(),l=d.height(),$.hide(),e.$document.on("mousemove._dragResizeImg",t),e.$document.on("mouseup._dragResizeImg",function(t){e.$document.off("mousemove._dragResizeImg"),e.$document.off("mouseup._dragResizeImg"),r(),v.css({"margin-left":n,"margin-top":s}),M=!1}),M=!0)})}function o(){if(!c._disabled&&null!=d){d.addClass("clicked");var e=d.position(),t=e.top,a=e.left,i=d.outerHeight(),n=d.outerWidth();v.css({top:t+i,left:a+n});var s=t+i,o=a,r=0,l=h.position().top,p=h.outerHeight();s>l+p?s=l+p:v.show(),$.show(),r=n/2-$.outerWidth()/2,$.css({top:s+5,left:o,"margin-left":r}),r<0?($.css("margin-left","0"),y.hide()):y.show(),c.disableMenusExcept()}}function r(){null!=d&&(d.removeClass("clicked"),d=null,$.hide(),v.hide(),c.enableMenusExcept())}function l(e){var a=!1;return c.emotionUrls?(t.each(c.emotionUrls,function(t,i){var n=!1;if(e===i&&(a=!0,n=!0),n)return!1}),a):a}var d,c=this,p=c.config.lang,u=c.txt.$txt,f="",h=c.useMaxHeight?u.parent():u,g=(c.$editorContainer,""),m=!1,v=t('<div class="img-drag-point"></div>'),$=t('<div class="txt-toolbar"></div>'),y=t('<div class="tip-triangle"></div>'),b=t("<div></div>"),w=t('<a href="#"><i class="wangeditor-menu-img-trash-o"></i></a>'),_=t('<a href="#"><i class="wangeditor-menu-img-search-minus"></i></a>'),x=t('<a href="#"><i class="wangeditor-menu-img-search-plus"></i></a>'),C=t('<a href="#"><i class="wangeditor-menu-img-align-left"></i></a>'),k=t('<a href="#"><i class="wangeditor-menu-img-align-center"></i></a>'),S=t('<a href="#"><i class="wangeditor-menu-img-align-right"></i></a>'),T=t('<a href="#"><i class="wangeditor-menu-img-link"></i></a>'),I=t('<a href="#"><i class="wangeditor-menu-img-unlink"></i></a>'),j=t('<div style="display:none;"></div>'),D=t('<input type="text" style="height:26px; margin-left:10px; width:200px;"/>'),L=t('<button class="right">'+p.submit+"</button>"),G=t('<button class="right gray">'+p.cancel+"</button>"),M=!1;h.on("mousedown","img",function(e){e.preventDefault()}).on("click","img",function(e){var a=t(e.currentTarget),n=a.attr("src");if(n&&!l(n)){if(i(),d&&d.get(0)===a.get(0))return void setTimeout(r,100);d=a,o(),b.show(),j.hide(),e.preventDefault(),e.stopPropagation()}}).on("click keydown scroll",function(e){M||setTimeout(r,100)})})}),t(function(e,t){e.plugin(function(){function e(){o||(f.append(h).append(g),c.$editorContainer.append(f),o=!0)}function a(){if(s){var e=s.position(),t=e.left,a=e.top+s.height()+5,i=c.menuContainer.height(),n=c.txt.$txt.outerHeight();a>i+n&&(a=i+n+5),f.css({top:a,left:t})}}function i(){if(!m&&s){e(),f.show();var t=s.attr("href");g.attr("href",t),a(),m=!0}}function n(){m&&s&&(f.hide(),m=!1)}var s,o,r,l,d,c=this,p=c.config.lang,u=c.txt.$txt,f=t('<div class="txt-toolbar"></div>'),h=t('<div class="tip-triangle"></div>'),g=t('<a href="#" target="_blank"><i class="wangeditor-menu-img-link"></i> '+p.openLink+"</a>"),m=!1;u.on("mouseenter","a",function(e){r&&clearTimeout(r),r=setTimeout(function(){var a=e.currentTarget,o=t(a);s=o;var r=o.children("img");r.length&&(r.click(function(e){n()}),r.hasClass("clicked"))||i()},500)}).on("mouseleave","a",function(e){l&&clearTimeout(l),l=setTimeout(n,500)}).on("click keydown scroll",function(e){setTimeout(n,100)}),f.on("mouseenter",function(e){l&&clearTimeout(l)}).on("mouseleave",function(e){d&&clearTimeout(d),d=setTimeout(n,500)})})}),t(function(e,t){e.plugin(function(){var t=this,a=t.config.menuFixed;if(!1!==a&&"number"==typeof a){var i=parseFloat(e.$body.css("margin-top"),10);isNaN(i)&&(i=0);var n=t.$editorContainer,s=n.offset().top,o=n.outerHeight(),r=t.menuContainer.$menuContainer,l=r.css("position"),d=r.css("top"),c=r.offset().top,p=r.outerHeight();t.txt.$txt,e.$window.scroll(function(){if(!t.isFullScreen){var u=e.$window.scrollTop(),f=r.width();0===c&&(c=r.offset().top,s=n.offset().top,o=n.outerHeight(),p=r.outerHeight()),u>=c&&u+a+p+30<s+o?(r.css({position:"fixed",top:a}),r.width(f),e.$body.css({"margin-top":i+p}),t._isMenufixed||(t._isMenufixed=!0)):(r.css({position:l,top:d}),r.css("width","100%"),e.$body.css({"margin-top":i}),t._isMenufixed&&(t._isMenufixed=!1))}})}})}),t(function(e,t){e.createMenu(function(a){var i="indent";if(a(i)){var n=this,s=new e.Menu({editor:n,id:i,title:"缩进",$domNormal:t('<a href="#" tabindex="-1"><i class="wangeditor-menu-img-indent-left"></i></a>'),$domSelected:t('<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-indent-left"></i></a>')});s.clickEvent=function(e){var a,i=n.getRangeElem(),s=n.getSelfOrParentByName(i,"p");return s?(a=t(s),void n.customCommand(e,function(){a.css("text-indent","2em")})):e.preventDefault()},s.clickEventSelected=function(e){var a,i=n.getRangeElem(),s=n.getSelfOrParentByName(i,"p");return s?(a=t(s),void n.customCommand(e,function(){a.css("text-indent","0")})):e.preventDefault()},s.updateSelectedEvent=function(){var e,a,i=n.getRangeElem(),s=n.getSelfOrParentByName(i,"p");return!(!s||(e=t(s),!(a=e.css("text-indent"))||"0px"===a))},n.menus[i]=s}})}),t(function(e,t){e.createMenu(function(a){var i="lineheight";if(a(i)){var n=this;n.commandHooks.lineHeight=function(e){var a=n.getRangeElem(),i=n.getSelfOrParentByName(a,"p,h1,h2,h3,h4,h5,pre");i&&t(i).css("line-height",e+"")};var s=new e.Menu({editor:n,id:i,title:"行高",commandName:"lineHeight",$domNormal:t('<a href="#" tabindex="-1"><i class="wangeditor-menu-img-arrows-v"></i></a>'),$domSelected:t('<a href="#" tabindex="-1" class="selected"><i class="wangeditor-menu-img-arrows-v"></i></a>')}),o={"1.0":"1.0倍",1.5:"1.5倍",1.8:"1.8倍","2.0":"2.0倍",2.5:"2.5倍","3.0":"3.0倍"};s.dropList=new e.DropList(n,s,{data:o,tpl:'<span style="line-height:{#commandValue}">{#title}</span>'}),n.menus[i]=s}})}),t(function(e,t){e.plugin(function(){var a=this;if(a.config.customUpload){if(a.config.uploadImgUrl)return cFunYdj.alertMoni("自定义上传无效，详看浏览器日志console.log"),void e.error("已经配置了 uploadImgUrl ，就不能再配置 customUpload ，两者冲突。将导致自定义上传无效。");var i=a.$uploadContent;i||e.error("自定义上传，无法获取 editor.$uploadContent");var n=t('<div class="upload-icon-container"><i class="wangeditor-menu-img-upload"></i></div>');i.append(n);var s="upload"+e.random(),o="upload"+e.random();n.attr("id",s),i.attr("id",o),a.customUploadBtnId=s,a.customUploadContainerId=o}})}),t(function(e,t){}),window.wangEditor}cFunYdj.alertMoni("在引用wangEditor.js之前，先引用jQuery，否则无法使用 wangEditor")});var pageEditHtml=null,message=null,serverPath=null,merCode=null;$(function(){location.href.indexOf("wxactive")>=0&&$(".main-left .sidenav li:eq(4)").addClass("selected").find("a").addClass("selected"),void 0!=message&&null!=message&&($(".turnPage").length>0&&$(".turnPage").pager({pageIndex:message.pageIndex,pageCount:message.pageCount,totalCount:message.totalCount,pageSize:message.pageSize,queryData:{},returnFun:selwxCardAjax}),getWXActivePagesetting(message)),null!=pageEditHtml&&creatPage(pageEditHtml),$("#selectLink").length>0&&initInsideUrls(cFunYdj.getWXUrl(merCode,serverPath))});var format=function(e,t){var a=new Date(e),i=function(e){return(e<10?"0":"")+e};return t.replace(/yyyy|MM|dd|HH|mm|ss/g,function(e){switch(e){case"yyyy":return i(a.getFullYear());case"MM":return i(a.getMonth()+1);case"mm":return i(a.getMinutes());case"dd":return i(a.getDate());case"HH":return i(a.getHours());case"ss":return i(a.getSeconds())}})};$(function(){$("body").delegate(".saveUserDefinHtmlModel span","click",function(e){if(!cfm.addyanzheng())return!1;addWXActivePagesetting()}),$("body").delegate(".selectCouponExit","click",function(e){var t={},a=$("#search").val();""!=a&&(t={keyword:a}),getCouponListAjax(t)}),$("body").delegate("#searchCoupon","click",function(e){var t={},a=$("#search").val();""!=a&&(t={keyword:a}),getCouponListAjax(t)}),$("body").delegate(".selectGoodsExit","click",function(e){var t=$("#search0").val(),a={};a.goodsearchkeyKey=t,ajaxproductlist(a)}),$("body").delegate("#searchGoods","click",function(e){var t=$("#search0").val(),a={};a.goodsearchkeyKey=t,ajaxproductlist(a)}),$("body").delegate(".pageLink","click",function(e){var t=$(this).attr("page_href");prompt("请按ctrl+c复制:",t)}),$("body").delegate(".selectUrl_self_page","click",function(e){getCostomPageListAjax({})}),$("body").delegate(".sel_urls","click",function(e){getCostomPageListAjax({})}),$("body").delegate(".sel_gurls","click",function(e){getGoodsListAjax({})}),$("body").delegate("#searchGoodUrl","click",function(e){var t=$("#searchGoodsKeywords").val(),a={};a.goodsearchkeyKey=t,getGoodsListAjax(a)})});